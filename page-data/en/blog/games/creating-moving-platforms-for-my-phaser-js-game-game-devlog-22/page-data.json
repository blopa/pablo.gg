{
    "componentChunkName": "component---src-templates-blog-post-jsx",
    "path": "/en/blog/games/creating-moving-platforms-for-my-phaser-js-game-game-devlog-22/",
    "result": {"data":{"site":{"siteMetadata":{"siteUrl":"https://pablo.gg"}},"markdownRemark":{"id":"cc17c33b-941f-5afe-a50c-eabc7d33c5e9","excerpt":"Hello everyone, welcome to another game devlog for my game Super Ollie, and after almost a whole year of development Iâ€™m finally tackling something that everyâ€¦","html":"<p>Hello everyone, welcome to another game devlog for my game <a href=\"/en/blog/tags/super-ollie-vs-pebble-corp/\">Super Ollie</a>, and after almost a whole year of development Iâ€™m finally tackling something that every platformer must have: Moving platforms.</p>\n<blockquote>\n<p>A platformer needs platforms.</p>\n<p>â€” Sherlock Holmes, 600 BC</p>\n</blockquote>\n<h2 id=\"defining-platforms-types\" style=\"position:relative;\"><a href=\"#defining-platforms-types\" aria-label=\"defining platforms types permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Defining platforms types</h2>\n<p>There are many types of moving platforms, but for my game, I decided to stick to 6 different types for now. I hope youâ€™re ready because this is going to be a big devlog ðŸ˜¬.</p>\n<h3 id=\"platforms-that-follow-a-path\" style=\"position:relative;\"><a href=\"#platforms-that-follow-a-path\" aria-label=\"platforms that follow a path permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that follow a path</h3>\n<p><img src=\"/a88d748f2631b39eb30f0d9a71c15bd0/follow-path-platforms.gif\" alt=\"Follow path platform\"></p>\n<p>Platforms that will follow a certain path drawn on Tiled.</p>\n<h3 id=\"platforms-that-move-in-a-circular-path\" style=\"position:relative;\"><a href=\"#platforms-that-move-in-a-circular-path\" aria-label=\"platforms that move in a circular path permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that move in a circular path</h3>\n<p><img src=\"/d33ebf38eb85bc1b909bce1a9d738d25/circular-moving-platforms.gif\" alt=\"Circular movement platforms\"></p>\n<p>Platforms that follow a circular movement based on a circle drawn on Tiled.</p>\n<h3 id=\"platforms-that-vanish\" style=\"position:relative;\"><a href=\"#platforms-that-vanish\" aria-label=\"platforms that vanish permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that vanish</h3>\n<p><img src=\"/d17bbf2a646e7454c244b81a3ff99a2b/vanishing-platforms.gif\" alt=\"Vanishing platform\"></p>\n<p>Platforms that will fall/vanish after a couple of seconds of the hero getting on top of them.</p>\n<h3 id=\"platforms-that-fall\" style=\"position:relative;\"><a href=\"#platforms-that-fall\" aria-label=\"platforms that fall permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that fall</h3>\n<p><img src=\"/b11eeca824a2777a98d3cd0af5fbd61e/falling-platforms.gif\" alt=\"Falling platform\"></p>\n<p>Platforms that will start to slowly fall when the hero is on top of them.</p>\n<h3 id=\"elevator-platforms\" style=\"position:relative;\"><a href=\"#elevator-platforms\" aria-label=\"elevator platforms permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elevator platforms</h3>\n<p><img src=\"/162baeeff3a562abdd131484843f6629/elevator-platform.gif\" alt=\"Elevator platform\"></p>\n<p>Platforms that will move up and down like an elevator, and will only trigger the movement once the hero is on top of them.</p>\n<h3 id=\"looping-platforms\" style=\"position:relative;\"><a href=\"#looping-platforms\" aria-label=\"looping platforms permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Looping platforms</h3>\n<p><img src=\"/2fb103477a8bdbb48189b8c070b8b541/looping-platforms.gif\" alt=\"Looping platforms\"></p>\n<p>Platforms that will constantly move vertically until it reaches the end of the stage and then loops back to the top.</p>\n<h2 id=\"the-code\" style=\"position:relative;\"><a href=\"#the-code\" aria-label=\"the code permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The code</h2>\n<p>I will start by adding a new if condition to my data layer objects loop, and an attribute called <code class=\"language-text\">platformAI</code> on the platform object on Tiled, so I can create different AIs/Types of platforms.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// in the scene create function</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">,</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platform'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> platformAI <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platformAI'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> velocity <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'velocity'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DEFAULT_PLATFORM_VELOCITY</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            velocity<span class=\"token punctuation\">,</span>\r\n            x<span class=\"token punctuation\">,</span>\r\n            y<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>platforms<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>With this base code in place, I can now start coding each of the different behaviors for the platforms.</p>\n<h2 id=\"path-follower\" style=\"position:relative;\"><a href=\"#path-follower\" aria-label=\"path follower permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Path follower</h2>\n<p>For this platform I will need to draw a path on Tiled and then make the platform follow it, and when I do that it comes as an array of positions like <code class=\"language-text\">[{ x: 1, y: 2 }, { x: 3, y: 6 }]</code>, and the idea is to get each of these positions and create a custom collider that when in contact with the platform will set its speed and direction.</p>\n<p>For that Iâ€™m going to need the <code class=\"language-text\">createInteractiveGameObject</code> function, that I showed on the <a href=\"/en/blog/games/creating-a-smarter-and-more-performing-ai-on-phaser-js-skate-platformer-game-devlog-15/\">devlog 15</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\r\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Get path from Tiled</span>\r\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> polylines</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// create a custom interactive object for each of the polyline points</span>\r\n            <span class=\"token keyword\">const</span> platformCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n                platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\r\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'platform_collider'</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set custom properties for the collider</span>\r\n        platformCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>nextPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>currentPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>previousPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// now create a collider for it</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> platformCollider<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>nextPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'backward'</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>previousPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n                nextPoint<span class=\"token punctuation\">,</span>\r\n                currentPoint<span class=\"token punctuation\">,</span>\r\n                previousPoint<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platformCollider<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> nextPos <span class=\"token operator\">=</span> direction <span class=\"token operator\">===</span> <span class=\"token string\">'forward'</span> <span class=\"token operator\">?</span> nextPoint <span class=\"token operator\">:</span> previousPoint<span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> newVelocity <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocity</span><span class=\"token punctuation\">(</span>\r\n                newVelocity<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                newVelocity<span class=\"token punctuation\">.</span>y\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// Create collider for player and platform</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"circular-path\" style=\"position:relative;\"><a href=\"#circular-path\" aria-label=\"circular path permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Circular path</h2>\n<p>This one was the toughest to create, because I needed some knowledge on basic circular motion physics, in which I had none ðŸ˜… and I wanted to be able to choose the speed and direction of the spin on Tiled.</p>\n<p>So I asked my girlfriend for help since she has a degree in engineer, but she knew so much, and I knew so little, that it was a hard conversation but in the end, I managed to do it with her help.</p>\n<p>The base rotation formulas are the following:</p>\n<blockquote>\n<p>radius = circleDiameter / 2</p>\n<p>secondsPerRotation = gravity / velocity</p>\n<p>angularSpeed = 360 / secondsPerRotation</p>\n<p>speed = (radius * (Ï€ * 2)) / secondsPerRotation</p>\n</blockquote>\n<p>The trick is to create a dummy object and set a spin on it with the <code class=\"language-text\">setAngularVelocity</code> function, then copy the velocity from the dummy object to the platform using the <code class=\"language-text\">velocityFromRotation</code> function.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> direction <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'direction'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DIRECTION_RIGHT</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> platformCircularPath <span class=\"token operator\">=</span> dataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>ellipse\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> platformCircularPath<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set platform position to the top of the circle to start the rotation</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// This is where the magic happens</span>\r\n        <span class=\"token comment\">// I honestly have no idea why this works, but it works</span>\r\n        <span class=\"token keyword\">const</span> secondsPerRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">/</span> velocity<span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// increase angular speed, decreases radius</span>\r\n        <span class=\"token keyword\">const</span> angularSpeed <span class=\"token operator\">=</span> <span class=\"token number\">360</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// increase speed, increase radius</span>\r\n        <span class=\"token keyword\">const</span> speed <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create a dummy object to create the base rotation physics</span>\r\n        <span class=\"token keyword\">const</span> dummyRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\r\n            <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token number\">1</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxVelocity</span><span class=\"token punctuation\">(</span>speed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">===</span> <span class=\"token constant\">DIRECTION_LEFT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">// set the platform velocity to be equal to the one from the dummy object</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span><span class=\"token function\">velocityFromRotation</span><span class=\"token punctuation\">(</span>\r\n                PhaserMath<span class=\"token punctuation\">.</span><span class=\"token function\">DegToRad</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                speed<span class=\"token punctuation\">,</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// Create collider for player and platform</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"vanishing\" style=\"position:relative;\"><a href=\"#vanishing\" aria-label=\"vanishing permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vanishing</h2>\n<p>This one is simple, I will just create a collider that when the player touches the upper part of the platform, I will set a timer for the platform to vanish and a timer for the platform to show up again.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> originalCheckCollision <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token operator\">...</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformReapearingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision <span class=\"token operator\">=</span> originalCheckCollision<span class=\"token punctuation\">;</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\r\n                platformX<span class=\"token punctuation\">,</span>\r\n                platformY\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformVanishingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>\r\n                platformReapearingCallback\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>isTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> platformX<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\r\n                platformVanishingCallback\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            colliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"falling\" style=\"position:relative;\"><a href=\"#falling\" aria-label=\"falling permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Falling</h2>\n<p>For this one, I will need an <code class=\"language-text\">update</code> function for my platform to make it slowly come back up after the player is no longer on top of it. As for the rest, it is pretty much the same as the vanishing platforms.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// get initial position of the platform</span>\r\n        <span class=\"token comment\">// to reset it to</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> platformY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>\r\n                        <span class=\"token operator\">-</span>platform<span class=\"token punctuation\">.</span>velocity\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token comment\">// reset platform to original position</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platformY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"elevator\" style=\"position:relative;\"><a href=\"#elevator\" aria-label=\"elevator permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elevator</h2>\n<p>The elevator platform needs a lot of code to create all the features that I wanted. Those are:</p>\n<ul>\n<li>When the player steps on the platform, it will move up/down and then stop.</li>\n<li>If the player jumps and steps back into the platform, it will trigger the move again.</li>\n<li>If the platform is not at the same level as the player when the player approaches the platform, it should move to the player.</li>\n</ul>\n<p>For that, I need one custom collider in the ground, that will trigger the platform to come down when it is up, a custom collider in the upper level to trigger the platform to go up when it is down, and an <code class=\"language-text\">update</code> function to determine if the platform should be triggered or not when the player is on top of it.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// get path from Tiled</span>\r\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> combinedDataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// get base positions</span>\r\n        <span class=\"token keyword\">const</span> groundFloorPosY <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> secondFloorPosY <span class=\"token operator\">=</span> platformY <span class=\"token operator\">+</span> platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// create ground object custom collider</span>\r\n        <span class=\"token keyword\">const</span> elevatorGroundCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'ground-collider'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorGroundColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            elevatorGroundCollider<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            elevatorGroundColliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create floor object custom collider</span>\r\n        <span class=\"token keyword\">const</span> elevatorFloorCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n            secondFloorPosY <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'floor-collider'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorFloorColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            elevatorFloorCollider<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            elevatorFloorColliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create the platform update function</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span>\r\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> groundFloorPosY\r\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> secondFloorPosY\r\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>groundFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>secondFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>wasTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            colliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"looping\" style=\"position:relative;\"><a href=\"#looping\" aria-label=\"looping permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Looping</h2>\n<p>Another easy one, I will just set the <code class=\"language-text\">y</code> velocity for it, and when itâ€™s off the map, I will reset it to the top of the map.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> mapSize<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And thatâ€™s itâ€¦ or is itâ€¦?</p>\n<h2 id=\"the-problem\" style=\"position:relative;\"><a href=\"#the-problem\" aria-label=\"the problem permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The problem</h2>\n<p>If you just copied all this code into your own game and went ahead to test it, you will notice that the player is in a constant falling state when the platform is moving downwards.</p>\n<p><img src=\"/7626d6ac4f2d1e65f22f9d2d613332c1/player-glitching-platforms.gif\" alt=\"Jump jump jump ju-ju-jump â™«\"></p>\n<p>This happens because the acceleration of the player is slower than the platformâ€™s, to fix this I will make a very hacky solution, make the playerâ€™s gravity around 10 times stronger when they are on top of a platform ðŸ˜¬.</p>\n<h2 id=\"the-solution\" style=\"position:relative;\"><a href=\"#the-solution\" aria-label=\"the solution permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The solution</h2>\n<p>First I will add a new property to the platforms called <code class=\"language-text\">changeHeroPhysics</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">changeHeroPhysics</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n    velocity<span class=\"token punctuation\">,</span>\r\n    x<span class=\"token punctuation\">,</span>\r\n    y<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Then in the player <code class=\"language-text\">update</code> function, I will add a check to see if the player is touching an object with the property <code class=\"language-text\">changeHeroPhysics</code> set to true and if so, increase the playerâ€™s gravity.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>changeHeroPhysics<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> platformVelocityY <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>body<span class=\"token operator\">?.</span>velocity<span class=\"token operator\">?.</span>y<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> gravity <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n            gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">/</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// eslint-disable-next-line no-lonely-if</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// set back original gravity to the hero</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"wrap-up\" style=\"position:relative;\"><a href=\"#wrap-up\" aria-label=\"wrap up permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Wrap up</h2>\n<p>There you go, a huge list of super useful platforms for your Phaser platformer game. Please let me know if I missed any types of platforms and I might add them to the list in the future.</p>\n<p>Have a good one and happy coding!</p>","fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDgtMjhUMDA6MDA6MDAuMDAwWg==","slug":"/2021/2021-08-28-creating-moving-platforms-for-my-phaser-js-game-game-devlog-22.en/","path":"/blog/games/creating-moving-platforms-for-my-phaser-js-game-game-devlog-22/","locale":"en"},"readingTime":{"minutes":10.3},"frontmatter":{"path":"creating-moving-platforms-for-my-phaser-js-game-game-devlog-22","allowComments":true,"title":"Creating moving platforms for my Phaser JS game - Game Devlog #22","date":"2021-08-28T00:00:00.000Z","categories":["games"],"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","moving platforms","platforms"],"hideExcerpt":false,"subtitle":""}},"categoryImage":{"childImageSharp":{"original":{"width":1920,"height":1080,"src":"/static/categories_games-45dce0594b4828053338793f21283cda.jpg"}}}},"pageContext":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDgtMjhUMDA6MDA6MDAuMDAwWg==","relatedPosts":[{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDktMDlUMDA6MDA6MDAuMDAwWg==","slug":"/2021/2021-09-09-creating-a-mobile-build-of-my-phaser-js-game-game-devlog-23.en/","path":"/blog/games/creating-a-mobile-build-of-my-phaser-js-game-game-devlog-23/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","mobile","android","mobile build"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2021-09-09T00:00:00.000Z","id":null,"path":"creating-a-mobile-build-of-my-phaser-js-game-game-devlog-23","show":true,"title":"Creating a mobile build of my Phaser JS game - Game Devlog #23","hideExcerpt":false,"subtitle":""}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDctMDZUMDA6MDA6MDAuMDAwWg==","slug":"/2021/2021-07-06-hiding-parts-of-the-map-on-phaser-js-game-devlog-21.en/","path":"/blog/games/hiding-parts-of-the-map-on-phaser-js-game-devlog-21/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","metroidvania"],"categories":["games"],"allowComments":true,"publishOnMedium":null,"cover":null,"date":"2021-07-06T00:00:00.000Z","id":null,"path":"hiding-parts-of-the-map-on-phaser-js-game-devlog-21","show":true,"title":"Hiding parts of the map on Phaser JS - Game Devlog #21","hideExcerpt":null,"subtitle":null}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDYtMjhUMDA6MDA6MDAuMDAwWg==","slug":"/2021/2021-06-28-creating-falling-spikes-with-phaser-js-game-devlog-20.en/","path":"/blog/games/creating-falling-spikes-with-phaser-js-game-devlog-20/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled"],"categories":["games"],"allowComments":true,"publishOnMedium":null,"cover":null,"date":"2021-06-28T00:00:00.000Z","id":null,"path":"creating-falling-spikes-with-phaser-js-game-devlog-20","show":true,"title":"Creating falling spikes with Phaser JS - Game Devlog #20","hideExcerpt":null,"subtitle":null}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDYtMTlUMDA6MDA6MDAuMDAwWg==","slug":"/2021/2021-06-19-hanging-on-a-monkey-bar-on-phaser-js-game-devlog-19.en/","path":"/blog/games/hanging-on-a-monkey-bar-on-phaser-js-game-devlog-19/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","monkey bar"],"categories":["games"],"allowComments":true,"publishOnMedium":null,"cover":null,"date":"2021-06-19T00:00:00.000Z","id":null,"path":"hanging-on-a-monkey-bar-on-phaser-js-game-devlog-19","show":true,"title":"Hanging on a monkey bar Phaser JS - Game Devlog #19","hideExcerpt":null,"subtitle":null}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDQtMjRUMDA6MDA6MDAuMDAwWg==","slug":"/2021/2021-04-24-creating-a-pogo-attack-with-phaser-js-game-devlog-17.en/","path":"/blog/games/creating-a-pogo-attack-with-phaser-js-game-devlog-17/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2021-04-24T00:00:00.000Z","id":null,"path":"creating-a-pogo-attack-with-phaser-js-game-devlog-17","show":true,"title":"Creating a pogo-attack with Phaser JS - Game Devlog #17","hideExcerpt":false,"subtitle":""}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjAtMTItMjlUMDA6MDA6MDAuMDAwWg==","slug":"/2020/2020-29-12-adding-transition-when-entering-a-stage-on-phaser-js-skate-platformer-game-devlog-16.en/","path":"/blog/games/adding-transition-when-entering-a-stage-on-phaser-js-skate-platformer-game-devlog-16/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2020-12-29T00:00:00.000Z","id":null,"path":"adding-transition-when-entering-a-stage-on-phaser-js-skate-platformer-game-devlog-16","show":true,"title":"Adding transition when entering a stage on Phaser JS - Game Devlog #16","hideExcerpt":false,"subtitle":""}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjAtMTItMTVUMDA6MDA6MDAuMDAwWg==","slug":"/2020/2020-15-12-creating-a-smarter-and-more-performing-ai-on-phaser-js-skate-platformer-game-devlog-15.en/","path":"/blog/games/creating-a-smarter-and-more-performing-ai-on-phaser-js-skate-platformer-game-devlog-15/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","cyberpunk 2077","stadia","ai"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2020-12-15T00:00:00.000Z","id":null,"path":"creating-a-smarter-and-more-performing-ai-on-phaser-js-skate-platformer-game-devlog-15","show":true,"title":"Creating a smarter and more performing AI on Phaser JS - Game Devlog #15","hideExcerpt":false,"subtitle":""}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjAtMTItMDlUMDA6MDA6MDAuMDAwWg==","slug":"/2020/2020-09-12-creating-custom-weather-on-phaser-js-skate-platformer-game-devlog-14.en/","path":"/blog/games/creating-custom-weather-on-phaser-js-skate-platformer-game-devlog-14/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","hyrule warriors","weather","rain"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2020-12-09T00:00:00.000Z","id":null,"path":"creating-custom-weather-on-phaser-js-skate-platformer-game-devlog-14","show":true,"title":"Creating custom weather on Phaser JS - Skate Platformer Game Devlog #14","hideExcerpt":false,"subtitle":""}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjAtMTEtMjlUMDA6MDA6MDAuMDAwWg==","slug":"/2020/2020-29-11-creating-a-loading-screen-and-adding-translation-on-phaser-js-skate-platformer-game-devlog-13.en/","path":"/blog/games/creating-a-loading-screen-and-adding-translation-on-phaser-js-skate-platformer-game-devlog-13/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","i18next","translation","hyrule warriors"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2020-11-29T00:00:00.000Z","id":null,"path":"creating-a-loading-screen-and-adding-translation-on-phaser-js-skate-platformer-game-devlog-13","show":true,"title":"Creating a loading screen and adding translation on Phaser JS - Skate Platformer Game Devlog #13","hideExcerpt":false,"subtitle":""}},{"fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjAtMTEtMTlUMDA6MDA6MDAuMDAwWg==","slug":"/2020/2020-19-11-saving-player-progress-with-checkpoints-with-phaser-js-skate-platformer-game-devlog-12.en/","path":"/blog/games/saving-player-progress-with-checkpoints-with-phaser-js-skate-platformer-game-devlog-12/","locale":"en"},"frontmatter":{"tags":["coding","games","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","hyrule warriors"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2020-11-19T00:00:00.000Z","id":null,"path":"saving-player-progress-with-checkpoints-with-phaser-js-skate-platformer-game-devlog-12","show":true,"title":"Saving player progress with checkpoints with Phaser JS - Skate Platformer Game Devlog #12","hideExcerpt":false,"subtitle":""}}],"alternativeHtml":"<p>Hello everyone, welcome to another game devlog for my game <a href=\"/en/blog/tags/super-ollie-vs-pebble-corp/\">Super Ollie</a>, and after almost a whole year of development Iâ€™m finally tackling something that every platformer must have: Moving platforms.</p>\n<blockquote>\n<p>A platformer needs platforms.</p>\n<p>â€” Sherlock Holmes, 600 BC</p>\n</blockquote>\n<h2 id=\"defining-platforms-types\" style=\"position:relative;\"><a href=\"#defining-platforms-types\" aria-label=\"defining platforms types permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Defining platforms types</h2>\n<p>There are many types of moving platforms, but for my game, I decided to stick to 6 different types for now. I hope youâ€™re ready because this is going to be a big devlog ðŸ˜¬.</p>\n<h3 id=\"platforms-that-follow-a-path\" style=\"position:relative;\"><a href=\"#platforms-that-follow-a-path\" aria-label=\"platforms that follow a path permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that follow a path</h3>\n<p><img src=\"/a88d748f2631b39eb30f0d9a71c15bd0/follow-path-platforms.gif\" alt=\"Follow path platform\"></p>\n<p>Platforms that will follow a certain path drawn on Tiled.</p>\n<h3 id=\"platforms-that-move-in-a-circular-path\" style=\"position:relative;\"><a href=\"#platforms-that-move-in-a-circular-path\" aria-label=\"platforms that move in a circular path permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that move in a circular path</h3>\n<p><img src=\"/d33ebf38eb85bc1b909bce1a9d738d25/circular-moving-platforms.gif\" alt=\"Circular movement platforms\"></p>\n<p>Platforms that follow a circular movement based on a circle drawn on Tiled.</p>\n<h3 id=\"platforms-that-vanish\" style=\"position:relative;\"><a href=\"#platforms-that-vanish\" aria-label=\"platforms that vanish permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that vanish</h3>\n<p><img src=\"/d17bbf2a646e7454c244b81a3ff99a2b/vanishing-platforms.gif\" alt=\"Vanishing platform\"></p>\n<p>Platforms that will fall/vanish after a couple of seconds of the hero getting on top of them.</p>\n<h3 id=\"platforms-that-fall\" style=\"position:relative;\"><a href=\"#platforms-that-fall\" aria-label=\"platforms that fall permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Platforms that fall</h3>\n<p><img src=\"/b11eeca824a2777a98d3cd0af5fbd61e/falling-platforms.gif\" alt=\"Falling platform\"></p>\n<p>Platforms that will start to slowly fall when the hero is on top of them.</p>\n<h3 id=\"elevator-platforms\" style=\"position:relative;\"><a href=\"#elevator-platforms\" aria-label=\"elevator platforms permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elevator platforms</h3>\n<p><img src=\"/162baeeff3a562abdd131484843f6629/elevator-platform.gif\" alt=\"Elevator platform\"></p>\n<p>Platforms that will move up and down like an elevator, and will only trigger the movement once the hero is on top of them.</p>\n<h3 id=\"looping-platforms\" style=\"position:relative;\"><a href=\"#looping-platforms\" aria-label=\"looping platforms permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Looping platforms</h3>\n<p><img src=\"/2fb103477a8bdbb48189b8c070b8b541/looping-platforms.gif\" alt=\"Looping platforms\"></p>\n<p>Platforms that will constantly move vertically until it reaches the end of the stage and then loops back to the top.</p>\n<h2 id=\"the-code\" style=\"position:relative;\"><a href=\"#the-code\" aria-label=\"the code permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The code</h2>\n<p>I will start by adding a new if condition to my data layer objects loop, and an attribute called <code class=\"language-text\">platformAI</code> on the platform object on Tiled, so I can create different AIs/Types of platforms.</p>\n<div class=\"copy-code-block\"><button tabindex=\"0\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// in the scene create function</span>\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">,</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platform'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> platformAI <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platformAI'</span>\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> velocity <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'velocity'</span>\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DEFAULT_PLATFORM_VELOCITY</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n            velocity<span class=\"token punctuation\">,</span>\n            x<span class=\"token punctuation\">,</span>\n            y<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>platforms<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// TODO</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// TODO</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// TODO</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// TODO</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// TODO</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// TODO</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div></div>\n<p>With this base code in place, I can now start coding each of the different behaviors for the platforms.</p>\n<h2 id=\"path-follower\" style=\"position:relative;\"><a href=\"#path-follower\" aria-label=\"path follower permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Path follower</h2>\n<p>For this platform I will need to draw a path on Tiled and then make the platform follow it, and when I do that it comes as an array of positions like <code class=\"language-text\">[{ x: 1, y: 2 }, { x: 3, y: 6 }]</code>, and the idea is to get each of these positions and create a custom collider that when in contact with the platform will set its speed and direction.</p>\n<p>For that Iâ€™m going to need the <code class=\"language-text\">createInteractiveGameObject</code> function, that I showed on the <a href=\"/en/blog/games/creating-a-smarter-and-more-performing-ai-on-phaser-js-skate-platformer-game-devlog-15/\">devlog 15</a>.</p>\n<div class=\"copy-code-block\"><button tabindex=\"1\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Get path from Tiled</span>\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> polylines</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// create a custom interactive object for each of the polyline points</span>\n            <span class=\"token keyword\">const</span> platformCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n                platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n                platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'platform_collider'</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// set custom properties for the collider</span>\n        platformCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        platformCollider<span class=\"token punctuation\">.</span>nextPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        platformCollider<span class=\"token punctuation\">.</span>currentPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        platformCollider<span class=\"token punctuation\">.</span>previousPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token comment\">// now create a collider for it</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> platformCollider<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>nextPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'backward'</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>previousPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n                nextPoint<span class=\"token punctuation\">,</span>\n                currentPoint<span class=\"token punctuation\">,</span>\n                previousPoint<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platformCollider<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> nextPos <span class=\"token operator\">=</span> direction <span class=\"token operator\">===</span> <span class=\"token string\">'forward'</span> <span class=\"token operator\">?</span> nextPoint <span class=\"token operator\">:</span> previousPoint<span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">const</span> newVelocity <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">&gt;</span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&gt;</span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocity</span><span class=\"token punctuation\">(</span>\n                newVelocity<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n                newVelocity<span class=\"token punctuation\">.</span>y\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token comment\">// Create collider for player and platform</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<h2 id=\"circular-path\" style=\"position:relative;\"><a href=\"#circular-path\" aria-label=\"circular path permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Circular path</h2>\n<p>This one was the toughest to create, because I needed some knowledge on basic circular motion physics, in which I had none ðŸ˜… and I wanted to be able to choose the speed and direction of the spin on Tiled.</p>\n<p>So I asked my girlfriend for help since she has a degree in engineer, but she knew so much, and I knew so little, that it was a hard conversation but in the end, I managed to do it with her help.</p>\n<p>The base rotation formulas are the following:</p>\n<blockquote>\n<p>radius = circleDiameter / 2</p>\n<p>secondsPerRotation = gravity / velocity</p>\n<p>angularSpeed = 360 / secondsPerRotation</p>\n<p>speed = (radius * (Ï€ * 2)) / secondsPerRotation</p>\n</blockquote>\n<p>The trick is to create a dummy object and set a spin on it with the <code class=\"language-text\">setAngularVelocity</code> function, then copy the velocity from the dummy object to the platform using the <code class=\"language-text\">velocityFromRotation</code> function.</p>\n<div class=\"copy-code-block\"><button tabindex=\"2\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> direction <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'direction'</span>\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DIRECTION_RIGHT</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> platformCircularPath <span class=\"token operator\">=</span> dataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>ellipse\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> platformCircularPath<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// set platform position to the top of the circle to start the rotation</span>\n        platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// This is where the magic happens</span>\n        <span class=\"token comment\">// I honestly have no idea why this works, but it works</span>\n        <span class=\"token keyword\">const</span> secondsPerRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">/</span> velocity<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// increase angular speed, decreases radius</span>\n        <span class=\"token keyword\">const</span> angularSpeed <span class=\"token operator\">=</span> <span class=\"token number\">360</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// increase speed, increase radius</span>\n        <span class=\"token keyword\">const</span> speed <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// create a dummy object to create the base rotation physics</span>\n        <span class=\"token keyword\">const</span> dummyRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\n            <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxVelocity</span><span class=\"token punctuation\">(</span>speed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">===</span> <span class=\"token constant\">DIRECTION_LEFT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">// set the platform velocity to be equal to the one from the dummy object</span>\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span><span class=\"token function\">velocityFromRotation</span><span class=\"token punctuation\">(</span>\n                PhaserMath<span class=\"token punctuation\">.</span><span class=\"token function\">DegToRad</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                speed<span class=\"token punctuation\">,</span>\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Create collider for player and platform</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<h2 id=\"vanishing\" style=\"position:relative;\"><a href=\"#vanishing\" aria-label=\"vanishing permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vanishing</h2>\n<p>This one is simple, I will just create a collider that when the player touches the upper part of the platform, I will set a timer for the platform to vanish and a timer for the platform to show up again.</p>\n<div class=\"copy-code-block\"><button tabindex=\"3\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> originalCheckCollision <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token operator\">...</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformReapearingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision <span class=\"token operator\">=</span> originalCheckCollision<span class=\"token punctuation\">;</span>\n\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\n                platformX<span class=\"token punctuation\">,</span>\n                platformY\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformVanishingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\n                <span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>\n                platformReapearingCallback\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>isTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> platformX<span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\n                <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n                platformVanishingCallback\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\n            platform<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\n            colliderCallback\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<h2 id=\"falling\" style=\"position:relative;\"><a href=\"#falling\" aria-label=\"falling permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Falling</h2>\n<p>For this one, I will need an <code class=\"language-text\">update</code> function for my platform to make it slowly come back up after the player is no longer on top of it. As for the rest, it is pretty much the same as the vanishing platforms.</p>\n<div class=\"copy-code-block\"><button tabindex=\"4\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// get initial position of the platform</span>\n        <span class=\"token comment\">// to reset it to</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\n\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&gt;</span> platformY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>\n                        <span class=\"token operator\">-</span>platform<span class=\"token punctuation\">.</span>velocity\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\">// reset platform to original position</span>\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platformY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\n            platform<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<h2 id=\"elevator\" style=\"position:relative;\"><a href=\"#elevator\" aria-label=\"elevator permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elevator</h2>\n<p>The elevator platform needs a lot of code to create all the features that I wanted. Those are:</p>\n<ul>\n<li>When the player steps on the platform, it will move up/down and then stop.</li>\n<li>If the player jumps and steps back into the platform, it will trigger the move again.</li>\n<li>If the platform is not at the same level as the player when the player approaches the platform, it should move to the player.</li>\n</ul>\n<p>For that, I need one custom collider in the ground, that will trigger the platform to come down when it is up, a custom collider in the upper level to trigger the platform to go up when it is down, and an <code class=\"language-text\">update</code> function to determine if the platform should be triggered or not when the player is on top of it.</p>\n<div class=\"copy-code-block\"><button tabindex=\"5\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// get path from Tiled</span>\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> combinedDataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// get base positions</span>\n        <span class=\"token keyword\">const</span> groundFloorPosY <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> secondFloorPosY <span class=\"token operator\">=</span> platformY <span class=\"token operator\">+</span> platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\n        \n        <span class=\"token comment\">// create ground object custom collider</span>\n        <span class=\"token keyword\">const</span> elevatorGroundCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\n            platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">,</span>\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'ground-collider'</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorGroundColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\n            elevatorGroundCollider<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\n            elevatorGroundColliderCallback\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// create floor object custom collider</span>\n        <span class=\"token keyword\">const</span> elevatorFloorCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\n            secondFloorPosY <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'floor-collider'</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorFloorColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&gt;=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\n            elevatorFloorCollider<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\n            elevatorFloorColliderCallback\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// create the platform update function</span>\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span>\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> groundFloorPosY\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&gt;</span> secondFloorPosY\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&gt;=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>groundFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>secondFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>wasTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&gt;=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\n            platform<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\n            colliderCallback\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<h2 id=\"looping\" style=\"position:relative;\"><a href=\"#looping\" aria-label=\"looping permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Looping</h2>\n<p>Another easy one, I will just set the <code class=\"language-text\">y</code> velocity for it, and when itâ€™s off the map, I will reset it to the top of the map.</p>\n<div class=\"copy-code-block\"><button tabindex=\"6\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;</span> mapSize<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<p>And thatâ€™s itâ€¦ or is itâ€¦?</p>\n<h2 id=\"the-problem\" style=\"position:relative;\"><a href=\"#the-problem\" aria-label=\"the problem permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The problem</h2>\n<p>If you just copied all this code into your own game and went ahead to test it, you will notice that the player is in a constant falling state when the platform is moving downwards.</p>\n<p><img src=\"/7626d6ac4f2d1e65f22f9d2d613332c1/player-glitching-platforms.gif\" alt=\"Jump jump jump ju-ju-jump â™«\"></p>\n<p>This happens because the acceleration of the player is slower than the platformâ€™s, to fix this I will make a very hacky solution, make the playerâ€™s gravity around 10 times stronger when they are on top of a platform ðŸ˜¬.</p>\n<h2 id=\"the-solution\" style=\"position:relative;\"><a href=\"#the-solution\" aria-label=\"the solution permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The solution</h2>\n<p>First I will add a new property to the platforms called <code class=\"language-text\">changeHeroPhysics</code>:</p>\n<div class=\"copy-code-block\"><button tabindex=\"7\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">changeHeroPhysics</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n    velocity<span class=\"token punctuation\">,</span>\n    x<span class=\"token punctuation\">,</span>\n    y<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div></div>\n<p>Then in the player <code class=\"language-text\">update</code> function, I will add a check to see if the player is touching an object with the property <code class=\"language-text\">changeHeroPhysics</code> set to true and if so, increase the playerâ€™s gravity.</p>\n<div class=\"copy-code-block\"><button tabindex=\"8\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>changeHeroPhysics<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> platformVelocityY <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>body<span class=\"token operator\">?.</span>velocity<span class=\"token operator\">?.</span>y<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> gravity <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span>\n            <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n            gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">/</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// eslint-disable-next-line no-lonely-if</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// set back original gravity to the hero</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div></div>\n<h2 id=\"wrap-up\" style=\"position:relative;\"><a href=\"#wrap-up\" aria-label=\"wrap up permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Wrap up</h2>\n<p>There you go, a huge list of super useful platforms for your Phaser platformer game. Please let me know if I missed any types of platforms and I might add them to the list in the future.</p>\n<p>Have a good one and happy coding!</p>","otherLanguagesUrl":["/pt-br/blog/games/criando-plataformas-para-o-meu-jogo-em-phaser-js-game-devlog-22/"],"rss":{"title":"Creating moving platforms for my Phaser JS game - Game Devlog #22","description":"Creating moving platforms for my Phaser JS game - Game Devlog #22","date":"2021-08-28T00:00:00.000Z"},"images":["/a88d748f2631b39eb30f0d9a71c15bd0/follow-path-platforms.gif","/d33ebf38eb85bc1b909bce1a9d738d25/circular-moving-platforms.gif","/d17bbf2a646e7454c244b81a3ff99a2b/vanishing-platforms.gif","/b11eeca824a2777a98d3cd0af5fbd61e/falling-platforms.gif","/162baeeff3a562abdd131484843f6629/elevator-platform.gif","/2fb103477a8bdbb48189b8c070b8b541/looping-platforms.gif","/7626d6ac4f2d1e65f22f9d2d613332c1/player-glitching-platforms.gif"],"videos":[],"comments":[],"googleFormData":{"fvv":1,"pageHistory":0,"fbzx":"5566947645549549202","action":"e/1FAIpQLSeST_0jBnLKkEkXGpyx9LWrvV2a1-1F5dr-AcA4wn0BSRyPCw","title":"blog_comment","description":null,"fields":[{"label":"name","description":null,"type":"SHORT_ANSWER","id":"1953327618","required":true},{"label":"email","description":null,"type":"SHORT_ANSWER","id":"1309141965","required":false},{"label":"twitter","description":null,"type":"SHORT_ANSWER","id":"740186305","required":false},{"label":"comment","description":null,"type":"LONG_ANSWER","id":"1663940054","required":true},{"label":"post_path","description":null,"type":"SHORT_ANSWER","id":"1852628638","required":true}],"fieldsOrder":{"740186305":2,"1309141965":1,"1663940054":3,"1852628638":4,"1953327618":0}},"pageType":"blogPost","categoryImage":"/categories_games.jpg/","slug":"/2021/2021-08-28-creating-moving-platforms-for-my-phaser-js-game-game-devlog-22.en/","locale":"en","title":"Creating moving platforms for my Phaser JS game - Game Devlog #22","previous":{"excerpt":"Fala galera, bem-vindos a mais um devlog do meu jogo Superâ€¦","html":"<p>Fala galera, bem-vindos a mais um devlog do meu jogo <a href=\"/pt-br/blog/tags/super-ollie-vs-pebble-corp/\">Super Ollie</a>, e depois de quase um ano inteiro de desenvolvimento, estou finalmente tentando resolver algo que todo jogo de plataforma precisa ter: Plataformas.</p>\n<blockquote>\n<p>Um jogo de plataforma precisa de plataformas.</p>\n<p>â€” Sherlock Holmes, 600 BC</p>\n</blockquote>\n<h2 id=\"definindo-tipos-de-plataformas\" style=\"position:relative;\"><a href=\"#definindo-tipos-de-plataformas\" aria-label=\"definindo tipos de plataformas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Definindo tipos de plataformas</h2>\n<p>Existem vÃ¡rios tipos de plataformas, mas para o meu jogo, decidi ficar com 6 tipos diferentes por enquanto. Espero que vocÃª esteja pronto porque este serÃ¡ um grande devlog ðŸ˜¬.</p>\n<h3 id=\"plataformas-que-seguem-um-caminho\" style=\"position:relative;\"><a href=\"#plataformas-que-seguem-um-caminho\" aria-label=\"plataformas que seguem um caminho permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que seguem um caminho</h3>\n<p><img src=\"/a88d748f2631b39eb30f0d9a71c15bd0/follow-path-platforms.gif\" alt=\"Follow path platform\"></p>\n<p>Plataformas que seguirÃ£o um determinado caminho desenhado no Tiled.</p>\n<h3 id=\"plataformas-que-se-movem-em-um-caminho-circular\" style=\"position:relative;\"><a href=\"#plataformas-que-se-movem-em-um-caminho-circular\" aria-label=\"plataformas que se movem em um caminho circular permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que se movem em um caminho circular</h3>\n<p><img src=\"/d33ebf38eb85bc1b909bce1a9d738d25/circular-moving-platforms.gif\" alt=\"Circular movement platforms\"></p>\n<p>Plataformas que seguem um movimento circular baseado em um cÃ­rculo desenhado em Tiled.</p>\n<h3 id=\"plataformas-que-desaparecem\" style=\"position:relative;\"><a href=\"#plataformas-que-desaparecem\" aria-label=\"plataformas que desaparecem permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que desaparecem</h3>\n<p><img src=\"/d17bbf2a646e7454c244b81a3ff99a2b/vanishing-platforms.gif\" alt=\"Plataformas que desaparecem\"></p>\n<p>Plataformas que desaparecem alguns segundos apÃ³s o herÃ³i subir nelas.</p>\n<h3 id=\"plataformas-que-caem\" style=\"position:relative;\"><a href=\"#plataformas-que-caem\" aria-label=\"plataformas que caem permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que caem</h3>\n<p><img src=\"/b11eeca824a2777a98d3cd0af5fbd61e/falling-platforms.gif\" alt=\"Plataformas que caem\"></p>\n<p>Plataformas que comeÃ§arÃ£o a cair lentamente quando o herÃ³i estiver em cima delas.</p>\n<h3 id=\"plataformas-que-funcionam-como-um-elevador\" style=\"position:relative;\"><a href=\"#plataformas-que-funcionam-como-um-elevador\" aria-label=\"plataformas que funcionam como um elevador permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que funcionam como um elevador</h3>\n<p><img src=\"/162baeeff3a562abdd131484843f6629/elevator-platform.gif\" alt=\"Platforma elevador\"></p>\n<p>Plataformas que se movem para cima e para baixo como um elevador e sÃ³ acionam o movimento quando o herÃ³i estÃ¡ em cima delas.</p>\n<h3 id=\"plataformas-em-loop\" style=\"position:relative;\"><a href=\"#plataformas-em-loop\" aria-label=\"plataformas em loop permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas em loop</h3>\n<p><img src=\"/2fb103477a8bdbb48189b8c070b8b541/looping-platforms.gif\" alt=\"Plataformas em loop\"></p>\n<p>Plataformas que se movem constantemente na vertical atÃ© atingir o final do estÃ¡gio e entÃ£o voltam ao topo.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O cÃ³digo</h2>\n<p>Primeiro eu vou adicionar uma nova condiÃ§Ã£o no meu loop do <code class=\"language-text\">dataLayer</code> para lidar com o cÃ³digo de novas plataformas, e no Tiled vou um novo atributo chamado <code class=\"language-text\">platformAI</code> nas plataformas para que eu possa criar AIs / Tipos de plataformas diferentes.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// in the scene create function</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">,</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platform'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> platformAI <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platformAI'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> velocity <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'velocity'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DEFAULT_PLATFORM_VELOCITY</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            velocity<span class=\"token punctuation\">,</span>\r\n            x<span class=\"token punctuation\">,</span>\r\n            y<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>platforms<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com esse cÃ³digo base pronto, eu posso comeÃ§ar a codificar cada um dos diferentes comportamentos para as plataformas.</p>\n<h2 id=\"seguidora-de-caminho\" style=\"position:relative;\"><a href=\"#seguidora-de-caminho\" aria-label=\"seguidora de caminho permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Seguidora de caminho</h2>\n<p>Para esta plataforma, vou precisar desenhar um caminho no Tiled e, em seguida, fazer a plataforma segui-lo, e quando eu faÃ§o, o <code class=\"language-text\">JSON</code> do Tiled vem como uma array de posiÃ§Ãµes no formato <code class=\"language-text\">[{x: 1, y: 2}, {x: 3, y: 6}] </code>, e a ideia Ã© pegar cada uma dessas posiÃ§Ãµes e criar um custom collider que, quando em contato com a plataforma, mudarÃ¡ sua velocidade e direÃ§Ã£o.</p>\n<p>Para isso, vou precisar da funÃ§Ã£o <code class=\"language-text\">createInteractiveGameObject</code>, que mostrei no <a href=\"/pt-br/blog/games/criando-uma-ai-mais-inteligente-e-performatica-no-phaser-js-skate-platformer-game-devlog-15/\">devlog 15</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\r\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Get path from Tiled</span>\r\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> polylines</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// create a custom interactive object for each of the polyline points</span>\r\n            <span class=\"token keyword\">const</span> platformCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n                platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\r\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'platform_collider'</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set custom properties for the collider</span>\r\n        platformCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>nextPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>currentPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>previousPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// now create a collider for it</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> platformCollider<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>nextPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'backward'</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>previousPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n                nextPoint<span class=\"token punctuation\">,</span>\r\n                currentPoint<span class=\"token punctuation\">,</span>\r\n                previousPoint<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platformCollider<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> nextPos <span class=\"token operator\">=</span> direction <span class=\"token operator\">===</span> <span class=\"token string\">'forward'</span> <span class=\"token operator\">?</span> nextPoint <span class=\"token operator\">:</span> previousPoint<span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> newVelocity <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocity</span><span class=\"token punctuation\">(</span>\r\n                newVelocity<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                newVelocity<span class=\"token punctuation\">.</span>y\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// Create collider for player and platform</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"caminho-circular\" style=\"position:relative;\"><a href=\"#caminho-circular\" aria-label=\"caminho circular permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Caminho circular</h2>\n<p>Essa foi a mais difÃ­cil de criar, porque eu precisava de algum conhecimento em fÃ­sica de movimento circular, no qual nÃ£o tinha nenhum ðŸ˜… e, alÃ©m disso, eu queria poder escolher a velocidade e a direÃ§Ã£o da rotaÃ§Ã£o no Tiled.</p>\n<p>EntÃ£o eu pedi ajuda Ã  minha namorada porque ela Ã© formada em engenharia, mas ela sabia tanto, e eu sabia tÃ£o pouco, que foi uma conversa difÃ­cil, mas no final ela conseguiu me ajudar. Yay!</p>\n<p>As fÃ³rmulas de rotaÃ§Ã£o que vou usar sÃ£o as seguintes:</p>\n<blockquote>\n<p>raio = diametroDoCirculo / 2</p>\n<p>rotacaoPorSegundo = gravidade / velocidade</p>\n<p>velocidadeAngular = 360 / rotacoesPorSegundo</p>\n<p>velocidade = (raio * (Ï€ * 2)) / rotacoesPorSegundo</p>\n</blockquote>\n<p>O truque Ã© criar um objeto que sera usado apenas para referÃªncia e definir uma rotaÃ§Ã£o nele com a funÃ§Ã£o <code class=\"language-text\">setAngularVelocity</code> e, em seguida, copiar a velocidade desse objeto para a plataforma usando a funÃ§Ã£o <code class=\"language-text\">velocityFromRotation</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> direction <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'direction'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DIRECTION_RIGHT</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> platformCircularPath <span class=\"token operator\">=</span> dataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>ellipse\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> platformCircularPath<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set platform position to the top of the circle to start the rotation</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// This is where the magic happens</span>\r\n        <span class=\"token comment\">// I honestly have no idea why this works, but it works</span>\r\n        <span class=\"token keyword\">const</span> secondsPerRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">/</span> velocity<span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// increase angular speed, decreases radius</span>\r\n        <span class=\"token keyword\">const</span> angularSpeed <span class=\"token operator\">=</span> <span class=\"token number\">360</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// increase speed, increase radius</span>\r\n        <span class=\"token keyword\">const</span> speed <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create a dummy object to create the base rotation physics</span>\r\n        <span class=\"token keyword\">const</span> dummyRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\r\n            <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token number\">1</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxVelocity</span><span class=\"token punctuation\">(</span>speed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">===</span> <span class=\"token constant\">DIRECTION_LEFT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">// set the platform velocity to be equal to the one from the dummy object</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span><span class=\"token function\">velocityFromRotation</span><span class=\"token punctuation\">(</span>\r\n                PhaserMath<span class=\"token punctuation\">.</span><span class=\"token function\">DegToRad</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                speed<span class=\"token punctuation\">,</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// Create collider for player and platform</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"desaparecendo\" style=\"position:relative;\"><a href=\"#desaparecendo\" aria-label=\"desaparecendo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Desaparecendo</h2>\n<p>Esta Ã© simples, vou apenas criar um custom collider que quando o herÃ³i tocar a parte de cima da plataforma, irei definir um timer para que a plataforma desapareÃ§a e um timer para que a plataforma apareÃ§a novamente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> originalCheckCollision <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token operator\">...</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformReapearingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision <span class=\"token operator\">=</span> originalCheckCollision<span class=\"token punctuation\">;</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\r\n                platformX<span class=\"token punctuation\">,</span>\r\n                platformY\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformVanishingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>\r\n                platformReapearingCallback\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>isTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> platformX<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\r\n                platformVanishingCallback\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            colliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"caindo\" style=\"position:relative;\"><a href=\"#caindo\" aria-label=\"caindo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Caindo</h2>\n<p>Para este, vou precisar de uma funÃ§Ã£o <code class=\"language-text\">update</code> para a minha plataforma para fazÃª-la voltar ao lugar lentamente depois que o herÃ³i nÃ£o estiver mais em cima dela. Quanto ao resto, Ã© praticamente o mesmo que as plataformas que desaparecem.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// get initial position of the platform</span>\r\n        <span class=\"token comment\">// to reset it to</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> platformY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>\r\n                        <span class=\"token operator\">-</span>platform<span class=\"token punctuation\">.</span>velocity\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token comment\">// reset platform to original position</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platformY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"elevador\" style=\"position:relative;\"><a href=\"#elevador\" aria-label=\"elevador permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elevador</h2>\n<p>A plataforma elevador precisa de muito cÃ³digo para criar todos os recursos que eu queria. Esses sÃ£o:</p>\n<ul>\n<li>Quando o herÃ³i pisa na plataforma, ele se move para cima / para baixo e depois para.</li>\n<li>Se o herÃ³i pular e voltar para a plataforma, o movimento serÃ¡ acionado novamente.</li>\n<li>Se a plataforma nÃ£o estiver no mesmo nÃ­vel do herÃ³i quando o herÃ³i se aproximar da plataforma, ela deve se mover atÃ© o herÃ³i.</li>\n</ul>\n<p>Para isso, eu preciso de um custom collider no chÃ£o, que farÃ¡ com que a plataforma desÃ§a quando estiver em cima, e um custom collider no nÃ­vel superior para ativar a plataforma para subir quando estiver abaixada, e uma funÃ§Ã£o <code class=\"language-text\">update</code> para determinar se a plataforma deve ser acionada ou nÃ£o quando o herÃ³i estÃ¡ em cima dela.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// get path from Tiled</span>\r\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> combinedDataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// get base positions</span>\r\n        <span class=\"token keyword\">const</span> groundFloorPosY <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> secondFloorPosY <span class=\"token operator\">=</span> platformY <span class=\"token operator\">+</span> platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// create ground object custom collider</span>\r\n        <span class=\"token keyword\">const</span> elevatorGroundCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'ground-collider'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorGroundColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            elevatorGroundCollider<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            elevatorGroundColliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create floor object custom collider</span>\r\n        <span class=\"token keyword\">const</span> elevatorFloorCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n            secondFloorPosY <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'floor-collider'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorFloorColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            elevatorFloorCollider<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            elevatorFloorColliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create the platform update function</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span>\r\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> groundFloorPosY\r\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> secondFloorPosY\r\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>groundFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>secondFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>wasTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            colliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"looping\" style=\"position:relative;\"><a href=\"#looping\" aria-label=\"looping permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Looping</h2>\n<p>Outra fÃ¡cil, irei apenas definir a velocidade <code class=\"language-text\">y</code> para ela, e quando estiver fora do mapa, mudar sua posiÃ§Ã£o para o topo do mapa novamente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> mapSize<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E Ã© issoâ€¦ ou serÃ¡ que Ã©â€¦?</p>\n<h2 id=\"o-problema\" style=\"position:relative;\"><a href=\"#o-problema\" aria-label=\"o problema permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O problema</h2>\n<p>Se vocÃª apenas copiou todo esse cÃ³digo para o seu prÃ³prio jogo e foi testÃ¡-lo, notarÃ¡ que o herÃ³i estÃ¡ meio bugado quando a plataforma estÃ¡ se movendo para baixo.</p>\n<p><img src=\"/7626d6ac4f2d1e65f22f9d2d613332c1/player-glitching-platforms.gif\" alt=\"Jump jump jump ju-ju-jump â™«\"></p>\n<p>Isso acontece porque a aceleraÃ§Ã£o do herÃ³i Ã© mais lenta que a da plataforma. Para consertar isso tive que fazer uma gambiarra: Sempre que o herÃ³i estiver em cima de uma plataforma, aumentar a gravidade do herÃ³i em cerca de 10 vezes ðŸ˜¬.</p>\n<h2 id=\"a-solucao\" style=\"position:relative;\"><a href=\"#a-solucao\" aria-label=\"a solucao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A soluÃ§Ã£o</h2>\n<p>Primeiro, adicionarei uma nova propriedade Ã s plataformas chamada <code class=\"language-text\">changeHeroPhysics</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">changeHeroPhysics</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n    velocity<span class=\"token punctuation\">,</span>\r\n    x<span class=\"token punctuation\">,</span>\r\n    y<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>EntÃ£o, na funÃ§Ã£o <code class=\"language-text\">update</code> do herÃ³i, adicionarei uma verificaÃ§Ã£o para ver se o herÃ³i estÃ¡ tocando um objeto com a propriedade <code class=\"language-text\">changeHeroPhysics</code> definida como <code class=\"language-text\">true</code> e, se estiver, aumentarei a gravidade do herÃ³i.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>changeHeroPhysics<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> platformVelocityY <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>body<span class=\"token operator\">?.</span>velocity<span class=\"token operator\">?.</span>y<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> gravity <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n            gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">/</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// eslint-disable-next-line no-lonely-if</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// set back original gravity to the hero</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ConclusÃ£o</h2>\n<p>Ai esta, uma enorme lista de plataformas super Ãºteis para o seu platformer no Phaser. Por favor, deixe um comentÃ¡rio se eu perdi algum tipo de plataforma e talvez eu possa adicionÃ¡-los Ã  lista no futuro.</p>\n<p>Por hoje Ã© sÃ³, atÃ© o prÃ³ximo devlog!</p>","fields":{"postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDgtMjhUMDA6MDA6MDAuMDAwWg==","slug":"/2021/2021-08-28-criando-plataformas-para-o-meu-jogo-em-phaser-js-game-devlog-22.pt-br/","path":"/blog/games/criando-plataformas-para-o-meu-jogo-em-phaser-js-game-devlog-22/","locale":"pt-br"},"rawMarkdownBody":"Fala galera, bem-vindos a mais um devlog do meu jogo [Super Ollie](/pt-br/blog/tags/super-ollie-vs-pebble-corp/), e depois de quase um ano inteiro de desenvolvimento, estou finalmente tentando resolver algo que todo jogo de plataforma precisa ter: Plataformas.\r\n\r\n> Um jogo de plataforma precisa de plataformas.\r\n>\r\n> -- Sherlock Holmes, 600 BC\r\n\r\n## Definindo tipos de plataformas\r\nExistem vÃ¡rios tipos de plataformas, mas para o meu jogo, decidi ficar com 6 tipos diferentes por enquanto. Espero que vocÃª esteja pronto porque este serÃ¡ um grande devlog ðŸ˜¬.\r\n\r\n### Plataformas que seguem um caminho\r\n![Follow path platform](../../uploads/blog/2021/08/follow-path-platforms.gif)\r\n\r\nPlataformas que seguirÃ£o um determinado caminho desenhado no Tiled.\r\n\r\n### Plataformas que se movem em um caminho circular\r\n![Circular movement platforms](../../uploads/blog/2021/08/circular-moving-platforms.gif)\r\n\r\nPlataformas que seguem um movimento circular baseado em um cÃ­rculo desenhado em Tiled.\r\n\r\n### Plataformas que desaparecem\r\n![Plataformas que desaparecem](../../uploads/blog/2021/08/vanishing-platforms.gif)\r\n\r\nPlataformas que desaparecem alguns segundos apÃ³s o herÃ³i subir nelas.\r\n\r\n### Plataformas que caem\r\n![Plataformas que caem](../../uploads/blog/2021/08/falling-platforms.gif)\r\n\r\nPlataformas que comeÃ§arÃ£o a cair lentamente quando o herÃ³i estiver em cima delas.\r\n\r\n### Plataformas que funcionam como um elevador\r\n![Platforma elevador](../../uploads/blog/2021/08/elevator-platform.gif)\r\n\r\nPlataformas que se movem para cima e para baixo como um elevador e sÃ³ acionam o movimento quando o herÃ³i estÃ¡ em cima delas.\r\n\r\n### Plataformas em loop\r\n![Plataformas em loop](../../uploads/blog/2021/08/looping-platforms.gif)\r\n\r\nPlataformas que se movem constantemente na vertical atÃ© atingir o final do estÃ¡gio e entÃ£o voltam ao topo.\r\n\r\n## O cÃ³digo\r\nPrimeiro eu vou adicionar uma nova condiÃ§Ã£o no meu loop do `dataLayer` para lidar com o cÃ³digo de novas plataformas, e no Tiled vou um novo atributo chamado `platformAI` nas plataformas para que eu possa criar AIs / Tipos de plataformas diferentes.\r\n\r\n```javascript\r\n// in the scene create function\r\nconst dataLayer = map.getObjectLayer('data');\r\ndataLayer.objects.forEach((data) => {\r\n    const { x, y, name, height, width } = data;\r\n\r\n    if (name === 'platform') {\r\n        const platformAI = properties?.find(\r\n            (property) => property?.name === 'platformAI'\r\n        )?.value;\r\n\r\n        const velocity = properties?.find(\r\n            (property) => property?.name === 'velocity'\r\n        )?.value || DEFAULT_PLATFORM_VELOCITY;\r\n\r\n        const platform = new Platform({\r\n            scene: this,\r\n            velocity,\r\n            x,\r\n            y,\r\n        });\r\n\r\n        this.platforms.add(platform);\r\n\r\n        switch (platformAI) {\r\n            case LOOP_PLATFORM: {\r\n                // TODO\r\n            }\r\n            case FALLING_PLATFORM: {\r\n                // TODO\r\n            }\r\n            case ELEVATOR_PLATFORM: {\r\n                // TODO\r\n            }\r\n            case VANISHING_PLATFORM: {\r\n                // TODO\r\n            }\r\n            case CIRCULAR_PATH_PLATFORM: {\r\n                // TODO\r\n            }\r\n            case PATH_PLATFORM:\r\n            default: {\r\n                // TODO\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nCom esse cÃ³digo base pronto, eu posso comeÃ§ar a codificar cada um dos diferentes comportamentos para as plataformas.\r\n\r\n## Seguidora de caminho\r\nPara esta plataforma, vou precisar desenhar um caminho no Tiled e, em seguida, fazer a plataforma segui-lo, e quando eu faÃ§o, o `JSON` do Tiled vem como uma array de posiÃ§Ãµes no formato `[{x: 1, y: 2}, {x: 3, y: 6}] `, e a ideia Ã© pegar cada uma dessas posiÃ§Ãµes e criar um custom collider que, quando em contato com a plataforma, mudarÃ¡ sua velocidade e direÃ§Ã£o.\r\n\r\nPara isso, vou precisar da funÃ§Ã£o `createInteractiveGameObject`, que mostrei no [devlog 15](/pt-br/blog/games/criando-uma-ai-mais-inteligente-e-performatica-no-phaser-js-skate-platformer-game-devlog-15/).\r\n\r\n```javascript\r\nswitch (platformAI) {\r\n    case PATH_PLATFORM:\r\n    default: {\r\n        // Get path from Tiled\r\n        const platformPath = dataLayer.find(\r\n            (object) => {\r\n                const pathType = object.properties?.find(\r\n                    (property) => property?.name === 'type'\r\n                )?.value;\r\n\r\n                return object.polyline?.length\r\n                    && (object.name === (pathName || objectId))\r\n                    && pathType === PATH_TYPE_PLATFORM;\r\n            }\r\n        );\r\n\r\n        platformPath.polyline.forEach((path, index, polylines) => {\r\n            // create a custom interactive object for each of the polyline points\r\n            const platformCollider = createInteractiveGameObject(\r\n                this,\r\n                platformPath.x + path.x,\r\n                platformPath.y + path.y,\r\n                4,\r\n                4,\r\n                'platform_collider'\r\n            );\r\n        });\r\n\r\n        // set custom properties for the collider\r\n        platformCollider.setOrigin(0.5);\r\n        platformCollider.nextPoint = polylines[index + 1];\r\n        platformCollider.currentPoint = polylines[index];\r\n        platformCollider.previousPoint = polylines[index - 1];\r\n        platform.direction = 'forward';\r\n        \r\n        // now create a collider for it\r\n        this.physics.add.collider(platform, platformCollider, () => {\r\n            if (!platformCollider.nextPoint) {\r\n                platform.direction = 'backward';\r\n            } else if (!platformCollider.previousPoint) {\r\n                platform.direction = 'forward';\r\n            }\r\n\r\n            const {\r\n                nextPoint,\r\n                currentPoint,\r\n                previousPoint,\r\n            } = platformCollider;\r\n            const { direction } = platform;\r\n            const nextPos = direction === 'forward' ? nextPoint : previousPoint;\r\n\r\n            const newVelocity = {\r\n                x: nextPos.x !== currentPoint.x ? (velocity * (nextPos.x > currentPoint.x ? 1 : -1)) : 0,\r\n                y: nextPos.y !== currentPoint.y ? (velocity * (nextPos.y > currentPoint.y ? 1 : -1)) : 0,\r\n            };\r\n\r\n            platform.body.setVelocity(\r\n                newVelocity.x,\r\n                newVelocity.y\r\n            );\r\n        });\r\n        \r\n        // Create collider for player and platform\r\n        this.physics.add.collider(platform, this.player);\r\n        break;\r\n    }\r\n}\r\n```\r\n\r\n## Caminho circular\r\nEssa foi a mais difÃ­cil de criar, porque eu precisava de algum conhecimento em fÃ­sica de movimento circular, no qual nÃ£o tinha nenhum ðŸ˜… e, alÃ©m disso, eu queria poder escolher a velocidade e a direÃ§Ã£o da rotaÃ§Ã£o no Tiled.\r\n\r\nEntÃ£o eu pedi ajuda Ã  minha namorada porque ela Ã© formada em engenharia, mas ela sabia tanto, e eu sabia tÃ£o pouco, que foi uma conversa difÃ­cil, mas no final ela conseguiu me ajudar. Yay!\r\n\r\nAs fÃ³rmulas de rotaÃ§Ã£o que vou usar sÃ£o as seguintes:\r\n\r\n> raio = diametroDoCirculo / 2\r\n> \r\n> rotacaoPorSegundo = gravidade / velocidade\r\n> \r\n> velocidadeAngular = 360 / rotacoesPorSegundo\r\n> \r\n> velocidade = (raio * (Ï€ * 2)) / rotacoesPorSegundo\r\n\r\nO truque Ã© criar um objeto que sera usado apenas para referÃªncia e definir uma rotaÃ§Ã£o nele com a funÃ§Ã£o `setAngularVelocity` e, em seguida, copiar a velocidade desse objeto para a plataforma usando a funÃ§Ã£o `velocityFromRotation`.\r\n\r\n```javascript\r\nswitch (platformAI) {\r\n    case CIRCULAR_PATH_PLATFORM: {\r\n        const direction = properties?.find(\r\n            (property) => property?.name === 'direction'\r\n        )?.value || DIRECTION_RIGHT;\r\n\r\n        const platformCircularPath = dataLayers.find(\r\n            (object) => {\r\n                const pathType = object.properties?.find(\r\n                    (property) => property?.name === 'type'\r\n                )?.value;\r\n\r\n                return object.ellipse\r\n                    && (object.name === (pathName || objectId))\r\n                    && pathType === PATH_TYPE_PLATFORM;\r\n            }\r\n        );\r\n\r\n        const radius = platformCircularPath.width / 2;\r\n\r\n        // set platform position to the top of the circle to start the rotation\r\n        platform.setPosition(\r\n            platformCircularPath.x + radius - (platform.width / 2),\r\n            platformCircularPath.y + (platform.height / 2)\r\n        );\r\n\r\n        // This is where the magic happens\r\n        // I honestly have no idea why this works, but it works\r\n        const secondsPerRotation = this.physics.world.gravity.y / velocity;\r\n        // increase angular speed, decreases radius\r\n        const angularSpeed = 360 / secondsPerRotation;\r\n        // increase speed, increase radius\r\n        const speed = (radius * (Math.PI * 2)) / secondsPerRotation;\r\n\r\n        // create a dummy object to create the base rotation physics\r\n        const dummyRotation = new GameObjects.Rectangle(\r\n            this,\r\n            platformCircularPath.x + radius,\r\n            platformCircularPath.y + radius,\r\n            1,\r\n            1\r\n        );\r\n\r\n        this.physics.add.existing(dummyRotation);\r\n        dummyRotation.body.setAllowGravity(false);\r\n        dummyRotation.body.setImmovable(true);\r\n        dummyRotation.body.setMaxVelocity(speed);\r\n\r\n        if (direction === DIRECTION_LEFT) {\r\n            platform.setY(platform.y + (radius * 2));\r\n            dummyRotation.body.setAngularVelocity(-angularSpeed);\r\n        } else {\r\n            dummyRotation.body.setAngularVelocity(angularSpeed);\r\n        }\r\n\r\n        // set the platform velocity to be equal to the one from the dummy object\r\n        platform.update = (time, delta) => {\r\n            this.physics.velocityFromRotation(\r\n                PhaserMath.DegToRad(dummyRotation.body.rotation),\r\n                speed,\r\n                platform.body.velocity\r\n            );\r\n        };\r\n\r\n        // Create collider for player and platform\r\n        this.physics.add.collider(platform, this.player);\r\n        break;\r\n    }\r\n}\r\n```\r\n\r\n## Desaparecendo\r\nEsta Ã© simples, vou apenas criar um custom collider que quando o herÃ³i tocar a parte de cima da plataforma, irei definir um timer para que a plataforma desapareÃ§a e um timer para que a plataforma apareÃ§a novamente.\r\n\r\n```javascript\r\nswitch (platformAI) {\r\n    case VANISHING_PLATFORM: {\r\n        platform.isTriggered = false;\r\n        const originalCheckCollision = {\r\n            ...platform.body.checkCollision,\r\n        };\r\n\r\n        const platformReapearingCallback = () => {\r\n            platform.isTriggered = false;\r\n            platform.body.setVelocityY(0);\r\n            platform.body.checkCollision = originalCheckCollision;\r\n\r\n            platform.setPosition(\r\n                platformX,\r\n                platformY\r\n            );\r\n        };\r\n        \r\n        const platformVanishingCallback = () => {\r\n            platform.body.setVelocityY(velocity);\r\n\r\n            this.time.delayedCall(\r\n                2000,\r\n                platformReapearingCallback\r\n            );\r\n        };\r\n\r\n        const colliderCallback = () => {\r\n            if (platform.isTriggered) {\r\n                return;\r\n            }\r\n\r\n            platform.isTriggered = true;\r\n            const {\r\n                x: platformX,\r\n                y: platformY,\r\n            } = platform;\r\n\r\n            this.time.delayedCall(\r\n                1000,\r\n                platformVanishingCallback\r\n            );\r\n        };\r\n\r\n        this.physics.add.collider(\r\n            platform,\r\n            this.player,\r\n            colliderCallback\r\n        );\r\n        \r\n        break;\r\n    }\r\n}\r\n```\r\n\r\n## Caindo\r\nPara este, vou precisar de uma funÃ§Ã£o `update` para a minha plataforma para fazÃª-la voltar ao lugar lentamente depois que o herÃ³i nÃ£o estiver mais em cima dela. Quanto ao resto, Ã© praticamente o mesmo que as plataformas que desaparecem.\r\n\r\n```javascript\r\nswitch (platformAI) {\r\n    case FALLING_PLATFORM: {\r\n        // get initial position of the platform\r\n        // to reset it to\r\n        const {\r\n            y: platformY,\r\n        } = platform;\r\n\r\n        platform.update = (time, delta) => {\r\n            if (!platform.touchingUpObject) {\r\n                if (platform.y > platformY) {\r\n                    platform.body.setVelocityY(\r\n                        -platform.velocity\r\n                    );\r\n                } else {\r\n                    // reset platform to original position\r\n                    platform.body.setVelocityY(0);\r\n                    platform.setY(platformY);\r\n                }\r\n            }\r\n        };\r\n\r\n        this.physics.add.collider(\r\n            platform,\r\n            this.player,\r\n            () => {\r\n                if (platform.touchingUpObject) {\r\n                    platform.body.setVelocityY(velocity);\r\n                }\r\n            }\r\n        );\r\n\r\n        break;\r\n    }\r\n}\r\n```\r\n\r\n## Elevador\r\nA plataforma elevador precisa de muito cÃ³digo para criar todos os recursos que eu queria. Esses sÃ£o:\r\n\r\n- Quando o herÃ³i pisa na plataforma, ele se move para cima / para baixo e depois para.\r\n- Se o herÃ³i pular e voltar para a plataforma, o movimento serÃ¡ acionado novamente.\r\n- Se a plataforma nÃ£o estiver no mesmo nÃ­vel do herÃ³i quando o herÃ³i se aproximar da plataforma, ela deve se mover atÃ© o herÃ³i.\r\n\r\nPara isso, eu preciso de um custom collider no chÃ£o, que farÃ¡ com que a plataforma desÃ§a quando estiver em cima, e um custom collider no nÃ­vel superior para ativar a plataforma para subir quando estiver abaixada, e uma funÃ§Ã£o `update` para determinar se a plataforma deve ser acionada ou nÃ£o quando o herÃ³i estÃ¡ em cima dela.\r\n\r\n```javascript\r\nswitch (platformAI) {\r\n    case ELEVATOR_PLATFORM: {\r\n        // get path from Tiled\r\n        const platformPath = combinedDataLayers.find(\r\n            (object) => {\r\n                const pathType = object.properties?.find(\r\n                    (property) => property?.name === 'type'\r\n                )?.value;\r\n\r\n                return object.polyline?.length\r\n                    && (object.name === (pathName || objectId))\r\n                    && pathType === PATH_TYPE_PLATFORM;\r\n            }\r\n        );\r\n\r\n        const {\r\n            y: platformY,\r\n        } = platform;\r\n\r\n        // get base positions\r\n        const groundFloorPosY = platform.y - (platform.height - platform.body.height);\r\n        const secondFloorPosY = platformY + platformPath.polyline[1].y;\r\n        \r\n        // create ground object custom collider\r\n        const elevatorGroundCollider = createInteractiveGameObject(\r\n            this,\r\n            platformPath.x - platform.width,\r\n            platformPath.y - platform.height,\r\n            platform.width + (TILE_WIDTH * 2),\r\n            platform.height + TILE_HEIGHT,\r\n            'ground-collider'\r\n        );\r\n\r\n        const elevatorGroundColliderCallback = () => {\r\n            if (platform.body.velocity.y === 0) {\r\n                if (platform.y <= secondFloorPosY) {\r\n                    platform.body.setVelocityY(velocity);\r\n                }\r\n            }\r\n        };\r\n\r\n        this.physics.add.overlap(\r\n            elevatorGroundCollider,\r\n            this.player,\r\n            elevatorGroundColliderCallback\r\n        );\r\n\r\n        // create floor object custom collider\r\n        const elevatorFloorCollider = createInteractiveGameObject(\r\n            this,\r\n            platformPath.x - platform.width,\r\n            secondFloorPosY - (platform.height + TILE_HEIGHT),\r\n            platform.width + (TILE_WIDTH * 2),\r\n            platform.height + TILE_HEIGHT,\r\n            'floor-collider'\r\n        );\r\n\r\n        const elevatorFloorColliderCallback = () => {\r\n            if (platform.body.velocity.y === 0) {\r\n                if (platform.y >= groundFloorPosY) {\r\n                    platform.body.setVelocityY(-velocity);\r\n                }\r\n            }\r\n        };\r\n\r\n        this.physics.add.overlap(\r\n            elevatorFloorCollider,\r\n            this.player,\r\n            elevatorFloorColliderCallback\r\n        );\r\n\r\n        // create the platform update function\r\n        platform.update = (time, delta) => {\r\n            if (!platform.touchingUpObject) {\r\n                platform.wasTriggered = false;\r\n            }\r\n\r\n            if (\r\n                platform.body.velocity.y === 0\r\n                && platform.y < groundFloorPosY\r\n                && platform.y > secondFloorPosY\r\n            ) {\r\n                platform.body.setVelocityY(velocity);\r\n            }\r\n\r\n            if (platform.y >= groundFloorPosY) {\r\n                platform.setY(groundFloorPosY);\r\n                if (platform.body.velocity.y > 0) {\r\n                    platform.body.setVelocityY(0);\r\n                }\r\n            }\r\n\r\n            if (platform.y <= secondFloorPosY) {\r\n                if (platform.body.velocity.y < 0) {\r\n                    platform.body.setVelocityY(0);\r\n                }\r\n\r\n                if (!platform.touchingUpObject) {\r\n                    platform.setY(secondFloorPosY);\r\n                }\r\n            }\r\n        };\r\n\r\n        const colliderCallback = () => {\r\n            if (!platform.body.touching.up) {\r\n                return;\r\n            }\r\n\r\n            if (platform.y < (this.player.y + platform.body.height)) {\r\n                return;\r\n            }\r\n\r\n            if (platform.wasTriggered) {\r\n                return;\r\n            }\r\n\r\n            if (platform.y >= groundFloorPosY) {\r\n                platform.body.setVelocityY(-velocity);\r\n            } else if (platform.y <= secondFloorPosY) {\r\n                platform.body.setVelocityY(velocity);\r\n            }\r\n\r\n            platform.wasTriggered = true;\r\n        };\r\n\r\n        this.physics.add.collider(\r\n            platform,\r\n            this.player,\r\n            colliderCallback\r\n        );\r\n\r\n        break;\r\n    }\r\n}\r\n```\r\n\r\n## Looping\r\nOutra fÃ¡cil, irei apenas definir a velocidade `y` para ela, e quando estiver fora do mapa, mudar sua posiÃ§Ã£o para o topo do mapa novamente.\r\n\r\n```javascript\r\nswitch (platformAI) {\r\n    case LOOP_PLATFORM: {\r\n        platform.body.setVelocityY(platform.velocity);\r\n\r\n        platform.update = (time, delta) => {\r\n            if ((platform.y - platform.height) > mapSize.height) {\r\n                platform.setY(platform.height);\r\n            }\r\n        };\r\n\r\n        this.physics.add.collider(platform, this.player);\r\n        break;\r\n    }\r\n}\r\n```\r\n\r\nE Ã© isso... ou serÃ¡ que Ã©...?\r\n\r\n## O problema\r\nSe vocÃª apenas copiou todo esse cÃ³digo para o seu prÃ³prio jogo e foi testÃ¡-lo, notarÃ¡ que o herÃ³i estÃ¡ meio bugado quando a plataforma estÃ¡ se movendo para baixo.\r\n\r\n![Jump jump jump ju-ju-jump â™«](../../uploads/blog/2021/08/player-glitching-platforms.gif)\r\n\r\nIsso acontece porque a aceleraÃ§Ã£o do herÃ³i Ã© mais lenta que a da plataforma. Para consertar isso tive que fazer uma gambiarra: Sempre que o herÃ³i estiver em cima de uma plataforma, aumentar a gravidade do herÃ³i em cerca de 10 vezes ðŸ˜¬.\r\n\r\n## A soluÃ§Ã£o\r\nPrimeiro, adicionarei uma nova propriedade Ã s plataformas chamada `changeHeroPhysics`:\r\n\r\n```javascript\r\nconst platform = new Platform({\r\n    changeHeroPhysics: true,\r\n    scene: this,\r\n    velocity,\r\n    x,\r\n    y,\r\n});\r\n```\r\n\r\nEntÃ£o, na funÃ§Ã£o `update` do herÃ³i, adicionarei uma verificaÃ§Ã£o para ver se o herÃ³i estÃ¡ tocando um objeto com a propriedade `changeHeroPhysics` definida como `true` e, se estiver, aumentarei a gravidade do herÃ³i.\r\n\r\n```javascript\r\nif (this.touchingDownObject?.changeHeroPhysics) {\r\n    const platformVelocityY = this.touchingDownObject?.body?.velocity?.y;\r\n    const { gravity } = this.scene.physics.world;\r\n\r\n    if (platformVelocityY > 0) {\r\n        this.body.setGravity(\r\n            0,\r\n            gravity.y * (platformVelocityY / 12)\r\n        );\r\n    } else {\r\n        this.body.setGravity(0, 0);\r\n    }\r\n} else {\r\n    // eslint-disable-next-line no-lonely-if\r\n    if (this.body.gravity.y !== 0) {\r\n        // set back original gravity to the hero\r\n        this.body.setGravity(0, 0);\r\n    }\r\n}\r\n```\r\n\r\n## ConclusÃ£o\r\nAi esta, uma enorme lista de plataformas super Ãºteis para o seu platformer no Phaser. Por favor, deixe um comentÃ¡rio se eu perdi algum tipo de plataforma e talvez eu possa adicionÃ¡-los Ã  lista no futuro.\r\n\r\nPor hoje Ã© sÃ³, atÃ© o prÃ³ximo devlog!\r\n","frontmatter":{"tags":["programaÃ§Ã£o","jogos","javascript","phaser","phaser 3","game devlog","gamedev","skate platformer","super ollie vs pebble corp","webpack","tiled","plataformas"],"categories":["games"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2021-08-28T00:00:00.000Z","id":null,"path":"criando-plataformas-para-o-meu-jogo-em-phaser-js-game-devlog-22","show":true,"title":"Criando plataformas para o meu jogo em Phaser JS - Game Devlog #22","hideExcerpt":false,"subtitle":""}},"next":{"excerpt":"MÃªs passado eu viajei para a regiÃ£o do Algarve, em Portugalâ€¦","html":"<p>MÃªs passado eu viajei para a regiÃ£o do Algarve, em Portugal, e para a minha sorte, haviam algumas praias fantÃ¡sticas para caminhadas, escaladas e para pular de pedras, e como a minha cidade natal estÃ¡ repleta de praias como estas, eu imediatamente me senti em casa.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABX3bAijha/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAERAgMQEiL/2gAIAQEAAQUCi4Lc7IxU3P8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAABIT/9oACAEDAQE/AYZv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAESE//aAAgBAgEBPwG2aM//xAAXEAADAQAAAAAAAAAAAAAAAAABECAy/9oACAEBAAY/AlkR/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERQVEhYf/aAAgBAQABPyFXMSXYYvYJMIWIvaP/2gAMAwEAAgADAAAAEN8//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAR8P/aAAgBAwEBPxDHEBv/xAAWEQEBAQAAAAAAAAAAAAAAAAABEPH/2gAIAQIBAT8QC2f/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMWGRQXGB/9oACAEBAAE/EDUrXogwgPJQXAbvKd3jiUTDqV66J8gdcT//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Praia da Ferradurinha em BÃºzios\"\n        title=\"Praia da Ferradurinha em BÃºzios\"\n        src=\"/static/a88f45b650bce341acd5d1de09ac823b/63217/ferradurinha-beach.jpg\"\n        srcset=\"/static/a88f45b650bce341acd5d1de09ac823b/db830/ferradurinha-beach.jpg 256w,\n/static/a88f45b650bce341acd5d1de09ac823b/8102f/ferradurinha-beach.jpg 512w,\n/static/a88f45b650bce341acd5d1de09ac823b/63217/ferradurinha-beach.jpg 1024w,\n/static/a88f45b650bce341acd5d1de09ac823b/d58d1/ferradurinha-beach.jpg 1536w,\n/static/a88f45b650bce341acd5d1de09ac823b/aaf92/ferradurinha-beach.jpg 1920w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Praia da Ferradurinha em BÃºzios</figcaption>\n  </figure></p>\n<h2 id=\"praia-do-carvalho-em-benagil\" style=\"position:relative;\"><a href=\"#praia-do-carvalho-em-benagil\" aria-label=\"praia do carvalho em benagil permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Praia do Carvalho em Benagil</h2>\n<p>Fomos a alguns locais no Algarve, mas o que mais me diverti foi sem dÃºvidas Benagil, mais precisamente a Praia do Carvalho, repleta de picos para pular de pedras.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYlEpcWD//xAAaEAEAAgMBAAAAAAAAAAAAAAABAgMAERIE/9oACAEBAAEFAn0HBdZLG2Q1G84Op6Jf/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAECEv/aAAgBAwEBPwGKsv/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAbEAADAAIDAAAAAAAAAAAAAAAAARECECGB4f/aAAgBAQAGPwJ5JU8Oc50TUSR//8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFRYXGR/9oACAEBAAE/IdCSaQ+TXAfDN/NC3Uwxt9WDCDsuf//aAAwDAQACAAMAAAAQgx//xAAWEQEBAQAAAAAAAAAAAAAAAAAAETH/2gAIAQMBAT8QhqH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARFR/9oACAECAQE/EJyu/8QAHRAAAgIBBQAAAAAAAAAAAAAAAREAITFBYYGRsf/aAAgBAQABPxBAgUCZuWCwRTT7Ko1jOCMVeOsKFEDBXC3lSIBqOzP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Praia do Carvalho\"\n        title=\"Praia do Carvalho\"\n        src=\"/static/92bd60372258781282cc5e96a44ab84f/63217/carvalho-beach-benagil.jpg\"\n        srcset=\"/static/92bd60372258781282cc5e96a44ab84f/db830/carvalho-beach-benagil.jpg 256w,\n/static/92bd60372258781282cc5e96a44ab84f/8102f/carvalho-beach-benagil.jpg 512w,\n/static/92bd60372258781282cc5e96a44ab84f/63217/carvalho-beach-benagil.jpg 1024w,\n/static/92bd60372258781282cc5e96a44ab84f/d58d1/carvalho-beach-benagil.jpg 1536w,\n/static/92bd60372258781282cc5e96a44ab84f/09658/carvalho-beach-benagil.jpg 2048w,\n/static/92bd60372258781282cc5e96a44ab84f/120d2/carvalho-beach-benagil.jpg 4000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Praia do Carvalho</figcaption>\n  </figure></p>\n<p>A Praia do Carvalho tem o seu nome porque era uma praia privada para um capitÃ£o chamado Carvalho, e sÃ³ era acessÃ­vel por barco, mas alguns anos mais tarde o governo decretou que todas as praias deviam ser pÃºblicas, entÃ£o o capitÃ£o Carvalho escavou uma entrada para a praia nas rochas para que qualquer pessoa pudesse entrar nela.</p>\n<p>Eu estava um pouco enferrujado com as minhas habilidades de pular de pedras, mas no final consegui pular de quase todos os picos da praia, e aqui estÃ£o as minhas dicas de como se divertir por lÃ¡.</p>\n<p>Antes de seguir qualquer uma dessas dicas, lembre-se de respeitar o seu limite fÃ­sico e manter a seguranÃ§a em primeiro lugar. VocÃª pode se machucar muito se nÃ£o souber o que estÃ¡ fazendo.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABZK72JMwf/8QAGBABAQEBAQAAAAAAAAAAAAAAAgEDACH/2gAIAQEAAQUCPoMK5aE2aSQ6ydoZX//EABYRAAMAAAAAAAAAAAAAAAAAAAABEv/aAAgBAwEBPwGUSj//xAAWEQADAAAAAAAAAAAAAAAAAAAAARL/2gAIAQIBAT8Btls//8QAGxAAAwACAwAAAAAAAAAAAAAAAAEREiEiYaH/2gAIAQEABj8CyaOLI34TZcein//EABsQAQADAQADAAAAAAAAAAAAAAEAITERQVFx/9oACAEBAAE/IR0VXklCi/JRAwjv4pvuM2bpiIm3P//aAAwDAQACAAMAAAAQqD//xAAVEQEBAAAAAAAAAAAAAAAAAAAAYf/aAAgBAwEBPxCKb//EABgRAAIDAAAAAAAAAAAAAAAAAAABETFh/9oACAECAQE/EFDZqf/EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQWFRkfD/2gAIAQEAAT8QMoDc5VHW4hyJWePZFZR2Ksg+RVCl7eOpSDcgtHLqCop/Mz//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Placa de perigo\"\n        title=\"Placa de perigo\"\n        src=\"/static/a5407d530669e2d5ac387ab70728a062/63217/danger-sign.jpg\"\n        srcset=\"/static/a5407d530669e2d5ac387ab70728a062/db830/danger-sign.jpg 256w,\n/static/a5407d530669e2d5ac387ab70728a062/8102f/danger-sign.jpg 512w,\n/static/a5407d530669e2d5ac387ab70728a062/63217/danger-sign.jpg 1024w,\n/static/a5407d530669e2d5ac387ab70728a062/d58d1/danger-sign.jpg 1536w,\n/static/a5407d530669e2d5ac387ab70728a062/09658/danger-sign.jpg 2048w,\n/static/a5407d530669e2d5ac387ab70728a062/fdb5a/danger-sign.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Placa de perigo</figcaption>\n  </figure></p>\n<h3 id=\"fique-de-olho-nas-mares\" style=\"position:relative;\"><a href=\"#fique-de-olho-nas-mares\" aria-label=\"fique de olho nas mares permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fique de olho nas marÃ©s</h3>\n<p>Alguns picos de mergulho do penhasco sÃ³ sÃ£o seguros para pular quando a marÃ© estÃ¡ alta, entÃ£o <a href=\"https://www.tideking.com/Portugal/Faro/Lagoa/Praia-do-Carvalho/\" target=\"_blank\" rel=\"noreferrer\">fique de olho na marÃ© em sites como o tideking.com</a>.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 671px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.6875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmklEQVQoz12QDW+CMBCG+f//bbrNTSZfIqVlRWjpXb8oigtoXLbLk6bJvc/10ohzTgjhnFcVKctTTempInVNGWsYY6eybJpvQmrWNJTSqiKUsePxqI293W6Rc16BRm2t9eFZ4ximYIxToAGNAn3PTNMUQvDeX6/XRR6UFlILiX4Mt7+ljRdSy2FBSAR0/wIRou0F9AKcH//1ULtegJAoJPYCAJdV53nhIStlFrkH51Z5XnnKcpXFKoN9zr37kbZODCiHZe1LuF7C9Zkw1vWdEhIH0L0A1Haeb1qN3k6Pl88c+Ldq2ECKgRZY5yBbf5nmyzTT05C9N8murY6iF9idsSl1dVBVonBYPigqE7Hf8P2G5x+CFbrOgSRAc6AFJG9dvG3jbbt/4Yf3Ntl1dYqs0DTH6gBnaqIql58vPN62x1iyAmmOrMA6Wy7ZZx9v26/XhXjTprvuHrhTpxCRfNhv+NdrW+xFnQFJVzKoM0g/unjLD28PP911v4E1ExnjnB29C94H74Jzwdng7OjsaM1otAcwS/eOnx6t9fwBDqJonZY7YnAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MarÃ©s\"\n        title=\"MarÃ©s\"\n        src=\"/static/c9775f74a4eeeae083abf97d82ede34e/b5f03/tides-carvalho-beach.png\"\n        srcset=\"/static/c9775f74a4eeeae083abf97d82ede34e/e3135/tides-carvalho-beach.png 256w,\n/static/c9775f74a4eeeae083abf97d82ede34e/06341/tides-carvalho-beach.png 512w,\n/static/c9775f74a4eeeae083abf97d82ede34e/b5f03/tides-carvalho-beach.png 671w\"\n        sizes=\"(max-width: 671px) 100vw, 671px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">MarÃ©s</figcaption>\n  </figure></p>\n<p>Outra forma de saber se a marÃ© estÃ¡ alta, Ã© olhando as pedras menores perto da pedra gigante no meio da praia, se nÃ£o der para ve-las, como na foto abaixo, significa que a marÃ© estÃ¡ boa para pular.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.328125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUDBAb/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABbVYFqaMXkf/EABoQAAMBAAMAAAAAAAAAAAAAAAABEgIDBBH/2gAIAQEAAQUCsx2K3Q2JTy+n/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAABARAf/aAAgBAQAGPwIjyL//xAAaEAADAAMBAAAAAAAAAAAAAAAAASEQETFB/9oACAEBAAE/IdEcHHzFtXgpqKbn/9oADAMBAAIAAwAAABBDH//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxAS2//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EGf/xAAcEAEBAQABBQAAAAAAAAAAAAABEQAhMUFRcbH/2gAIAQEAAT8QQKvAVyKgWrpJ93vkiNQiecCNEmn33//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pedras submersas\"\n        title=\"Pedras submersas\"\n        src=\"/static/7bdd361af40fab4f68ddd0b063d54009/63217/carvalho-beach-submerged-stones.jpg\"\n        srcset=\"/static/7bdd361af40fab4f68ddd0b063d54009/db830/carvalho-beach-submerged-stones.jpg 256w,\n/static/7bdd361af40fab4f68ddd0b063d54009/8102f/carvalho-beach-submerged-stones.jpg 512w,\n/static/7bdd361af40fab4f68ddd0b063d54009/63217/carvalho-beach-submerged-stones.jpg 1024w,\n/static/7bdd361af40fab4f68ddd0b063d54009/d58d1/carvalho-beach-submerged-stones.jpg 1536w,\n/static/7bdd361af40fab4f68ddd0b063d54009/09658/carvalho-beach-submerged-stones.jpg 2048w,\n/static/7bdd361af40fab4f68ddd0b063d54009/fdb5a/carvalho-beach-submerged-stones.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pedras submersas</figcaption>\n  </figure></p>\n<h3 id=\"sapatilhas-para-agua\" style=\"position:relative;\"><a href=\"#sapatilhas-para-agua\" aria-label=\"sapatilhas para agua permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sapatilhas para Ã¡gua</h3>\n<p>Eu estava lÃ¡ com o pÃ© descalÃ§o ou com um par de Havaianas e nenhuma das opÃ§Ãµes era boa, podia machucar o pÃ© descalÃ§o ou cair horrÃ­velmente com as Havaianas que ficam escorregadias quando molhadas.</p>\n<p>Eu vi muitas pessoas com sapatilhas para Ã¡gua andando livremente nas pedras, e eu recomendo fortemente que vocÃª compre um par, elas sÃ£o bem baratas na Decathlon.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.578125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAT0bIG67O//EABkQAQACAwAAAAAAAAAAAAAAAAECAwASIv/aAAgBAQABBQImSt61shZsVqowzrP/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAIR/9oACAECAQE/Aaa//8QAHBAAAgEFAQAAAAAAAAAAAAAAAAExEiEiUXGB/9oACAEBAAY/AvBUkHDF2WyT/8QAGhAAAwEBAQEAAAAAAAAAAAAAAAEhETFBcf/aAAgBAQABPyH4mN9Ep3o7LcEJ70M8e4Y5rWT/2gAMAwEAAgADAAAAEPzP/8QAFREBAQAAAAAAAAAAAAAAAAAAEQD/2gAIAQMBAT8QZF//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EGVhg//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESFBMVFxkaH/2gAIAQEAAT8QLYRYA9j7GdIu9l1WZbhADBUqdEdu8cztH1A8RriiuKn/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Sapatilha para Ã¡gua\"\n        title=\"Sapatilha para Ã¡gua\"\n        src=\"/static/7fa6dfbdcaf470b84daa7a9f791373cb/a24e6/water-shoes.jpg\"\n        srcset=\"/static/7fa6dfbdcaf470b84daa7a9f791373cb/db830/water-shoes.jpg 256w,\n/static/7fa6dfbdcaf470b84daa7a9f791373cb/8102f/water-shoes.jpg 512w,\n/static/7fa6dfbdcaf470b84daa7a9f791373cb/a24e6/water-shoes.jpg 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Sapatilha para Ã¡gua</figcaption>\n  </figure></p>\n<p>Outra utilidade dessas sapatilhas Ã© que o protegerÃ¡ da dor ao mergulhar de alturas superiores a 7 metros.</p>\n<h3 id=\"encontrando-o-melhor-pico\" style=\"position:relative;\"><a href=\"#encontrando-o-melhor-pico\" aria-label=\"encontrando o melhor pico permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Encontrando o melhor pico</h3>\n<p>Na minha estadia em Benagil pude ver quase todos os picos para pular de pedra, e com a <a href=\"https://goo.gl/maps/1NEJxQWvWobMf2tu7\" target=\"_blank\" rel=\"noreferrer\">ajuda do Google Maps</a> eu marquei todos eles.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQozwEZA+b8AKGIcY6BbqyRfYuDbnBtVW5kSG5kR2hfP1VPLk5JKXxvUW9mS2BXOpOCZnhtVUtGKF1UOIF2Xm1iTUpFMACvnop9clyMgW9+d1dQSCdtZEp8b1WEeV+bj3ZpYUaXh2ujk3mfi3LFrJVuYktTTTBfVz+Ic1qQgG1wZk0AkI+AjoV7lYFrhnpNYFgvgHNVv62T1b6j4cux1L+nrJ2DhnZabmJFoo54aWNMTkwyal9ElHxgk4Fpt6OLAJSKeKOUhaickJWOZHxpPYBvVcy3neXKraWehNa7nc+ylK6VemxdPG5iQpxwXIBgTnBmRW9jSHttVZN+YQCVe2mbjnq1raGWjG14YDZzW0G2oYbkyqy3pYfBmnqmj3B+kHSgfma1emSogGd9ZEttX0F3Zkl8bVCXf2IAnY9/gXBakYJsc2pAX1QqbFg1pY5tz66MwJt5mY9vYotwLXJvkX114recp5V2eGREa2BCemlKdmVEoIZpAG9qPKyLcr2lk31yOV1VKnZhPbmjhciVe66CaIGFbm9vbSNxdERtbsGhidSsk5J5XoBiSZaIaMyujaiMagBsYymaiVuVlWx+dDZtYzGAa0e1popogGdHcF05bmMxYGUmZXEhZ3J5aGqlhICng2uVaU+1o4iDj4eBiXwAY1spc2suf3MzcmQ2hHBHsI1oioNzHUNPFE5UFWVeHFxeIk5iImVzKGNvQG91rp6Em4VhdoJ4AUNSDEhVAF5SKV1TKVpTJ4dxSXJsVpWKdbCZildOXUdXY2RbXCZKVCNHWy5UZypjcjFaaLCgjOXPs0FjahJQYRlQXgC8ooKbjWuCdk5YYU8NPj42Sk9xcmskSlglTVwvQFBWW14vTFtlWmpIYXFfWmpoZ21JYmgTSFsYUmUVTV8Ar66ikJKLfoB4N1leH0xRFjhEFjdGE0NUEkRUCzZKUWBkLVBfHkRcGFBkFlVsEEliEURcGUphGEtjFk9jAE5mcFJtfFh2gIGdoTpjbQ9CThdEVBZDVBZHVxRKWBRDURZKWBc/UxlIXBpOZBtOZhpLZB1NZxxOaBhMYxr2Rr7g3z37AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Picos de mergulho\"\n        title=\"Picos de mergulho\"\n        src=\"/static/a8c0c79fdea530062931714acb223800/42a19/carvalho-beach-benagil-diving-spots.png\"\n        srcset=\"/static/a8c0c79fdea530062931714acb223800/e3135/carvalho-beach-benagil-diving-spots.png 256w,\n/static/a8c0c79fdea530062931714acb223800/06341/carvalho-beach-benagil-diving-spots.png 512w,\n/static/a8c0c79fdea530062931714acb223800/42a19/carvalho-beach-benagil-diving-spots.png 1024w,\n/static/a8c0c79fdea530062931714acb223800/b1a45/carvalho-beach-benagil-diving-spots.png 1293w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Picos de mergulho</figcaption>\n  </figure></p>\n<h4 id=\"pico-a\" style=\"position:relative;\"><a href=\"#pico-a\" aria-label=\"pico a permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico A</h4>\n<p>Este Ã© provavelmente o primeiro pico de onde vocÃª deve tentar pular, e existem 2 alturas diferentes para pular, uma tem 6 metros (1,1 segundos de queda) e a outra tem 4 metros de altura (0,9 segundos de queda).</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.515625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAWFSc1xnh//EABgQAAMBAQAAAAAAAAAAAAAAAAABAhES/9oACAEBAAEFAuZMiV1BrNecM//EABURAQEAAAAAAAAAAAAAAAAAAAAh/9oACAEDAQE/AYj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAgEBPwFX/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERIQKRIjFB/9oACAEBAAY/Avdky4Kyezo5KSmf/8QAGBABAQEBAQAAAAAAAAAAAAAAAQARUSH/2gAIAQEAAT8hXdhbRg3xurK8cvjFOz4HL//aAAwDAQACAAMAAAAQZ+//xAAYEQACAwAAAAAAAAAAAAAAAAAAEQFRYf/aAAgBAwEBPxB4HSD/xAAYEQADAQEAAAAAAAAAAAAAAAAAARFBUf/aAAgBAgEBPxCvC9M//8QAHhABAQACAgIDAAAAAAAAAAAAAREAMSFBYYGh0fH/2gAIAQEAAT8QSGG7F95c9ArT1kJ2C/rARLhxzZmj5nRfnKp3VEa8bz//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pico de mergulho A\"\n        title=\"Pico de mergulho A\"\n        src=\"/static/274ab3d8f28ab70d85044c9b3be461db/63217/diving-spot-a.jpg\"\n        srcset=\"/static/274ab3d8f28ab70d85044c9b3be461db/db830/diving-spot-a.jpg 256w,\n/static/274ab3d8f28ab70d85044c9b3be461db/8102f/diving-spot-a.jpg 512w,\n/static/274ab3d8f28ab70d85044c9b3be461db/63217/diving-spot-a.jpg 1024w,\n/static/274ab3d8f28ab70d85044c9b3be461db/f2a33/diving-spot-a.jpg 1216w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pico de mergulho A</figcaption>\n  </figure></p>\n<p>Ambos os picos sÃ£o profundos o suficiente para pular com tranquilidade dependendo de como vocÃª salta. Se vocÃª simplesmente pular para a frente, vai ser tranquilo, porÃ©m nÃ£o sei como seria pular de cabeÃ§a.</p>\n<h4 id=\"pico-b\" style=\"position:relative;\"><a href=\"#pico-b\" aria-label=\"pico b permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico B</h4>\n<p>Este pico tem 6 metros de altura (1,1 segundos de queda) e sÃ³ pode ser saltado na marÃ© alta, mas na real existe uma barreira bloqueando a entrada devido ao alto risco de queda de rochas ou ferimentos ao mergulhar na marÃ© baixa, entÃ£o eu nÃ£o aconselho que pule daqui.</p>\n<h4 id=\"pico-c\" style=\"position:relative;\"><a href=\"#pico-c\" aria-label=\"pico c permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico C</h4>\n<p>Este Ã© o pico mais alto da praia, com 12 metros de altura (1,5 segundos de queda), e ainda nÃ£o consigo acreditar que realmente pulei de la.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.609375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAAB0ZQupFkWEf/EABsQAAIBBQAAAAAAAAAAAAAAAAABAgMQEhMh/9oACAEBAAEFArwqNGzmbP/EABgRAAIDAAAAAAAAAAAAAAAAAAABAhEh/9oACAEDAQE/AZPSz//EABcRAQADAAAAAAAAAAAAAAAAAAACETH/2gAIAQIBAT8Bjin/xAAYEAACAwAAAAAAAAAAAAAAAAAAMQIQEf/aAAgBAQAGPwK8kIR//8QAHhAAAQIHAQAAAAAAAAAAAAAAABExARAhQVFhcZH/2gAIAQEAAT8hu01upgihTemp6f/aAAwDAQACAAMAAAAQOP8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAB/9oACAEDAQE/EMEQv//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAKNj//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhYTFB/9oACAEBAAE/EBV0Ae27m5oxC/Q9vudLR+uchlc//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pulando do pico C\"\n        title=\"Pulando do pico C\"\n        src=\"/static/fc21af4f379806e981bc0a90d9aaeec4/63217/jumping-from-spot-c.jpg\"\n        srcset=\"/static/fc21af4f379806e981bc0a90d9aaeec4/db830/jumping-from-spot-c.jpg 256w,\n/static/fc21af4f379806e981bc0a90d9aaeec4/8102f/jumping-from-spot-c.jpg 512w,\n/static/fc21af4f379806e981bc0a90d9aaeec4/63217/jumping-from-spot-c.jpg 1024w,\n/static/fc21af4f379806e981bc0a90d9aaeec4/5814a/jumping-from-spot-c.jpg 1400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pulando do pico C</figcaption>\n  </figure></p>\n<p>Para este, vocÃª precisarÃ¡ colocar os braÃ§os perto do corpo e as pernas fechadas, e o uso de sapatilhas para Ã¡gua diminuirÃ¡ muito a dor do impacto que vocÃª sentirÃ¡ nos pÃ©s ao atingir a Ã¡gua.</p>\n<p>Eu recomendo que vocÃª pratique fechar braÃ§os e pernas no pico A antes de tentar esse.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAETXY5A0nD/AP/EABsQAAEEAwAAAAAAAAAAAAAAAAABAgMRBCEx/9oACAEBAAEFAilGxaxokecSj//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AYj/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8Bta//xAAaEAEAAQUAAAAAAAAAAAAAAAAAEQECECEx/9oACAEBAAY/AnG03Ipj/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERITFhUf/aAAgBAQABPyEpTlD4Pc2vhJWJPB+clg8RUn//2gAMAwEAAgADAAAAEPwf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/EMpD/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Qgt//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhUXGB/9oACAEBAAE/ECrArgvDjXcZiXZDN08QeX7piAIA4fmDrgBh7v/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Vista do pico C\"\n        title=\"Vista do pico C\"\n        src=\"/static/a3e1200d9fb9e68d00045bf3fed7bbe0/63217/diving-spot-c.jpg\"\n        srcset=\"/static/a3e1200d9fb9e68d00045bf3fed7bbe0/db830/diving-spot-c.jpg 256w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/8102f/diving-spot-c.jpg 512w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/63217/diving-spot-c.jpg 1024w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/d58d1/diving-spot-c.jpg 1536w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/09658/diving-spot-c.jpg 2048w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/fdb5a/diving-spot-c.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Vista do pico C</figcaption>\n  </figure></p>\n<h4 id=\"pico-d\" style=\"position:relative;\"><a href=\"#pico-d\" aria-label=\"pico d permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico D</h4>\n<p>Este local tem 10 metros de altura (1,4 segundos de queda) e mesmo com a marÃ© alta a Ã¡gua nÃ£o Ã© muito profundo, por isso Ã© altamente perigoso, e vocÃª deve evitÃ¡-lo a menos que saiba realmente o que estÃ¡ fazendo, como o cara da foto.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 134.765625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABtTEpoMJzIJCpon//xAAdEAACAQQDAAAAAAAAAAAAAAABAgADEBESEzFB/9oACAEBAAEFAhUU31UzQKcTlm5jGoT4nTHB/8QAGBEBAAMBAAAAAAAAAAAAAAAAAAEREiH/2gAIAQMBAT8BwzK3X//EABgRAAIDAAAAAAAAAAAAAAAAAAASARAh/9oACAECAQE/AXHisP/EABoQAAIDAQEAAAAAAAAAAAAAABAhAAExEXH/2gAIAQEABj8C05EpsVBXwV4P/8QAHhABAAIABwEAAAAAAAAAAAAAAQARECExQVFhcYH/2gAIAQEAAT8h0I/cXaGGWnxAOmGXq0nUs1ThJu8ma7hGpJ//2gAMAwEAAgADAAAAEEMo/wD/xAAYEQEBAAMAAAAAAAAAAAAAAAARAAEQUf/aAAgBAwEBPxDPGpDM/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAQEVH/2gAIAQIBAT8QOigNmR//xAAeEAEAAgMAAgMAAAAAAAAAAAABABEhMVEQQWFxkf/aAAgBAQABPxCroLowYUliJ08bTgv1Ag3lbrZ9QLC1i0qWEy9+ZnfOgXKbmNJbiApsSfka1KrNu2Xxork//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pico de mergulho D\"\n        title=\"Pico de mergulho D\"\n        src=\"/static/75c60ce7e3ef483f91ed31d1c3d83cc1/63217/diving-spot-d.jpg\"\n        srcset=\"/static/75c60ce7e3ef483f91ed31d1c3d83cc1/db830/diving-spot-d.jpg 256w,\n/static/75c60ce7e3ef483f91ed31d1c3d83cc1/8102f/diving-spot-d.jpg 512w,\n/static/75c60ce7e3ef483f91ed31d1c3d83cc1/63217/diving-spot-d.jpg 1024w,\n/static/75c60ce7e3ef483f91ed31d1c3d83cc1/b37e7/diving-spot-d.jpg 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pico de mergulho D</figcaption>\n  </figure></p>\n<h4 id=\"pico-e\" style=\"position:relative;\"><a href=\"#pico-e\" aria-label=\"pico e permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico E</h4>\n<p>Este eu nÃ£o tinha ideia de que fosse possÃ­vel para falar a verdade. Eu sÃ³ descobri no Ãºltimo dia lÃ¡, e sÃ³ porque tentei encontrar vÃ­deos sobre pessoas pulando de pedras na Praia do Carvalho no YouTube.</p>\n<p>Para conseguir pular desse voce primeiramente precisarÃ¡ de habilidades de escaladas tipo o Homem-Aranha.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/0UiYjYqCK5E?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Esse parece ter cerca de 8~10 metros de altura (cerca de 1,3 segundos de queda) e ao nadar perto dessa rocha, eu reparei que hÃ¡ um monte de pedras debaixo dâ€™Ã¡gua, o que torna este salto super perigoso. Evite a qualquer custo.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ConclusÃ£o</h2>\n<p>Eu me diverti muito em Benagil e consegui quebrar o meu prÃ³prio recorde de altura ao pular de uma pedra, que antes foi de quando eu pulei do Bufador em Cabo Frio.</p>\n<p>Se for ao Algarve para a sua prÃ³xima viagem, nÃ£o pode deixar de viajar para Benagil.</p>","fields":{"postHashId":"Z2VuZXJhbHRydWVudWxsMjAyMS0wOS0wMlQwMDowMDowMC4wMDBa","slug":"/2021/2021-09-02-um-guia-para-pular-de-pedras-em-benagil.pt-br/","path":"/blog/general/um-guia-para-pular-de-pedras-em-benagil/","locale":"pt-br"},"rawMarkdownBody":"MÃªs passado eu viajei para a regiÃ£o do Algarve, em Portugal, e para a minha sorte, haviam algumas praias fantÃ¡sticas para caminhadas, escaladas e para pular de pedras, e como a minha cidade natal estÃ¡ repleta de praias como estas, eu imediatamente me senti em casa.\r\n\r\n![Praia da Ferradurinha em BÃºzios](../../uploads/blog/2021/09/ferradurinha-beach.jpg)\r\n\r\n## Praia do Carvalho em Benagil\r\nFomos a alguns locais no Algarve, mas o que mais me diverti foi sem dÃºvidas Benagil, mais precisamente a Praia do Carvalho, repleta de picos para pular de pedras.\r\n\r\n![Praia do Carvalho](../../uploads/blog/2021/09/carvalho-beach-benagil.jpg)\r\n\r\nA Praia do Carvalho tem o seu nome porque era uma praia privada para um capitÃ£o chamado Carvalho, e sÃ³ era acessÃ­vel por barco, mas alguns anos mais tarde o governo decretou que todas as praias deviam ser pÃºblicas, entÃ£o o capitÃ£o Carvalho escavou uma entrada para a praia nas rochas para que qualquer pessoa pudesse entrar nela.\r\n\r\nEu estava um pouco enferrujado com as minhas habilidades de pular de pedras, mas no final consegui pular de quase todos os picos da praia, e aqui estÃ£o as minhas dicas de como se divertir por lÃ¡.\r\n\r\nAntes de seguir qualquer uma dessas dicas, lembre-se de respeitar o seu limite fÃ­sico e manter a seguranÃ§a em primeiro lugar. VocÃª pode se machucar muito se nÃ£o souber o que estÃ¡ fazendo.\r\n\r\n![Placa de perigo](../../uploads/blog/2021/09/danger-sign.jpg)\r\n\r\n### Fique de olho nas marÃ©s\r\nAlguns picos de mergulho do penhasco sÃ³ sÃ£o seguros para pular quando a marÃ© estÃ¡ alta, entÃ£o [fique de olho na marÃ© em sites como o tideking.com](https://www.tideking.com/Portugal/Faro/Lagoa/Praia-do-Carvalho/).\r\n\r\n![MarÃ©s](../../uploads/blog/2021/09/tides-carvalho-beach.png)\r\n\r\nOutra forma de saber se a marÃ© estÃ¡ alta, Ã© olhando as pedras menores perto da pedra gigante no meio da praia, se nÃ£o der para ve-las, como na foto abaixo, significa que a marÃ© estÃ¡ boa para pular.\r\n\r\n![Pedras submersas](../../uploads/blog/2021/09/carvalho-beach-submerged-stones.jpg)\r\n\r\n### Sapatilhas para Ã¡gua\r\nEu estava lÃ¡ com o pÃ© descalÃ§o ou com um par de Havaianas e nenhuma das opÃ§Ãµes era boa, podia machucar o pÃ© descalÃ§o ou cair horrÃ­velmente com as Havaianas que ficam escorregadias quando molhadas.\r\n\r\nEu vi muitas pessoas com sapatilhas para Ã¡gua andando livremente nas pedras, e eu recomendo fortemente que vocÃª compre um par, elas sÃ£o bem baratas na Decathlon.\r\n\r\n![Sapatilha para Ã¡gua](../../uploads/blog/2021/09/water-shoes.jpg)\r\n\r\nOutra utilidade dessas sapatilhas Ã© que o protegerÃ¡ da dor ao mergulhar de alturas superiores a 7 metros.\r\n\r\n### Encontrando o melhor pico\r\nNa minha estadia em Benagil pude ver quase todos os picos para pular de pedra, e com a [ajuda do Google Maps](https://goo.gl/maps/1NEJxQWvWobMf2tu7) eu marquei todos eles.\r\n\r\n![Picos de mergulho](../../uploads/blog/2021/09/carvalho-beach-benagil-diving-spots.png)\r\n\r\n#### Pico A\r\nEste Ã© provavelmente o primeiro pico de onde vocÃª deve tentar pular, e existem 2 alturas diferentes para pular, uma tem 6 metros (1,1 segundos de queda) e a outra tem 4 metros de altura (0,9 segundos de queda).\r\n\r\n![Pico de mergulho A](../../uploads/blog/2021/09/diving-spot-a.jpg)\r\n\r\nAmbos os picos sÃ£o profundos o suficiente para pular com tranquilidade dependendo de como vocÃª salta. Se vocÃª simplesmente pular para a frente, vai ser tranquilo, porÃ©m nÃ£o sei como seria pular de cabeÃ§a.\r\n\r\n#### Pico B\r\nEste pico tem 6 metros de altura (1,1 segundos de queda) e sÃ³ pode ser saltado na marÃ© alta, mas na real existe uma barreira bloqueando a entrada devido ao alto risco de queda de rochas ou ferimentos ao mergulhar na marÃ© baixa, entÃ£o eu nÃ£o aconselho que pule daqui.\r\n\r\n#### Pico C\r\nEste Ã© o pico mais alto da praia, com 12 metros de altura (1,5 segundos de queda), e ainda nÃ£o consigo acreditar que realmente pulei de la.\r\n\r\n![Pulando do pico C](../../uploads/blog/2021/09/jumping-from-spot-c.jpg)\r\n\r\nPara este, vocÃª precisarÃ¡ colocar os braÃ§os perto do corpo e as pernas fechadas, e o uso de sapatilhas para Ã¡gua diminuirÃ¡ muito a dor do impacto que vocÃª sentirÃ¡ nos pÃ©s ao atingir a Ã¡gua.\r\n\r\nEu recomendo que vocÃª pratique fechar braÃ§os e pernas no pico A antes de tentar esse.\r\n\r\n![Vista do pico C](../../uploads/blog/2021/09/diving-spot-c.jpg)\r\n\r\n#### Pico D\r\nEste local tem 10 metros de altura (1,4 segundos de queda) e mesmo com a marÃ© alta a Ã¡gua nÃ£o Ã© muito profundo, por isso Ã© altamente perigoso, e vocÃª deve evitÃ¡-lo a menos que saiba realmente o que estÃ¡ fazendo, como o cara da foto.\r\n\r\n![Pico de mergulho D](../../uploads/blog/2021/09/diving-spot-d.jpg)\r\n\r\n#### Pico E\r\nEste eu nÃ£o tinha ideia de que fosse possÃ­vel para falar a verdade. Eu sÃ³ descobri no Ãºltimo dia lÃ¡, e sÃ³ porque tentei encontrar vÃ­deos sobre pessoas pulando de pedras na Praia do Carvalho no YouTube.\r\n\r\nPara conseguir pular desse voce primeiramente precisarÃ¡ de habilidades de escaladas tipo o Homem-Aranha.\r\n\r\n`youtube: https://www.youtube.com/watch?v=0UiYjYqCK5E`\r\n\r\nEsse parece ter cerca de 8~10 metros de altura (cerca de 1,3 segundos de queda) e ao nadar perto dessa rocha, eu reparei que hÃ¡ um monte de pedras debaixo d'Ã¡gua, o que torna este salto super perigoso. Evite a qualquer custo.\r\n\r\n## ConclusÃ£o\r\nEu me diverti muito em Benagil e consegui quebrar o meu prÃ³prio recorde de altura ao pular de uma pedra, que antes foi de quando eu pulei do Bufador em Cabo Frio.\r\n\r\nSe for ao Algarve para a sua prÃ³xima viagem, nÃ£o pode deixar de viajar para Benagil.\r\n","frontmatter":{"tags":["penhasco","pular de pedra","benagil","praia do carvalho","portugal","algarve"],"categories":["general"],"allowComments":true,"publishOnMedium":false,"cover":null,"date":"2021-09-02T00:00:00.000Z","id":null,"path":"um-guia-para-pular-de-pedras-em-benagil","show":true,"title":"Um guia para pular de pedras em Benagil","hideExcerpt":false,"subtitle":""}},"language":"en","intl":{"language":"en","languages":["en","pt-br"],"messages":{"site_title":"pablo.gg","title":"Title","author":"@thepiratepablo","search_placeholder":"Search...","about":"About","photos":"Photos","archive":"Archive","contact":"Contact","close":"Close","contact_page":"Contact page","see_more":"See more posts","built_with":"Built with ","buy_me_a_soda":"Buy me a soda","blog":"Blog","blog_posts":"Blog posts","go_to_post":"Go to post","search":"Search","loading":"Loading...","search_results":"Search results","search_results_for":"{quantity} search results for: \"{query}\"","search_for_query":"Search for \"{query}\"","no_results":"No results","home":"Home","description":"Yet another developer personal blog","go_back":"Go back to the homepage","thats_me":"That's me!","got_it":"Got it!","check_it_out":"Check it out!","we_are":"We are","e3":"E3","away_from_next_sgf":"away from Summer Game Fest 2025","away_from_next_gamescom":"away from Gamescom 2024","sgf_countdown":"Summer Game Fest Countdown","gamescom_countdown":"Gamescom Countdown","e3_paragraph_1":"This page once featured a countdown to the next E3 event, a moment that countless gamers and industry professionals looked forward to each year. E3 was not just an event; it was a celebration of our shared passion for video games, a place where dreams were realized, and memories were made.","e3_paragraph_2":"From the electrifying announcements to the hands-on demos, E3 was the heartbeat of the gaming world. It brought together people from all corners of the globe, united by their love for games. For many, it was a chance to meet their heroes, discover new titles, and experience the thrill of the latest innovations in gaming technology.","e3_paragraph_3":"However, as the gaming landscape has evolved, so too has the way we connect and celebrate our passion. While E3 has come to an end, the spirit of excitement and community it fostered lives on. We now look forward to new ways of coming together, sharing our love for games, and creating new memories.","e3_paragraph_4":"Though the countdown is gone, the legacy of E3 will forever remain in our hearts, reminding us of the incredible journeys we've taken and the bonds we've formed along the way.","sec":"Sec","secs":"Secs","min":"Min","mins":"Mins","hour":"Hour","hours":"Hours","day":"Day","days":"Days","month":"Month","months":"Months","year":"Year","years":"Years","recent_posts":"Recent posts","email":"Email","twitter":"Twitter","name":"Name","page":"Page","fill_this_want_reply":"Fill this in if you want me to contact you back","sorry_this_post_unavailable_language":"Sorry, this post is not available in the language you picked","language":"Language","comment":"Comment","comments":"Comments","no_comments":"No comments yet.","post_comment":"Post comment","send_message":"Send message","message":"Message","post_a_comment":"Post a comment","your_comment_submitted":"Your comment has been successfully submitted.","your_message_submitted":"Your message has been successfully submitted.","on":"on","ok":"Ok","copy":"Copy","copied":"Copied","photo_num":"Photo {num}","the_matrix_has_you":"The Matrix has you...","about_paragraph_1":"A technology enthusiast from an early age, I have always been interested in computers and video games.","about_paragraph_2":"I graduated in Information Technology at EstÃ¡cio de SÃ¡ University and always try to find out about new technologies and get involved in new development projects, some of which the code can be found on GitHub.","cookie_banner_consent":"By using this website you agree to our use of cookies to deliver a better experience.","written_in":"Written in ","no_post_this_tag":"No post in English include this tag.","tags":"Tags","tag_colon":"Tag: ","tags_colon":"Tags: ","posts_tagged":"Posts tagged with ","categories":"Categories","category":"Category","category_colon":"Category: ","posts_on_category":"Posts on category ","related_posts":"Related posts","read_time":"ðŸ•’ {time} min. read","create_post":"Create Post","show":"Show","date":"Date","download":"Download","add_tag":"Add Tag","hide_excerpt":"Hide Excerpt","publish_on_medium":"Publish on Medium","allow_comments":"Allow Comments","subtitle":"Subtitle","you_must_be_truly_desperate":"You must be truly desperate to come to me for help","game.game_title":"pablo.gg - The Game","game.next":"Next","game.ok":"Ok","game.loading_asset_colon":"Loading asset:","game.loading":"Loading...","game.characters.npc_01":"Frost","game.characters.npc_02":"Gavin","game.characters.npc_03":"Giles","game.characters.npc_04":"Godfrey","game.characters.npc_05":"Hugh","game.characters.npc_06":"Ivar","game.characters.npc_07":"Leopold","game.characters.npc_08":"Lucian","game.characters.npc_09":"Gumercindo","game.characters.npc_10":"Mr. Flower","game.characters.npc_11":"Maxim","game.characters.npc_12":"Milo","game.characters.npc_13":"Otto","game.characters.npc_14":"Palmer","game.characters.npc_15":"Quentin","game.characters.npc_16":"Sebastian","game.characters.npc_17":"Neville","game.characters.npc_18":"Cassian","game.characters.npc_19":"Balthasar","game.characters.sign_01":"Sign","game.characters.book_01":"Book","game.characters.home_page_city_sign":"Sign","game.characters.coding_category_city_sign_01":"Sign","game.characters.coding_category_city_sign_02":"Sign","game.characters.events_category_city_sign":"Sign","game.characters.funny_category_city_sign":"Sign","game.characters.gadgets_category_city_sign_01":"Sign","game.characters.gadgets_category_city_sign_02":"Sign","game.characters.games_category_city_sign":"Sign","game.characters.general_category_city_sign":"Sign","game.characters.tips_category_city_sign":"Sign","game.characters.toys_category_city_sign":"Sign","game.characters.sword":"Info","game.characters.push":"Info","game.gamepad.a_button":"A Button","game.gamepad.b_button":"B Button","game.gamepad.d_pad_left":"D-Pad Left","game.gamepad.d_pad_up":"D-Pad Up","game.gamepad.d_pad_right":"D-Pad Right","game.gamepad.d_pad_down":"D-Pad Down","game.gamepad.start_button":"Start Button","game.menu.start":"Start","game.menu.exit":"Exit","game.menu.settings":"Settings","game.game_over.game_over":"Game Over","game.game_over.retry":"Retry","game.game_over.exit":"Exit","game.start_menu.save_game":"Save Game","game.start_menu.exit":"Exit","game.browse_posts.choose_a_post":"Choose a Post to read","game.dialogs.npc_01.01":"Hey, you're finally awake!","game.dialogs.npc_01.02":"What, you don't know where you are?","game.dialogs.npc_01.03":"Don't be silly, you're at the Home Page City, remember?","game.dialogs.npc_01.04":"This city was founded by Pablo Montenegro to be the start of your journey","game.dialogs.npc_01.05":"Go explore the world and find other cities where you can read the accumulated knowledge of our civilization...","game.dialogs.npc_01.06":"... some people call it \"Blog Posts\", I don't know why...","game.dialogs.npc_02.01":"Be careful with the Slimes that live in the wild.","game.dialogs.npc_02.02":"Press SPACE to use your sword","game.dialogs.npc_02.03":"What is SPACE? I have no idea.","game.dialogs.npc_03.01":"Hello, welcome to our library","game.dialogs.npc_03.02":"We only have one book, which contains all of this city category publications.","game.dialogs.npc_03.03":"Go check it out!","game.dialogs.npc_04.01":"I like snails","game.dialogs.npc_05.01":"Incomplete sentences may cause some","game.dialogs.npc_06.01":"Red is greener than purple, for sure.","game.dialogs.npc_07.01":"Having a beard is the new not having a beard","game.dialogs.npc_08.01":"Sup","game.dialogs.npc_09.01":"\" - Cooper, what are you doing?\"\n\" - Docking.\"","game.dialogs.npc_10.01":"I should buy a boat","game.dialogs.npc_11.01":"Have you heard the me neither joke? Me neither.","game.dialogs.npc_12.01":"I clean toilet and rescue princesses, good life, yes?","game.dialogs.npc_13.01":"We want the airwaves back","game.dialogs.npc_14.01":"Save the cheerleader, save the world","game.dialogs.npc_15.01":"Hello, how are you?","game.dialogs.npc_15.02":"Ok bye!","game.dialogs.npc_16.01":"A kangaroo is really just a rabbit on steroids","game.dialogs.npc_17.01":"For the 216th time, he said he would quit drinking soda after this last Coke","game.dialogs.npc_18.01":"Nothing and everything is possimpible","game.dialogs.npc_19.01":"For a city called \"Events\", there isn't much going on...","game.dialogs.sign_01.01":"Congrats, you can read this!","game.dialogs.book_01.01":"Hey, thanks for trying out this very weird way to access my website","game.dialogs.book_01.02":"This project wouldn't be possible without the awesome open-source work of many people, like:","game.dialogs.book_01.03":"ArMM1998 - For the characters sprites and tilesets","game.dialogs.book_01.04":"PixElthen - For the slime sprites","game.dialogs.book_01.05":"pixelartm - For the pirate hat sprites","game.dialogs.book_01.06":"jkjkke - For the Game Over screen background","game.dialogs.book_01.07":"KnoblePersona - For the Main Menu screen background","game.dialogs.book_01.08":"Min - For the open book sprite","game.dialogs.book_01.09":"And of course, Richard Davey for making Phaser.io!","game.dialogs.home_page_city_sign":"City of Home Page","game.dialogs.coding_category_city_sign.01":"City of Coding Category","game.dialogs.coding_category_city_sign.02":"City of Coding Category","game.dialogs.events_category_city_sign":"City of Events Category","game.dialogs.funny_category_city_sign":"City of Funny Category","game.dialogs.gadgets_category_city_sign.01":"City of Gadgets Category","game.dialogs.gadgets_category_city_sign.02":"City of Gadgets Category","game.dialogs.games_category_city_sign":"City of Games Category","game.dialogs.general_category_city_sign":"City of General Category","game.dialogs.tips_category_city_sign":"City of Tips Category","game.dialogs.toys_category_city_sign":"City of Toys Category","game.dialogs.sword_item_description":"You can now attack, press SPACE to use your sword.","game.dialogs.push_item_description":"Now you can push some objects, press SPACE in front of a object to use push it.","zelda_timeline.title":"Zelda Timeline","zelda_timeline.timeline_split":"Timeline Split","zelda_timeline.timeline_unification":"Timeline Unification","zelda_timeline.icons_from":"The icons used on this page are from zeldauniverse.net and game-icons.net","zelda_timeline.creation":"Creation","zelda_timeline.creation_of_land_sky":"The Creation of the Land and Sky","zelda_timeline.goddess_hylia_and_sky_era":"Goddess Hylia and Sky Era","zelda_timeline.skyward_sword":"Skyward Sword","zelda_timeline.the_ancient_battle":"The Ancient Battle and the reincarnation of the Goddess Hylia","zelda_timeline.return_to_surface":"Return to the surface","zelda_timeline.era_of_chaos":"Era of Chaos","zelda_timeline.sacred_realm_sealed":"The Sacred Realm is Sealed","zelda_timeline.era_of_prosperity":"Era of Prosperity","zelda_timeline.establishment_of_hyrule":"The Hyrule Kingdom is established","zelda_timeline.force_era":"Force Era","zelda_timeline.the_minish_cap":"The Minish Cap","zelda_timeline.rise_of_evil_vaati":"The Rise of the Evil Vaati","zelda_timeline.four_swords":"Four Swords","zelda_timeline.resurrection_of_vaati":"The Resurrection of Vaati","zelda_timeline.era_of_the_hero_of_time":"Era of the Hero of Time","zelda_timeline.hyrulean_civil_war":"Hyrulean Civil War","zelda_timeline.ocarina_of_time":"Ocarina of Time","zelda_timeline.sacred_realm_becomes_dark_world":"The Sacred Realm Becomes the Dark World","zelda_timeline.ganondorf_becomes_ganon":"Ganondorf becomes Ganon","zelda_timeline.hero_is_defeated":"Hero is defeated","zelda_timeline.decline_of_last_hero":"The Decline of Hyrule and the Last Hero","zelda_timeline.the_imprisoning_war":"The Imprisoning War","zelda_timeline.era_of_dark_and_light":"Era of Light and Dark","zelda_timeline.a_link_to_the_past":"A Link to the Past","zelda_timeline.resurrection_of_ganon":"The Resurrection of Ganon","zelda_timeline.resurrection_of_ganon_is_prevented":"The Resurrection of Ganon is prevented","zelda_timeline.links_awakening":"Link's Awakening","zelda_timeline.oracle_of_ages_and_seasons":"Oracle of Ages and Oracle of Seasons","zelda_timeline.a_link_between_worlds":"A Link Between Worlds","zelda_timeline.tri_force_heroes":"Tri Force Heroes","zelda_timeline.the_gold_era":"The Gold Era","zelda_timeline.monarchs_of_hyrule_use_triforce":"The Monarchs of Hyrule Use the Triforce","zelda_timeline.era_of_decline":"The Era of Decline","zelda_timeline.tragedy_of_princess_zelda_1":"The Tragedy of Princess Zelda I","zelda_timeline.the_legend_of_zelda":"The Legend of Zelda","zelda_timeline.adventure_of_link":"Adventure of Link","zelda_timeline.hero_defeated":"Hero Defeated","zelda_timeline.child_era":"Child Era","zelda_timeline.adult_era":"Adult Era","zelda_timeline.sacred_realm_protected":"The Sacred Realm Remains Protected","zelda_timeline.twilight_realm_and_legacy_of_hero":"The Twilight Realm and the Legacy of the Hero","zelda_timeline.majoras_mask":"Majora's Mask","zelda_timeline.prince_of_thieves_is_executed":"The Demon Thief, Ganondorf, Is Executed","zelda_timeline.twilight_era":"The Twilight Era","zelda_timeline.twilight_princess":"Twilight Princess","zelda_timeline.shadow_invasion":"The Shadow Invasion","zelda_timeline.shadow_era":"The Shadow Era","zelda_timeline.four_swords_adventures":"Four Swords Adventures","zelda_timeline.reincarnation_of_ganondorf":"The Reincarnation of Ganondorf","zelda_timeline.ganondorf_is_sealed":"Ganondorf is sealed","zelda_timeline.hero_of_wind_and_new_world":"The Hero of Wind and a New World","zelda_timeline.era_without_a_hero":"The Era without a Hero","zelda_timeline.ganondorf_is_resurrected":"Ganondorf is Resurrected","zelda_timeline.hyrule_is_sealed_and_flooded":"Hyrule is sealed and then flooded","zelda_timeline.era_of_the_great_sea":"The Era of the Great Sea","zelda_timeline.the_wind_waker":"The Wind Waker","zelda_timeline.era_of_the_great_voyage":"The Era of the Great Voyage","zelda_timeline.phantom_hourglass":"Phantom Hourglass","zelda_timeline.era_of_hyrule_rebirth":"The Era of Hyrule's Rebirth","zelda_timeline.new_continent_discovered":"New Continent Discovered","zelda_timeline.new_hyrule_is_founded":"A New Hyrule Kingdom is founded","zelda_timeline.spirit_tracks":"Spirit Tracks","zelda_timeline.evil_king_malladus_is_resurrected":"The Evil King Malladus is Resurrected","zelda_timeline.age_of_calamity":"Age of Calamity","zelda_timeline.breath_of_the_wild":"Breath of the Wild","zelda_timeline.era_of_the_wilds":"Era of the Wilds","zelda_timeline.calamity_ganon_is_sealed":"Calamity Ganon is Sealed. Technology is banned, leading some Sheikah to form the Yiga Clan","zelda_timeline.divine_beasts_are_cleansed":"The Divine Beasts are cleansed and Calamity Ganon is Sealed","zelda_timeline.tears_of_the_kingdom":"Tears of the Kingdom","zelda_timeline.hyrule_kingdom_is_teared_apart":"Ganondorf is Resurrected (I think?)","blog_categories.games":"Games","blog_categories.general":"General","blog_categories.tips":"Tips","blog_categories.events":"Events","blog_categories.coding":"Coding","blog_categories.funny":"Funny","blog_categories.toys":"Toys","blog_categories.gadgets":"Gadgets","forty_two_page.title":"Forty Two","forty_two_page.description":"So long and thanks for all the fish!","projects_page.title":"Projects","projects_page.description":"Here is a list of some of my favorites personal projects.","projects_page.gatsbyMaterialUiBlogDescription":"A simple Gatsby Blog Starter with Material UI.","projects_page.contractBuilderDescription":"Contract Builder is a free open-source project that allows anyone to easily maintain and build any kind of contract (legal documents, lawsuit, rent, agreements, construction and so on) using Google Spreadsheets. This was develop as a personal project to help a friend who was struggling spending up to an hour to make a custom contract, now she is able to do it in less than 5 minutes. Hooray!","projects_page.resumeBuilderDescription":"Resume Builder is a free open-source project that allows anyone to easily maintain and build any kind of resume using Google Spreadsheets. This was develop as a personal project to help a friend who was struggling spending up to an hour to make a custom resumes.","projects_page.magentoChatbotDescription":"With this module you can fully integrate your Magento store with the most popular chat apps in the market. This means that by simply installing this module and a few clicks you can have a new way to show and sell your products to your clients. Very easy to use! Try now, it's FREE.","projects_page.jamStackSortenerDescription":"This is a basic URL shortener POC build with Gatsby.","projects_page.gotinhaDescription":"It was always my dream to make my own game, and after trying Unity a couple years ago, I decided to try it again with something I'm more familiar with: Javascript. As a frontend developer, Javascript is already the language that I write most of my code at work and also in my personal projects, and after a quick search I was able to find the amazing PhaserJS Framework for building 2D web games.","e3_2012_photos.title":"E3 2012","e3_2012_photos.description":"On June 2012 I attended E3 as a media press for a full coverage for Nintendo Blast.","e3_2013_photos.title":"E3 2013","e3_2013_photos.description":"On June 2013 I attended E3 as a media press for a full coverage for Game Blast.","e3_2014_photos.title":"E3 2014","e3_2014_photos.description":"On June 2014 I attended E3 as a media press for a full coverage for Game Blast.","e3_2015_photos.title":"E3 2015","e3_2015_photos.description":"On June 2015 I attended E3 as a media press for a full coverage for Game Blast and Game Over TV.","e3_2017_photos.title":"E3 2017","e3_2017_photos.description":"On June 2012 I attended E3 as a media press for a full coverage for PlayReplay and Game Over TV.","e3_2019_photos.title":"E3 2019","e3_2019_photos.description":"On June 2019 I attended E3 as a media press for a full coverage for PlayReplay.","gamescom_2019_photos.title":"Gamescom 2019","gamescom_2019_photos.description":"On August 2019 I attended Gamescom as a media press for a full coverage for PlayReplay.","san_francisco_2019_photos.title":"San Francisco 2019","san_francisco_2019_photos.description":"On September 2019 I've traveled to San Francisco for the Metallica S&M2 concert.","notfound.title":"404: Not found","notfound.header":"404 NOT FOUND","notfound.description":"Sorry, this page doesn't seem to exist. Perhaps the archives are incomplete?","seo_keywords.developer":"developer","seo_keywords.development":"development","seo_keywords.javascript":"javascript","seo_keywords.es6":"es6","seo_keywords.e3":"e3","seo_keywords.sgf":"sgf","seo_keywords.gamescom":"gamescom","seo_keywords.countdown":"countdown","seo_keywords.archive":"archive","seo_keywords.about_me":"about me","seo_keywords.personal_blog":"personal blog","seo_keywords.personal_projects":"personal projects","seo_keywords.travels":"travels","seo_keywords.tips":"tips","seo_keywords.lifehacks":"lifehacks","seo_keywords.reviews":"reviews","seo_keywords.games":"games","seo_keywords.timeline":"timeline","seo_keywords.photos":"photos","cookie_law.we_use_cookies":"We use cookies to ensure you get the best experience on our website. By using our website you agree to our ","cookie_law.title":"Cookie policy","cookie_law.what_are_cookies":"What are cookies?","cookie_law.what_are_cookies_text":"As is common practice with almost all professional websites this site uses cookies, which are tiny files that are downloaded to your computer, to improve your experience. This page describes what information they gather, how we use it and why we sometimes need to store these cookies. We will also share how you can prevent these cookies from being stored however this may downgrade or 'break' certain elements of the sites functionality. For more general information on cookies, please read ","cookie_law.what_are_cookies_more_info_url":"https://en.wikipedia.org/wiki/HTTP_cookie","cookie_law.how_we_use_cookies":"How we use cookies","cookie_law.how_we_use_cookies_text":"We use cookies for a variety of reasons detailed below. Unfortunately in most cases there are no industry standard options for disabling cookies without completely disabling the functionality and features they add to this site. It is recommended that you leave on all cookies if you are not sure whether you need them or not in case they are used to provide a service that you use.","cookie_law.disabling_cookies":"Disabling cookies","cookie_law.disabling_cookies_text":"You can prevent the setting of cookies by adjusting the settings on your browser (see your browser Help for how to do this). Be aware that disabling cookies will affect the functionality of this and many other websites that you visit. Disabling cookies will usually result in also disabling certain functionality and features of the this site. Therefore it is recommended that you do not disable cookies.","cookie_law.the_cookies_we_set":"The cookies we set","cookie_law.site_preferences_cookie":"Site preferences cookies","cookie_law.site_preferences_cookie_text":"In order to provide you with a great experience on this site we provide the functionality to set your preferences for how this site runs when you use it. In order to remember your preferences we need to set cookies so that this information can be called whenever you interact with a page is affected by your preferences.","cookie_law.third_party_cookies":"Third party cookies","cookie_law.third_party_cookies_text":"In some special cases we also use cookies provided by trusted third parties. The following section details which third party cookies you might encounter through this site.","cookie_law.third_party_cookies_item_1":"This site uses Google Analytics which is one of the most widespread and trusted analytics solution on the web for helping us to understand how you use the site and ways that we can improve your experience. These cookies may track things such as how long you spend on the site and the pages that you visit so we can continue to produce engaging content. For more information on Google Analytics cookies, see the official Google Analytics page.","cookie_law.third_party_cookies_item_2":"From time to time we test new features and make subtle changes to the way that the site is delivered. When we are still testing new features these cookies may be used to ensure that you receive a consistent experience whilst on the site whilst ensuring we understand which optimisations our users appreciate the most.","cookie_law.more_information":"More information","cookie_law.more_information_text":"Hopefully that has clarified things for you and as was previously mentioned if there is something that you aren't sure whether you need or not it's usually safer to leave cookies enabled in case it does interact with one of the features you use on our site. However if you are still looking for more information then you can contact us through our "},"routed":true,"originalPath":"/blog/games/creating-moving-platforms-for-my-phaser-js-game-game-devlog-22/","redirect":true,"redirectDefaultLanguageToRoot":false,"defaultLanguage":"en","fallbackLanguage":"","ignoredPaths":[]},"blogLocale":"en"}},
    "staticQueryHashes": ["1156153307","1355482417","1591365477","1628619374","2127381735","2288279559","26159077","3566410298","3649515864","3847325417","3982724423","928834867"]}