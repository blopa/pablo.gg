{
    "componentChunkName": "component---src-pages-game-jsx",
    "path": "/pt-br/game/",
    "result": {"data":{"site":{"siteMetadata":{"siteUrl":"https://pablo.gg"}},"allMarkdownRemark":{"edges":[{"node":{"excerpt":"Muitas vezes, amigos me perguntam: “Pablo, como você…","html":"<p>Muitas vezes, amigos me perguntam: “Pablo, como você consegue manter a calma e serenidade diante de desafios técnicos complexos?” Bem, a verdade é que eu não consigo. Eu apenas escrevo posts no blog sobre eles para parecer que eu consigo. Esta é uma dessas histórias.</p>\n<p>Recentemente, me vi precisando desvendar os valores dos cookies vindos de uma aplicação Laravel, lê-los, atualizá-los e, em seguida, remontá-los de uma forma que a aplicação Laravel nem percebesse. Parece o enredo de um filme do Missão Impossível, certo? Vamos seguir com essa ideia, e eu sou o Tom Cruise.</p>\n<h2 id=\"a-infame-migracao-para-o-nextjs\" style=\"position:relative;\"><a href=\"#a-infame-migracao-para-o-nextjs\" aria-label=\"a infame migracao para o nextjs permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A infame migração para o Next.js</h2>\n<p>Depois de migrar do <a href=\"https://medium.com/studocu-techblog/migrating-from-coffeescript-to-javascript-es6-ed73bcae851e\" target=\"_blank\" rel=\"noreferrer\">CoffeeScript para o ES6</a> e depois do <a href=\"https://medium.com/studocu-techblog/how-we-migrated-our-codebase-to-typescript-c7962f1b877a\" target=\"_blank\" rel=\"noreferrer\">ES6 para o TypeScript</a>, era hora de mais uma grande refatoração: <a href=\"https://medium.com/studocu-techblog/migrating-from-a-monolith-to-next-js-at-studocu-part-1-4b0baf3d5fe9\" target=\"_blank\" rel=\"noreferrer\">separar nosso frontend do Laravel em um app Next.js independente</a>.</p>\n<p>Para melhorar o desempenho, a experiência do desenvolvedor e a atratividade do empregador (merchan descarado, estamos contratando no <a href=\"https://jobs.studocu.com/job-postings\" target=\"_blank\" rel=\"noreferrer\">Studocu</a> <em>wink-wink</em>), precisávamos de um framework frontend robusto que pudesse lidar com nossa crescente base de usuários e conjunto de funcionalidades. O Next.js parecia a escolha perfeita.</p>\n<p>Teoricamente, isso nos ajudaria a parar de reinventar a roda - como escrever infinitas linhas de configurações do Webpack - e focar no que realmente importa: construir funcionalidades que nossos usuários amam. Então, o plano é que, em vez de ter um código espaguete gigante, teríamos dois menores, como fios de macarrão.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.109375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2klEQVQozy2SV08aAQCA79c0afpgk/ah66EacVAirjiq1lkVsYjQoETREjc2NVpNIY5KVVC0FRcOhhbkuDvAosZto3DcnbdYmva1MfX1S76XLx9whTqvUCeDu3D/dpjaIVGQRu3XFMTgEE3A2KWDDDopDGTwW8ISUIRy4ygYoT0sAQME6oyS8E94+dPU8Pz8qGG0cUJdv2zWaZd0c9ODF6c2hkSo4J3M4K5pvbpLITEMd5MoCNAYCO+ZB9QftbLi5obyPmmaouGtuDa/9f0bgzLPNtMZON1kCJhEwSjjdVj1woK80sL87NTElYUxIER7rTZDn7RALs7rFfKVTWXy2uTytEdPHj1oLubMNeT4NrQhZofFob8Rn3ltqio1sbIgu6zo9apxDMAxeFopqM1IkL98mJX4gsuJS3t+jxP/rDL9cY0of6gx+wAyxEI7GyvjR3urYdKt1fS0SqqHv/QE/U4gcLo1UZMqi48T81Mk5QmSzPuykpTu+rx2abGoKk2hFCwZ1Rbz0snx0bbDen64HqG9/hMbexsPBigC+tEvlBTymkXZnWKO8RsviHDPkazepsyeUp5UUWtaH/fCpvXVRYfdFDjfjNHuGOOOUB4ag4DAhUOl7u0SZnW/y60TF0OWjEsPd0XPaf+QI6/OHRAleZ1T12EfvG24PLNeM96FeW1Xa9Oy7jNDQACFIZrZ8WZ5iUxc2iJKt37n67WvNB1PVZLk/oqkMVVV4NTKEEiEct+Ed+wWQ5u8wDbPVdbx15YmAZZA9vctM0bNYEuFUpDRUcmTNlUo2ouE8jrdUNvZ1iQbBCkcIlHwJuRdWdR1yDLXZ7j1ggzj7AhAoCAZdOG4+9hn8pj1v5ZH3Kavc1ajFVzALu0s6SFxiMJc//ci/M4hVUtdeVGfqsX/2w5QOETjME0gYXY3Gj2Ixg5jsYM/4d3rkI8lvTSOUNidTGOu8BVCE9DJ3hqFucIk8g/70eAbl2hLKwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Código espaguete\"\n        title=\"Código espaguete\"\n        src=\"/static/63a275658d485cabf21527594c9d1a0d/42a19/spaghetti-code.png\"\n        srcset=\"/static/63a275658d485cabf21527594c9d1a0d/e3135/spaghetti-code.png 256w,\n/static/63a275658d485cabf21527594c9d1a0d/06341/spaghetti-code.png 512w,\n/static/63a275658d485cabf21527594c9d1a0d/42a19/spaghetti-code.png 1024w,\n/static/63a275658d485cabf21527594c9d1a0d/e8464/spaghetti-code.png 1536w,\n/static/63a275658d485cabf21527594c9d1a0d/16e03/spaghetti-code.png 1651w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Código espaguete</figcaption>\n  </figure></p>\n<h2 id=\"mas-por-que\" style=\"position:relative;\"><a href=\"#mas-por-que\" aria-label=\"mas por que permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mas por quê?</h2>\n<p>Como <a href=\"https://www.grammy.com/artists/ryan-reynolds/243495\" target=\"_blank\" rel=\"noreferrer\">o uma vez indicado ao Grammy, Ryan Reynolds</a> disse uma vez: Mas por quê?</p>\n<p><img src=\"/f1547924a1c5e48fc3d7132349267d59/but-why.gif\" alt=\"Filmagem real dos leitores deste post\"></p>\n<p>Boa pergunta! A questão é a seguinte: decidimos que a melhor maneira de implementar essa transição para o Next.js era mover uma página por vez. Isso significa que precisaríamos compartilhar cookies entre as aplicações Laravel e Next.js. Embora isso traga muitos benefícios, também apresenta alguns desafios únicos.</p>\n<p>O maior desafio é que Laravel e Next.js não falam exatamente a mesma linguagem quando se trata de criptografia de cookies. O Laravel usa seu próprio algoritmo de criptografia e, por padrão, criptografa todos os cookies usando uma chave privada. Sem essa chave, e sem reverter o algoritmo do Laravel, é impossível ler os dados no lado do Next.js.</p>\n<p>Por outro lado, o Next.js é bastante flexível sobre como você armazena seus cookies. Como estávamos criando uma nova aplicação Next.js do zero, essa foi uma oportunidade perfeita para alinhar sua criptografia ao método do Laravel, permitindo-nos descriptografar e criptografar os cookies do Laravel diretamente no Next.js sem o risco de quebrar nada.</p>\n<h2 id=\"mergulhando-na-criptografia-de-cookies-do-laravel\" style=\"position:relative;\"><a href=\"#mergulhando-na-criptografia-de-cookies-do-laravel\" aria-label=\"mergulhando na criptografia de cookies do laravel permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mergulhando na criptografia de cookies do Laravel</h2>\n<p>Antes de resolvermos esse problema, precisávamos entender como o Laravel criptografa seus cookies. Descobri que não há muitas informações sobre isso. Em uma época em que é difícil encontrar algo único para escrever em um post de blog, pensei que essa seria a oportunidade perfeita para compartilhar algumas ideias.</p>\n<p>Então, como descobrimos como o Laravel criptografa seus cookies? Explorando <a href=\"https://github.com/laravel/laravel\" target=\"_blank\" rel=\"noreferrer\">o código-fonte</a>, é claro! Felizmente, o código-fonte do Laravel é bastante legível e bem organizado, então não demorou muito para localizar as partes relevantes.</p>\n<h3 id=\"chave-da-aplicacao\" style=\"position:relative;\"><a href=\"#chave-da-aplicacao\" aria-label=\"chave da aplicacao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Chave da Aplicação</h3>\n<p>O Laravel usa uma chave privada, conhecida como Chave da Aplicação (Application Key), para a criptografia, que pode ser gerada usando o comando <code class=\"language-text\">php artisan key:generate</code>. Ele emprega o cifrador <code class=\"language-text\">AES-256-CBC</code> para criptografia, que requer um Vetor de Inicialização (IV). Além disso, o Laravel usa um Código de Autenticação de Mensagem (MAC) para garantir a integridade dos dados criptografados.</p>\n<h3 id=\"vetor-de-inicializacao\" style=\"position:relative;\"><a href=\"#vetor-de-inicializacao\" aria-label=\"vetor de inicializacao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vetor de Inicialização</h3>\n<p>O IV é um valor aleatório usado para garantir que o mesmo texto simples não seja criptografado para o mesmo texto cifrado. O Laravel gera um IV aleatório para cada cookie e o armazena junto com o valor criptografado.</p>\n<h3 id=\"codigo-de-autenticacao-de-mensagem\" style=\"position:relative;\"><a href=\"#codigo-de-autenticacao-de-mensagem\" aria-label=\"codigo de autenticacao de mensagem permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Código de Autenticação de Mensagem</h3>\n<p>O MAC é uma soma de verificação criptográfica que garante a integridade dos dados criptografados. O Laravel gera um MAC usando o IV e o valor criptografado, que é então usado para verificar a integridade dos dados durante a descriptografia.</p>\n<h3 id=\"diagrama-do-processo\" style=\"position:relative;\"><a href=\"#diagrama-do-processo\" aria-label=\"diagrama do processo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Diagrama do processo</h3>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 125.78125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFElEQVQ4y32UaXLjNhCFdf87JZUcIDWxtVnyjCURXEDsK7ETKYoux47tdOFHE4UPeHjdxCbGTEl4G4R4Qjwl4fICz+cGAMpYIth3rcTIMRoJDoL7Wuda68ZNwdrgfHIueZ9jLCnNIWSlLCFccK2Vm2y8vAAprPfZ+aSVK6UssHdxzWqtpRRjHEIUY2aMu8/N6yHv4w35ALspHvftw8Nt+9i8/MLvgXmev4J9LLkoZaQ0IyJau/vSGkJMKdWv4gOcU1Fq6jqEEPc+rvpLKdZOKaW8pPO3cAz55xnt9+Bw6Eeoaq1aW4Q5hIRQiTCfJv81HEKS3FJi4MAxUpxZJScplkGJFMxIYZV0hAjBjVaOEMmZXh3Y1FpzLhgzOJChR1KZea4551LmEOJdc5nn2Vob43Kj+13yKmFjTXRTljIgpBi1xsTJJmOWsmO01Nm5bE3i3GoVrEmCT0r5Jbdxg5E9PeH9Dv79o9lt+90Wdq3Go3v4AX7/7a8//3jcbQdKPEaGUi94RKOh1AkeCbZLh8FBXC/4dsXXK75csNE+xtzcSHOjLeAA0JxLzmk1KaU03xM3hQWutQqhR8QI4c4tnzEmzvUICWNqRAyOrO9x32NCZIyvVi+wd6GUGY3qeh1bQJRya50ZNdcLBIAIbnPOzvkYUynzJzjPlxd8Orbn00CwXp0cOvF0bJ+OLRrVXcsr8x84xpgYVRhzgrkQ2loHIcWYjyOlVAlhKJXWTuumKaW14RY4+OhcGAZ2vfQAIIxkStm54H2kVN2usAWo78gImZuiMY4xuR6wwDEkzqfjoTsdu8MBPJ/gWye3Ddtvm/2uOezA40MzDlLrCWNOiZDKOnuXnXJmTGMsKFNK2fpNrC35QfYCp0yIbBo4QCrld/CrnBDeGRZ8tCY+n8fn5/F8hqDhn16OD/GF2+Mouo70HaFU/Q9ZSgkhrK/KK1xKkdIoZYXQQupwj6Ul8lyWxpxzLinGdT7ntzfrDn/lTWkBWUrw1G+3txbQz2sWmBEthRX833H/+yeMFGhoBxi4ETgIKezbsjXnVP8DzmSYeSssc+sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Fluxo de criptografia\"\n        title=\"Fluxo de criptografia\"\n        src=\"/static/983add2af1440049060bb0a9e7534d24/242a6/encryption-flow.png\"\n        srcset=\"/static/983add2af1440049060bb0a9e7534d24/e3135/encryption-flow.png 256w,\n/static/983add2af1440049060bb0a9e7534d24/06341/encryption-flow.png 512w,\n/static/983add2af1440049060bb0a9e7534d24/242a6/encryption-flow.png 720w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Fluxo de criptografia</figcaption>\n  </figure></p>\n<p>Tudo isso pode mudar dependendo da sua versão do Laravel ou de quanto você personalizou suas configurações de criptografia. Você pode verificar o arquivo <code class=\"language-text\">config/app.php</code> para ver como suas configurações de criptografia estão configuradas.</p>\n<p>Aqui está um resumo simplificado do processo:</p>\n<ol>\n<li><strong>Valor do Cookie</strong>: O valor do cookie é transformado em string e então <a href=\"https://github.com/illuminate/cookie/blob/v9.52.16/Middleware/EncryptCookies.php#L180\" target=\"_blank\" rel=\"noreferrer\">prefixado</a> com um <a href=\"https://github.com/illuminate/cookie/blob/v9.52.16/CookieValuePrefix.php#L14\" target=\"_blank\" rel=\"noreferrer\">hash <code class=\"language-text\">SHA-1</code></a> baseado no nome do cookie e em uma string de versão (<code class=\"language-text\">\"v2\"</code>).</li>\n<li><strong>Criptografia</strong>: O valor prefixado é <a href=\"https://github.com/illuminate/encryption/blob/v9.52.16/Encrypter.php#L102\" target=\"_blank\" rel=\"noreferrer\">criptografado usando <code class=\"language-text\">AES-256-CBC</code></a>.</li>\n<li><strong>Geração do MAC</strong>: Um MAC é <a href=\"https://github.com/illuminate/encryption/blob/v9.52.16/Encrypter.php#L116\" target=\"_blank\" rel=\"noreferrer\">gerado usando <code class=\"language-text\">HMAC-SHA256</code></a> sobre o IV e o valor criptografado.</li>\n<li><strong>Montagem do Payload</strong>: O valor criptografado, o IV, o MAC e uma tag são <a href=\"https://github.com/illuminate/encryption/blob/v9.52.16/Encrypter.php#L118\" target=\"_blank\" rel=\"noreferrer\">montados em um objeto JSON</a>.</li>\n<li><strong>Codificação Base64</strong>: Este objeto JSON é <a href=\"https://github.com/illuminate/encryption/blob/v9.52.16/Encrypter.php#L124\" target=\"_blank\" rel=\"noreferrer\">então codificado em base64</a> para formar o valor final do cookie.</li>\n</ol>\n<p>Um exemplo da estrutura do cookie criptografado é assim:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"encryptedValue\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"iv\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"base64-encoded-IV\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"mac\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hex-encoded-MAC\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"tag\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"base64-encoded-tag\"</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Entender essa estrutura foi crucial para replicar os processos de criptografia e descriptografia no Next.js.</p>\n<h2 id=\"recriando-a-criptografia-do-laravel-no-nextjs\" style=\"position:relative;\"><a href=\"#recriando-a-criptografia-do-laravel-no-nextjs\" aria-label=\"recriando a criptografia do laravel no nextjs permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recriando a criptografia do Laravel no Next.js</h2>\n<p>Para ler e atualizar os cookies criptografados do Laravel no Next.js, precisávamos replicar a lógica de criptografia do Laravel em nossa aplicação Next.js. Aqui está como abordamos isso.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.765625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC3UlEQVQozxXL308ScQAA8Psr2npz/bJpreyH2q9hyx9wd0CSoHjC3XH3BQ6OAw+OXxmRlGmOQhIQ0APlN0pLg3KmM1ur9dJbaytb8ZJP/QO91Pq8fyC5xq0c8dzUelSjHg3uR4d9Y0woOJ9TYZ6z7YMRmE4N4EtSIgPjqX6wJDUUEaKEGCoyuioHUOPz/vb+z90fzb1m893Br616WqGiDh3uVo0KnR2aKAxEmMjAhCgjS8OyZYU6D1PVQWLNrM2Y+qHNL1+397/vfNt/f3BQ/7Bbs593ciw9EbN6w51n1TEUZBGyIDeIUpBRn8wOSrJ9TEmnWZ9DM8I1KFGrxyrrydWNaOWF6EJqVEtjFvv4qTEdFzvPDCfkdBbV5VCQ6pO/nXT8rs7UMUVFi72K3ix4eiAEpbvOKSWXhs533ArqYJGXRTzE8zgXTiQvX8TmUUNed2OLvb7KSKqT5NpDU21cvqbXvo6rVwO9kFzBtLUOtB7raT0JL5glz6zt8Vyp+fdPafdNd8dQQgEKSqI0hBVUIK5S7fhPbwZubExpn02rF6yXIRlCt7T0oNbolatDM+q2qP5i8j4XiK2TlqleCZVGiDJKFlFDVmps0PAH34kNn+Tl/GjU1D2Ln4OkSueRo73I+KJWKguaDSO28j2gIZg4xRctwsptespvnHGzMS9mWdYdLzMXyncG9xLqNNcVxk9BmFXsRd1tHViYlPi9c6RvMyqACd8T4HtucucId55058ZcxfS4gjcLSU7pdYUioYmIQ/mA6odwm0jyVZM99tBpM/AFgq94nVMBG4c78hQvElyK5JIYK5ZcCMs9mrVhd3mf1lGx+gtWfxHCuQzO5Yy2GMM9NTiLtLMAhIrRuUI5lnFuUc+m9OyC1rL4xI5ZmeAjjgzZLaNcluaXgLAC0f9DHrirwFMzCkWju2QUysBVofkcaU/r2aSeW9SRoYCZALbHDDttYmf1bIp0pCln9h8Xf01Zd5UGBgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Mesmos cookies\"\n        title=\"Mesmos cookies\"\n        src=\"/static/ff0e8bf793eed9722337c7730b832247/42a19/same-cookies.png\"\n        srcset=\"/static/ff0e8bf793eed9722337c7730b832247/e3135/same-cookies.png 256w,\n/static/ff0e8bf793eed9722337c7730b832247/06341/same-cookies.png 512w,\n/static/ff0e8bf793eed9722337c7730b832247/42a19/same-cookies.png 1024w,\n/static/ff0e8bf793eed9722337c7730b832247/e8464/same-cookies.png 1536w,\n/static/ff0e8bf793eed9722337c7730b832247/2eb59/same-cookies.png 2048w,\n/static/ff0e8bf793eed9722337c7730b832247/5cc60/same-cookies.png 2444w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Mesmos cookies</figcaption>\n  </figure></p>\n<h3 id=\"descriptografando-cookies\" style=\"position:relative;\"><a href=\"#descriptografando-cookies\" aria-label=\"descriptografando cookies permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Descriptografando cookies</h3>\n<p>Criamos uma função <code class=\"language-text\">decryptCookieValue</code> que espelha o processo de descriptografia do Laravel. Aqui está uma versão simplificada:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">decryptCookieValue</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">encryptedCookieValue</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> publicKey <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">APP_KEY</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> encoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> decoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextDecoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Decodificar e analisar o cookie</span>\r\n  <span class=\"token keyword\">const</span> decodedResult <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>encryptedCookieValue<span class=\"token punctuation\">,</span> <span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> parsedResult <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>decodedResult<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> iv<span class=\"token punctuation\">,</span> mac<span class=\"token punctuation\">,</span> value <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> parsedResult<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Verificar o MAC</span>\r\n  <span class=\"token keyword\">const</span> macPayload <span class=\"token operator\">=</span> iv <span class=\"token operator\">+</span> value<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> keyMaterial <span class=\"token operator\">=</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>publicKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> hmacKey <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">importKey</span><span class=\"token punctuation\">(</span><span class=\"token string\">'raw'</span><span class=\"token punctuation\">,</span> keyMaterial<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'HMAC'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">hash</span><span class=\"token operator\">:</span> <span class=\"token string\">'SHA-256'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'verify'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> isMacValid <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">verify</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HMAC'</span><span class=\"token punctuation\">,</span> hmacKey<span class=\"token punctuation\">,</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>mac<span class=\"token punctuation\">,</span> <span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>macPayload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isMacValid<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Falha na validação do MAC'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">// Descriptografar o valor</span>\r\n  <span class=\"token keyword\">const</span> ivArray <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>iv<span class=\"token punctuation\">,</span> <span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> encryptedData <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> <span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> cryptoKey <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">importKey</span><span class=\"token punctuation\">(</span><span class=\"token string\">'raw'</span><span class=\"token punctuation\">,</span> keyMaterial<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'AES-CBC'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'decrypt'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> decryptedData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">decrypt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'AES-CBC'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">iv</span><span class=\"token operator\">:</span> ivArray <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> cryptoKey<span class=\"token punctuation\">,</span> encryptedData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> decryptedString <span class=\"token operator\">=</span> decoder<span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span>decryptedData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Remover o prefixo do cookie do Laravel</span>\r\n  <span class=\"token keyword\">return</span> decryptedString<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">41</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Essa função descriptografa o valor do cookie, verifica o MAC e retorna a string descriptografada. Também tivemos que remover o prefixo do cookie do Laravel com um <code class=\"language-text\">slice</code> - exatamente como é feito no <a href=\"https://github.com/illuminate/cookie/blob/v9.52.16/CookieValuePrefix.php#L27\" target=\"_blank\" rel=\"noreferrer\">código original</a> - para obter o valor original do cookie.</p>\n<h3 id=\"criptografando-cookies\" style=\"position:relative;\"><a href=\"#criptografando-cookies\" aria-label=\"criptografando cookies permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criptografando cookies</h3>\n<p>Também precisávamos criptografar cookies no Next.js para que o Laravel pudesse entender. Aqui está a função <code class=\"language-text\">encryptCookieValue</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">encryptCookieValue</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">cookieName<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> publicKey <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">APP_KEY</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> encoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Criar o prefixo do cookie do Laravel</span>\r\n  <span class=\"token keyword\">const</span> cookiePrefix <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">createLaravelCookiePrefix</span><span class=\"token punctuation\">(</span>cookieName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> prefixedValue <span class=\"token operator\">=</span> cookiePrefix <span class=\"token operator\">+</span> value<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Gerar um IV aleatório</span>\r\n  <span class=\"token keyword\">const</span> iv <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">getRandomValues</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> keyMaterial <span class=\"token operator\">=</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>publicKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Criptografar o valor</span>\r\n  <span class=\"token keyword\">const</span> cryptoKey <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">importKey</span><span class=\"token punctuation\">(</span><span class=\"token string\">'raw'</span><span class=\"token punctuation\">,</span> keyMaterial<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'AES-CBC'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'encrypt'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> encryptedData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">encrypt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'AES-CBC'</span><span class=\"token punctuation\">,</span> iv <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> cryptoKey<span class=\"token punctuation\">,</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>prefixedValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Gerar o MAC</span>\r\n  <span class=\"token keyword\">const</span> encryptedBase64 <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>encryptedData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> ivBase64 <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>iv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> macPayload <span class=\"token operator\">=</span> ivBase64 <span class=\"token operator\">+</span> encryptedBase64<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> hmacKey <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">importKey</span><span class=\"token punctuation\">(</span><span class=\"token string\">'raw'</span><span class=\"token punctuation\">,</span> keyMaterial<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'HMAC'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">hash</span><span class=\"token operator\">:</span> <span class=\"token string\">'SHA-256'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sign'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> macData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">sign</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HMAC'</span><span class=\"token punctuation\">,</span> hmacKey<span class=\"token punctuation\">,</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>macPayload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> macHex <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>macData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// Montar o payload</span>\r\n  <span class=\"token keyword\">return</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">iv</span><span class=\"token operator\">:</span> ivBase64<span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">mac</span><span class=\"token operator\">:</span> macHex<span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">tag</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> encryptedBase64<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Essa função criptografa o valor do cookie, gera um MAC e monta o payload do cookie criptografado.</p>\n<p>E aqui está a função auxiliar para criar o prefixo do cookie do Laravel:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">createLaravelCookiePrefix</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">cookieName</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> publicKey <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">APP_KEY</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> encoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cookieName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">v2</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>publicKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> cryptoKey <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">importKey</span><span class=\"token punctuation\">(</span><span class=\"token string\">'raw'</span><span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'HMAC'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">hash</span><span class=\"token operator\">:</span> <span class=\"token string\">'SHA-1'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sign'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> signature <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">sign</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HMAC'</span><span class=\"token punctuation\">,</span> cryptoKey<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> hexSignature <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>signature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>hexSignature<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">|</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Essas funções garantem que os cookies criptografados no Next.js possam ser descriptografados pelo Laravel, permitindo uma integração perfeita entre frameworks.</p>\n<h2 id=\"desafios-e-consideracoes-de-seguranca\" style=\"position:relative;\"><a href=\"#desafios-e-consideracoes-de-seguranca\" aria-label=\"desafios e consideracoes de seguranca permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Desafios e considerações de segurança</h2>\n<p>Claro, esse processo não foi sem obstáculos:</p>\n<ul>\n<li><strong>Compatibilidade criptográfica</strong>: Igualar a criptografia do Laravel no Node.js exige um tratamento cuidadoso de codificação, tipos de dados e funções criptográficas.</li>\n<li><strong>Restrições de ambiente</strong>: Tivemos que garantir que essas funções rodassem apenas no lado do servidor, pois dependem de variáveis de ambiente do servidor e APIs de criptografia.</li>\n<li><strong>Considerações de segurança</strong>: Tivemos um cuidado especial para garantir que a <code class=\"language-text\">APP_KEY</code> permanecesse segura e nunca fosse exposta ao lado do cliente. O tratamento de erros, a verificação do MAC e garantir que o IV fosse único para cada criptografia foram fundamentais para evitar vulnerabilidades de segurança.</li>\n<li><strong>Testes e depuração</strong>: Verificar se nossa criptografia e descriptografia combinavam com a do Laravel exigiu muito teste e erro, além de um entendimento profundo de ambos os frameworks.</li>\n<li><strong>Decidir quais cookies criptografar</strong>: Nem todos os cookies precisavam ser criptografados, então selecionamos cuidadosamente apenas aqueles que manipulam dados sensíveis.</li>\n</ul>\n<p>Também vale ressaltar que esta solução é específica para o nosso caso de uso e pode não ser adequada para todos os cenários. É essencial entender as implicações de segurança ao replicar mecanismos de criptografia e garantir que sua implementação seja segura e esteja em conformidade com as melhores práticas.</p>\n<h2 id=\"a-recompensa-uma-experiencia-de-usuario-perfeita\" style=\"position:relative;\"><a href=\"#a-recompensa-uma-experiencia-de-usuario-perfeita\" aria-label=\"a recompensa uma experiencia de usuario perfeita permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A recompensa: Uma experiência de usuário perfeita</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQozwGfAmD9ADcgLDslMUArOEA3RUhdcniitnKZrD1FVzgtPDUiMTEXJjsnM0AyP0Y/S0NJWUNQYT88SkU2QkQwOz0lMgA+JzRBLTpDPkxObIKEuc2isrGXrLJdh6I8T2NAR1g6NEM/PEpETFxMZHdrmbCHvtRnkalNW2xMQUxCLzoAPy06RTxIS2F0V3WLdIyZqrq3u8W1sLCOV2lzSm6IP0xdQldqTW2DZZCokMDSeIyQgJ6pYYeeT1ZkUVppAEE0QURFU1d7kVxwhDEcK2NXVZ2GZIJpU2h/ik53lGCIn22fuWSOpm6NoYCVmyoiH0dGRIiuvG+dtGiVrQBCPElFUGFZfZRecIM9PFBKQ0xtXVtkYGeFmZiIr7trmrNTdY5ka26glna10cijv8SNp6x4g4iCp7ZcZnMAPjtJRFdpRlVqMh0uMR8vU0pMgo2NjbbCi5WMiIRvPF96NEtlWVlcpb64qdzquuHerrGVRS0xUj9EPicyADw5SD1IWTtPZEhJVXaAgqbNzanPzJWimHyPkENddEpZZH+LhZC5xIe2xIOYml1aXV9SSTwkLT4sOkQwPAAxHitDQ09xkJuQwM6Wx9ODk5NvdXVZbX5OZHiFkoiuxbanwbysv6+KhnZ6ipBZdIksK0Q2ITFGOEVBLToAUl1sgq27fqm5cYuXXmBnXGh1UWR2aXFyk6Wfqs/MosG8gHVjeHd0aYibYIqjUG2CPDxONSAuPCo4OiU0AGySpllrek9TX09VZVFcblhganV8fJe+xIy4xHBycHFrZGyDkWmTq1Z4jk1qgURXazUxQjEYKDchMDUeLQBGRFRHRVVTYXI5NUdHVGVzlqZqkaZXa31LSFNdbHlcdYpUcIRJYHVIW3BBUGQ7P1E0JzcsECEwFiYuEiHJohHl9BsUMQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Totalmente integrado\"\n        title=\"Totalmente integrado\"\n        src=\"/static/b78488b37ae488bb5c43e5ec64293b2c/42a19/fully-integrated.png\"\n        srcset=\"/static/b78488b37ae488bb5c43e5ec64293b2c/e3135/fully-integrated.png 256w,\n/static/b78488b37ae488bb5c43e5ec64293b2c/06341/fully-integrated.png 512w,\n/static/b78488b37ae488bb5c43e5ec64293b2c/42a19/fully-integrated.png 1024w,\n/static/b78488b37ae488bb5c43e5ec64293b2c/e8464/fully-integrated.png 1536w,\n/static/b78488b37ae488bb5c43e5ec64293b2c/445c6/fully-integrated.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Totalmente integrado</figcaption>\n  </figure></p>\n<p>Ao replicar os mecanismos de criptografia do Laravel no Next.js, alcançamos uma experiência de usuário perfeita. Os usuários podem navegar entre as páginas do Laravel e Next.js sem qualquer interrupção, e seus dados de sessão permanecem consistentes. Honestamente, é impressionante como o fluxo todo funciona sem que os usuários percebam a transição entre os dois frameworks.</p>\n<p>Essa solução também abre novas possibilidades para integrar outras plataformas com o Laravel, desde que consigam replicar o processo de criptografia do Laravel. É um testemunho do poder de entender e adaptar sistemas complexos para alcançar a interoperabilidade.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p><img src=\"/1f382bda4eb7e36eb31460d035a5a8d3/cookie-crumbles.gif\" alt=\"Assim o cookie se desmancha\"></p>\n<p>Integrar cookies entre dois frameworks e linguagens de programação diferentes não é exatamente uma caminhada no parque - a menos que o parque seja o Central Park, e você seja <a href=\"https://www.youtube.com/watch?v=vm-471akcQU\" target=\"_blank\" rel=\"noreferrer\">John Wick logo após ser excomungado</a>. Mas, com uma imersão profunda em como cada framework lida com criptografia e um pouco de perseverança (e talvez um pouco de mate), é definitivamente possível.</p>\n<p>Espero que esta explicação ilumine como enfrentar esse tipo de desafio. Se você acha esse tipo de solução de problemas empolgante, talvez queira se juntar a nós. Estamos sempre à procura de pessoas talentosas - confira nossas <a href=\"https://jobs.studocu.com/job-postings\" target=\"_blank\" rel=\"noreferrer\">vagas de emprego</a>. Sei que pode ter parecido um pesadelo, mas confie em mim, é o tipo divertido!</p>\n<p>Happy coding!</p>","fields":{"slug":"/2024/2024-10-25-compartilhando-cookies-encriptados-do-laravel-com-next-js.pt-br/","path":"/blog/coding/compartilhando-cookies-encriptados-do-laravel-com-next-js/","locale":"pt-br"},"readingTime":{"minutes":8.98},"frontmatter":{"date":"2024-10-25T00:00:00.000Z","title":"Compartilhando cookies encriptados do Laravel com Next.js","categories":["coding"]}}},{"node":{"excerpt":"Eu constantemente tenho aquela sensação de ”Você se torna…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQozwGfAmD9ANp6W958WuB+XeaMatedgt6hgeR6Vd97WLqMfo6RmNuaeeeZc+WEXbiGdueGXeyEW+WBW++HW+N9Wdt3VwDkeFLreFCbdHFxdYGLhoZudoG4mIjj1729zMKZtrzT2MXP0L/Y1cDCs6OognyigHuwgnaZh4vtkGbji2cAv4d5yo97Y2FzKz1geGNoN0NqaH6WfIKHZYGXZ4ifVmh8V2+FQFx5jIqJnJ6fimxwpHVueGFt7ZJo6ZFqAMCVhMCZiJ5uZH5ZWoSBiX2GmX6Cj1hOWE1Zdjteh0NBV11ZZyMlQ2FYYfm6kOetied/Vt2Na+aGXuh+VQDvf1LMk3vPj3XxjGDJtKLJ1caljoNXV2lCV3hTVmtCR2FIUWwnLUppbXfew6npwqDTn4WvnpbniWDphV0A6IRc2o5ts5eM4Jl30b6m4eLIm5WQSE9vYX2UaHSEPFF/VX2qY564aYqfw7Oo5cKisb68xZF83ZBu54dfAOuEWsCairCgmoeEk2V+paqvsaaqppaEhYCNoYiXqmZkgICHmEhgg5mVleDLscfLvZCgsKualMiVgOuAVgDsgFSropyiuLyDeIAgNmWSh47ux6fHnIZ5b4doWXCxe2zSrZaZfHfFn4etwcNHfLlkhbKgm6DQiW7ufU8A5oJanp+j5HpU8HxRcWp0c6e8t8O+l5qYqIJ2dlxfvXhe7s6rwbqndJutgZytgoGTdH6SlqaqfMXcl7K4AJuwtWCPu2ViiYVeaHyHoIGNn3Kcs2CVsH2vwa2imtGmkLmFdqOWk1WOu2djeaBuY2tha4FXXHe82HHL6QByyuZvu9tZmsZajK5knMJrkq9tpMRmpcZeocVtnLiBssiHqbt+r8hgncRrka1umLNxm7VolrVyvt16xt6H9XdtMXZTwwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Ilustração do Musclog\"\n        title=\"Ilustração do Musclog\"\n        src=\"/static/e09791c79da43db20131c45d78322136/42a19/musclog-illustration.png\"\n        srcset=\"/static/e09791c79da43db20131c45d78322136/e3135/musclog-illustration.png 256w,\n/static/e09791c79da43db20131c45d78322136/06341/musclog-illustration.png 512w,\n/static/e09791c79da43db20131c45d78322136/42a19/musclog-illustration.png 1024w,\n/static/e09791c79da43db20131c45d78322136/e8464/musclog-illustration.png 1536w,\n/static/e09791c79da43db20131c45d78322136/445c6/musclog-illustration.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Ilustração do Musclog</figcaption>\n  </figure></p>\n<p>Eu constantemente tenho aquela sensação de ”<a href=\"https://youtu.be/CqQRDZP3FnQ?si=gAuQhD_7PHF8PAv5&#x26;t=178\" target=\"_blank\" rel=\"noreferrer\">Você se torna aquilo que jurou destruir</a>” devido ao tempo que tenho dedicado ao bodybuilding nos últimos dois anos. Tenho acompanhado meus macros, meus treinos e até tirado fotos de “brogress”.</p>\n<p>Não que eu tivesse algo contra o bodybuilding no passado, mas já tentei malhar antes e nunca realmente me envolvi. Sempre senti que eu era um skatista de coração e que estava traindo meu verdadeiro eu levantando pesos. Eu sei, bobo.</p>\n<p>Enfim, tenho usado uma combinação de aplicativos e integrações para monitorar meu desempenho, incluindo um <a href=\"/pt-br/blog/coding/usando-google-fitness-api-para-calcular-meu-tdee-e-mais/\">script Node.js personalizado para calcular meu TDEE e calorias médias</a> usando a <a href=\"https://developers.google.com/fit\" target=\"_blank\" rel=\"noreferrer\">Google Fit API</a>, mas como o Google Fit será descontinuado em breve em favor do novo Health Connect, não pude adiar mais o desenvolvimento do meu próprio aplicativo. Afinal, eu <strong>“sai de casa e comi pra caralho!”</strong>, então agora vai!</p>\n<p>Mas como? Eu honestamente não tinha ideia de por onde começar, especialmente ao explorar integrações com a API de outro aplicativo. Eu nem sabia em qual formato esses dados estariam disponíveis. Qual é o padrão do mercado? JSON? XML? Binário? Eu não tinha ideia. Felizmente, descobri que algumas pessoas realmente inteligentes criaram <a href=\"https://github.com/matinzd/react-native-health-connect/\" target=\"_blank\" rel=\"noreferrer\">uma biblioteca para integrar a API do Health Connect com React Native</a>, e saber disso foi o ponto de virada para eu começar a desenvolver meu próprio aplicativo.</p>\n<h2 id=\"a-solucao-perfeita\" style=\"position:relative;\"><a href=\"#a-solucao-perfeita\" aria-label=\"a solucao perfeita permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A solução perfeita</h2>\n<p>Eu criei todos esses scripts e integrações para monitorar meus treinos e nutrição, porque uma coisa que descobri nesses últimos anos de bodybuilding é que o que realmente me ajuda a ser consistente é monitorar tudo. Eu sou um cara de dados, e se eu puder ver meu progresso nos números, isso me motiva a continuar. Até porque, a verdade é que se você não toma nenhum anabolizante, o progresso é lento, e eu, pelo menos, não vejo nenhuma diferença no espelho, então os números são tudo o que eu tenho.</p>\n<p>Eu já faço o rastreamento de tudo que como há dois anos, e também me peso com uma balança que mede meu percentual de gordura, então tenho muitos dados para analisar e identificar meus padrões de alimentação e treino. O que eu quero é algo que realmente é difícil de encontrar, porque a maioria dos apps ou sites que existem por aí não espera que alguém seja tão meticuloso a ponto de rastrear tudo todos os dias de forma obsessiva, mas eu amo fazer isso.</p>\n<p>Então, a primeira ideia era simplesmente obter os dados e continuar meus cálculos com meus scripts, e assim nasceu a ideia do meu primeiro MVP.</p>\n<h2 id=\"o-mvp\" style=\"position:relative;\"><a href=\"#o-mvp\" aria-label=\"o mvp permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O MVP</h2>\n<p>Como eu disse, tudo o que eu queria era acessar os dados do Health Connect e obter meus dados de nutrição e peso, para que eu pudesse continuar executando meu script Node.js, mesmo que eu tivesse que ter um aplicativo simples que obtivesse os dados em segundo plano e os enviasse para o meu servidor. Parece um plano, certo?</p>\n<p>Bem… parece que o Health Connect só permite que os desenvolvedores acessem <a href=\"https://developer.android.com/health-and-fitness/guides/health-connect/develop/frequently-asked-questions#time-range\" target=\"_blank\" rel=\"noreferrer\">dados dos últimos 30 dias devido a preocupações com a privacidade</a>. Ok… então isso significa que não posso obter meus dados históricos, e tudo o que está no Google Fit será perdido para sempre. Incrível!</p>\n<h2 id=\"o-verdadeiro-mvp\" style=\"position:relative;\"><a href=\"#o-verdadeiro-mvp\" aria-label=\"o verdadeiro mvp permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O <em>Verdadeiro</em> MVP</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAADoElEQVQ4y12U22/iRhTGHcDg+w1jjMEEaAIkKxJIuCQN6WartFWlvqzah3Zf+tqX/ssRhGS7AWMbe2xjz9iuyGUr9ad5mPNJ3+jMfEeDJUmSPpMkqWUGzmb7vN+JEMLz/lim2X67QxMiiTNnTW161JQYgSPYuixjX82+D5dLsHxywxC9KDGE49F31aI66LQlSvixod129avjFokzuT1C4YSd2QNb1/E8L1p+cVdLEPjQtnZHxDC6mf7QVLXx0WFLVn7v7n86P7h+13hXU0/q6qilYRDGyyewfHICH66W3trwfB8+PlgbO0QQ/np7c1QWrrr6ca18LEsdVb44rA5blUGjclpXsfSVBEJorDxzDeIYvdwlidHF2ahM091aNYuR+SyNZygyRxeyVAYryDSHhc9EUWSZ3v3cuJ8brhu8aNvAH52OahIxHVRkgdJKdLlIaQrZ0hmZY6uChDlvmObGXG9MY7NaWrvadW3LvDifKDzbaWgsSZcYtl4SVInnKFqguJoofm37lTCKjRVAME7TFEF4fTFVOHFfrWqM8FunflXXKqLMF1iBZCsc/585jlEUhb4PDQO4rr/LOYp+vpnqIt2ulntK6c9e64+T1r4k6oJY44Wa8Gb2vXC9dhFKttt4tQyDIEQIxTG6Gg0lAtflIofTPzW124NaieXIHEnkKJXl3sx+ZJlBkqS+j1YruN3C3ZvH6HI4FAhcLyk5jOLyLI0zFM4QWZrE6V3bSZIglDgb3zJd34+SJLFMYK4dCBGC0fVkUqSJhspLbEHmKYmlijwh8yRTYHVRwGzLXhubxS6k1efPa8tyHu6N+9nKXDtrwxj1z3ii0G2ouibJIlWR6eOmpBbZIs329BKWJHGa+s8riKIAITdN/STZlQiGw8GlQAmn7U4+J3zDF8eV8qTdYgpcBsvn9ggsTSMA5hDOwnBm2wsIZzC6A+BuGywQ9L4dv1cEZdA5rAryx079r2H7+25jv1yqF6VmqYiFoWlZiyB4cp0vtv0IwJNt/wPchW0/OpuHXz68P1CkSbd+Uq9OtfLf4+6nUbvf0k4blZ6uYAAsgDvb2HPXmTvOHIAHx7nf2DMA5pZ5d3E2EAtEr1HNYPkDXvzY2e/XNSpPZbA8niEwhABCLoReFAEYeRC6wJ2FoRWF9saajfsDDid6zXp2L0/mSTpPE7uQSSJLEjni/+P5PGrx608ShZfDiUgxh5pG4gVdJXWV1BSSxAkyR7EF5l8xwV6kEeY6GQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Perfeição\"\n        title=\"Perfeição\"\n        src=\"/static/c03a23e83744cf5f92d6e94b6426ecd8/42a19/musclog-mvp-perfection.png\"\n        srcset=\"/static/c03a23e83744cf5f92d6e94b6426ecd8/e3135/musclog-mvp-perfection.png 256w,\n/static/c03a23e83744cf5f92d6e94b6426ecd8/06341/musclog-mvp-perfection.png 512w,\n/static/c03a23e83744cf5f92d6e94b6426ecd8/42a19/musclog-mvp-perfection.png 1024w,\n/static/c03a23e83744cf5f92d6e94b6426ecd8/68141/musclog-mvp-perfection.png 1534w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Perfeição</figcaption>\n  </figure></p>\n<p>Legal, então nosso MVP morreu antes de chegar à costa; hora de pivotar: E se, em vez de ter um script Node.js que se conecta a diferentes APIs, eu pudesse ter um aplicativo React Native que fará a maioria das coisas, como rastreamento de treinos, insights de nutrição, cálculo de TDEE, gráficos, dicas, etc., e qualquer outro dado que possa estar faltando, eu obtenho da API do Health Connect? Eu poderia até adicionar uma opção para importar dados passados de um arquivo JSON. Dessa forma, se o Google Fit eventualmente permitir que eu exporte meus dados, posso importá-los para o meu aplicativo.</p>\n<p>Na verdade, já passei de aplicativo em aplicativo no passado, tentando encontrar a melhor maneira de monitorar meus treinos. Até tentei o Google Planilhas, mas a UX era horrível no celular, e eu gostaria de me concentrar no meu treino e não me estressar com tocar a célula errada na planilha.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.890625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVQoz2WSS08TYRiF50+4ceOCDQtZAIZoaaRAEUQsCDWUSwiKAgZqwXBpuFuQUhBBEES8cOnMlE6n07l833wz7bSFliqligmGaiJijAti+icMFNHE5CzPk7znnBeTgCspr+gOb/ji8d0PsbfrfmCz2qrrTab2Po7GvaIbCa5T56kwyDmQQAkMsbkh+4NB2ecLRzY5lr+QVZp79VaWSt/VObCucCJP/YshgUK8ExMYO/DgwIMLjH0jIO7sROPxj1MTkxO2+UQisRnZbr3X4UO0JBwBkCUFBgceMunHgIeALAlYAnKkyJECY1cQPTv1dGx0dmWZej63PNA7Ih+dTUmAkoBT5B2QI48QD4FBljwWEfBxoQDaigQ+7cYgFOZe4AuLxJOZJSiv7+3tRMLKdjQUDqKgIsjABVhCYHBM5EjIOSRA+b085BzhDfng+34icVhYWJdf0ZqZVTY9bPn5Y//w1+HWuyDk1hSZ9Yq0yDkQoDAkOCVAIeBUJDYURLFo6OuXXbcYWHzjVKlulOYWme+32obHoZs++Pb5fTTk9/HJaWRIYycFQtqLGCRQLoaxvqR0LY+AErH2Dc52NizMWKhRXdftKoZHsWjYKzIypCVIH031p3qXgmiCsJf3zBd3PSt7MLnsBL3dg+JY0cpEu2TNL9NVXmufZjjeJ9Knm/+FA5LbOvtK3WDRmec0zVbSIzUOLQw1low3FYzcuVJTUZma32ybfx1A/8HHMejG9odpObXF5rk842O9cVhbZy4obzKW5+s1mhljcUebsd406kc0Av/BIk8ZGs3nUjTaJou2ZUxd0519sy2vqNZUou41qPoN2Y7+0vqWHsGzJh8HPoGRQPklZnV1KSOn6uyZ9JSUyxm5tRma6jSV/nyqts9Q1Hxd3a+/dFeTnnlRh+PLipT8Gddvn3/Y5TycJc0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Certo, eu vou fazer isso sozinho\"\n        title=\"Certo, eu vou fazer isso sozinho\"\n        src=\"/static/96bce10dcf9e8d007b3b5a85ede8aaed/42a19/fine-i-will-do-it-myself.png\"\n        srcset=\"/static/96bce10dcf9e8d007b3b5a85ede8aaed/e3135/fine-i-will-do-it-myself.png 256w,\n/static/96bce10dcf9e8d007b3b5a85ede8aaed/06341/fine-i-will-do-it-myself.png 512w,\n/static/96bce10dcf9e8d007b3b5a85ede8aaed/42a19/fine-i-will-do-it-myself.png 1024w,\n/static/96bce10dcf9e8d007b3b5a85ede8aaed/e8464/fine-i-will-do-it-myself.png 1536w,\n/static/96bce10dcf9e8d007b3b5a85ede8aaed/dc8ac/fine-i-will-do-it-myself.png 1572w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Certo, eu vou fazer isso sozinho</figcaption>\n  </figure></p>\n<h2 id=\"entao-react-native-hein\" style=\"position:relative;\"><a href=\"#entao-react-native-hein\" aria-label=\"entao react native hein permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Então, React Native, hein?</h2>\n<p>Claro, eu sabia que o React Native existia, mas como desenvolvedor React.js, nunca considerei realmente mergulhar nele, mas certamente não poderia ser tão difícil, certo? Quer dizer, eu já conhecia o React, então quão diferente poderia ser?</p>\n<p>Bem…</p>\n<p>Acontece que construir um aplicativo React Native quando sua única experiência é com React.js é como tentar mudar de um skate para uma prancha de surfe. Claro, os princípios são um pouco semelhantes—equilíbrio, navegação, manter a calma quando as coisas dão errado, mas o meio é totalmente diferente. Neste caso, o meio envolvia descobrir como lidar com todas as peculiaridades específicas do dispositivo enquanto mantinha o aplicativo funcional e responsivo.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnklEQVQozzXL3U8SAQAA8PtremvrzSdfXFn5NZdr6rK0B3O5nMwNUaaiIDOUQCKEjI+Tu+OA45tLODhABIQUUDkQLD7vQIaurJYPPdV66Pf+AxgKrlMwQ0F0Bqqe7JTSYPkYrByDDAU18mgprS+ldJW09rps+doijwveMhO4avpKJQ9dwQEmi/zPcCOH/CiZGlm4WTCgOrlkYf7nF309o79u+qhGYoQrXdXoeSrdE9ba8JRgEzMDNIXUcwYmi9AZuHaGnRT3a+eOZh4+JdUyNl/jJy6qOHke7WFLb3VMdzxdahtaut3JahtevtM1A9BZI5MzMTkTTaH0mblXGR8U2S+LmCmAW1KZvs0gKlitxsFkdGdKsn2P8/7RuqGbp3m8gfQKdoAaZaCzKJ01Vim0kUfjhE7AEa2INW/X5Ycpt9ARslp0127JFaFwJxzDGtcUsjsgd7x2fZxUYUAlg9QySI0y1Ci0kvn3r4rmi7TeFfZ2CfHBWVU4YSvmbM0zi/sIZxHRRU/kJUTIyWD/CgQweax+jtF57KJgaRSwMmUqnhpbFee4JtA5Kpx4tUgGjM1WuNaMkJ9jc+QB2+qft/rGFPa7s1rgpuW7aZF/vgWqVV8+j/9i3L8vie+t0Au+tlr2biNIezfbZDMl60l+JM7zBLlWYkDm7OBoR8RmQBHdk8aiLioKp8LYyR5ViURSBB6w94zy5+bFH7bVb3gb0jXVwv6nJW9oGnJ18tGHy9D4O8szmQVwhCBXGMajaOIITh5qj+JaVC7ijHHteh2R8ttzB6LYQb8S71Pg/WLs/qLu+ZaVizpmDS6W1grEgkqPX42ToJsETX4YDNmU8QDP6JlROYdA4oFA37usHpMZeEaHgtjdCvmELpxjdE5soe2Tkr+lvLqPYoqGewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Surfando com um skate\"\n        title=\"Surfando com um skate\"\n        src=\"/static/052058d9f01be0cb6aab7b65270e7f9e/42a19/surfing-with-skateboard.png\"\n        srcset=\"/static/052058d9f01be0cb6aab7b65270e7f9e/e3135/surfing-with-skateboard.png 256w,\n/static/052058d9f01be0cb6aab7b65270e7f9e/06341/surfing-with-skateboard.png 512w,\n/static/052058d9f01be0cb6aab7b65270e7f9e/42a19/surfing-with-skateboard.png 1024w,\n/static/052058d9f01be0cb6aab7b65270e7f9e/e8464/surfing-with-skateboard.png 1536w,\n/static/052058d9f01be0cb6aab7b65270e7f9e/445c6/surfing-with-skateboard.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Surfando com um skate</figcaption>\n  </figure></p>\n<p>Por exemplo, como desenvolvedor web, eu foco em manter um estado local no cliente e obter dados do servidor quando necessário, mas no React Native, quero ter um banco de dados local, como devo fazer isso? Bem, descobri o <a href=\"https://react-native-async-storage.github.io/async-storage/\" target=\"_blank\" rel=\"noreferrer\">AsyncStorage</a>, então por que não usá-lo por enquanto? (isso vai me morder mais tarde)</p>\n<p>Ainda assim, eu não tinha ideia de onde começar, mas após conversar com meus amigos <a href=\"https://barreto.jp/\" target=\"_blank\" rel=\"noreferrer\">Juampi</a> e <a href=\"https://www.pato.dev/\" target=\"_blank\" rel=\"noreferrer\">Raf</a> sobre minha ideia, eles sugeriram que eu usasse o <a href=\"https://expo.dev/\" target=\"_blank\" rel=\"noreferrer\">Expo</a>, um framework que permite construir aplicativos React Native sem ter que lidar com a parte nativa das coisas. Isso foi honestamente um divisor de águas para mim porque eu poderia simplesmente executar meu aplicativo no navegador a maior parte do tempo e usar meu telefone apenas para testar os recursos que exigem código nativo.</p>\n<h2 id=\"explorando-o-expo\" style=\"position:relative;\"><a href=\"#explorando-o-expo\" aria-label=\"explorando o expo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Explorando o Expo</h2>\n<p>Comecei criando um novo projeto Expo seguindo o tutorial ”<a href=\"https://docs.expo.dev/tutorial/create-your-first-app/\" target=\"_blank\" rel=\"noreferrer\">Crie seu primeiro aplicativo</a>”, e então criei uma nova tela com um botão simples que se conectaria à API do Health Connect e obteria meus dados de nutrição, e lá estava eu, já tinha meu primeiro MVP feito, mas como eu não gosto muito de testar no meu telefone, copiei basicamente a resposta JSON da API e a salvei em um arquivo, para que eu pudesse continuar desenvolvendo apenas no meu computador e navegador—isso vai me morder mais tarde².</p>\n<p>Depois de brincar com o Expo por um fim de semana, tive uma ideia vaga do que eu precisava para o meu aplicativo:</p>\n<ul>\n<li><a href=\"https://react-native-async-storage.github.io/async-storage/\" target=\"_blank\" rel=\"noreferrer\">AsyncStorage</a> para armazenamento</li>\n<li><a href=\"https://reactnativepaper.com/\" target=\"_blank\" rel=\"noreferrer\">react-native-paper</a> para a interface do usuário</li>\n<li><a href=\"https://www.i18next.com/\" target=\"_blank\" rel=\"noreferrer\">i18next</a> para traduções</li>\n<li><a href=\"https://github.com/wuxudong/react-native-charts-wrapper\" target=\"_blank\" rel=\"noreferrer\">react-native-charts-wrapper</a> para mostrar gráficos</li>\n<li><a href=\"https://github.com/Shopify/flash-list\" target=\"_blank\" rel=\"noreferrer\">@shopify/flash-list</a> para renderizar listas (basicamente só por causa <a href=\"https://www.youtube.com/watch?v=BrYxGrE9sW8\" target=\"_blank\" rel=\"noreferrer\">desta palestra</a> eu fui convencido)</li>\n</ul>\n<p>Hora de colocar as mãos calejadas para trabalhar!</p>\n<h2 id=\"a-alegria-e-dor-de-aprender-na-pratica\" style=\"position:relative;\"><a href=\"#a-alegria-e-dor-de-aprender-na-pratica\" aria-label=\"a alegria e dor de aprender na pratica permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A alegria (e dor) de aprender na prática</h2>\n<p>Conforme eu me aprofundava no mundo do React Native, percebi rapidamente que minha caixa de ferramentas confiável do universo React.js, bem, não era totalmente adequada para o trabalho. Para começar, meu esquema de banco de dados era muito complexo para o AsyncStorage, então, pensei, por que não mudar para IndexedDB? Spoiler: IndexedDB só funciona na web, não na versão móvel do aplicativo Expo. Oops.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACW0lEQVQozyXLa0/aUACA4f7QZfu2LNmSZTPuoskucU5FAbkWZ6EtFgqlpYXSc3o9bS2lLRYrlwFOPy2Zbv9iMSbPpzd5sbJo4aJVEswMC9MszLbUDAtTjJJqKEdNkGbBYUN5lGmpR02QbWtl0XqElbpmsWsWOtpBuVGkxVNOpQRdMn1RHxIcrLRAvW91gNtRvSoHC6SwV2kdcxouoYeZkN2WFWn+hXkeWI5XZYTFej2KZ1Ey1yyXk5Tpcj1wouBqqajIcn1Rcw8ZpfI4F7tOmrN3KSDp3kWSAB2tbm+AO1ZQYDgjESA0mgzs0I6ScTK1/AumZxUF84fsViSE7TeN7Sp8WxBwRu4A1wljO4i5ARqYfp2Hp82+6oSi6mpOoDrBeZSwfWuflGkYsFaMUTAgBv5OTaYFtY/Cy/nq95+7UZyUaXEr2/iYbeTJbk91Hvrd/f2/v8AJU5RMKkNaDbADBuzSyociz0NHRgHR0diBDe1ARaMCM/iGcyJ0gR3qbihqXs/wzySjJKCaMix3EbaFC6++117sEPWuHi+WTjzj0Xi+XKPRZONz7vnG3nAy6xuejHxO80Q7avbRlxL3Zp8sdgxsmwBP3uefbaZ59Xw8X4WzpRPPV9fX46tFqniWytPBZHr5cxUl88Wv2+n6BrrRy68nTzczOc7E3p3IhwwQVHsXb5eaymlHqwoGJaEqr7/+VNjcwY9JkezZBK8TvJEhxQNCOBEMyfD2ziBWVXwa+KI7ybX1koDwrlPXIkoL8239oCalqH6ehXU9omBQg6Nc28i1tJrsie6kqvj/Ady2xoYddCZ4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Vida de desenvolvedor solo\"\n        title=\"Vida de desenvolvedor solo\"\n        src=\"/static/2afc83fff1f0d25fe75b2a4b8c7ffbc5/42a19/life-of-solo-developer.png\"\n        srcset=\"/static/2afc83fff1f0d25fe75b2a4b8c7ffbc5/e3135/life-of-solo-developer.png 256w,\n/static/2afc83fff1f0d25fe75b2a4b8c7ffbc5/06341/life-of-solo-developer.png 512w,\n/static/2afc83fff1f0d25fe75b2a4b8c7ffbc5/42a19/life-of-solo-developer.png 1024w,\n/static/2afc83fff1f0d25fe75b2a4b8c7ffbc5/e8464/life-of-solo-developer.png 1536w,\n/static/2afc83fff1f0d25fe75b2a4b8c7ffbc5/445c6/life-of-solo-developer.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Vida de desenvolvedor solo</figcaption>\n  </figure></p>\n<p>Depois de algumas horas perdidas tentando implementar um polyfill para IndexedDB no React Native, simplesmente desisti e me vi no meio de uma grande refatoração. Decidi mudar para <code class=\"language-text\">expo-sqlite</code>, uma solução de banco de dados local adequada para dispositivos móveis. Mas aqui está o truque—eu ainda precisava do Dexie.js (uma camada para IndexedDB) para manter a versão web funcional enquanto eu desenvolvia o aplicativo, já que uso principalmente o navegador para isso.</p>\n<p>Felizmente, a equipe por trás do Expo realmente pensou em tudo: apresento os arquivos <code class=\"language-text\">.web</code> no Expo—essencialmente, o Expo permite criar arquivos específicos para a plataforma (como <code class=\"language-text\">database.ts</code> e <code class=\"language-text\">database.web.ts</code>) para que você possa ter diferentes implementações para web e dispositivos móveis. Isso foi uma salvação, e depois dessa descoberta, posso confirmar que refatorar código enquanto murmura “antes tarde do que nunca” é totalmente uma coisa.</p>\n<p>E não podemos esquecer os gráficos—porque o que é um aplicativo de fitness sem gráficos de progresso legais, certo? Bem, o <code class=\"language-text\">react-native-charts-wrapper</code> funciona muito bem no celular, mas não na web, então tive que trazer o <code class=\"language-text\">react-chartjs-2</code> para a versão web. Você pode ver aonde isso está indo: lidar com duas bibliotecas de gráficos diferentes, dependendo da plataforma, foi apenas mais uma parte da diversão.</p>\n<p>A essa altura, eu estava bem fundo nesse buraco de coelho, e para facilitar um pouco a vida, adicionei algumas ferramentas de desenvolvedor ao aplicativo, como funções de exportação e importação de banco de dados. Isso permitiu mover dados entre a web e o celular durante o desenvolvimento. Foi por volta dessa época que percebi por que as pessoas são tão apaixonadas pelo Firebase—talvez em uma versão futura, eu faça a troca, mas por enquanto, o Musclog é 100% offline.</p>\n<h2 id=\"novas-funcionalidades\" style=\"position:relative;\"><a href=\"#novas-funcionalidades\" aria-label=\"novas funcionalidades permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Novas funcionalidades</h2>\n<p>O desenvolvimento de software é muito parecido com o bodybuilding, você começa com um plano, mas depois descobre que tem genética ruim para os bíceps, e acaba pivotando e fazendo 28 séries para bíceps por semana (certo, pessoal?). Minha visão original era bem simples: apenas um lugar para registrar meus treinos e nutrição. <strong>Mas como o Bambam diria, “Tá saindo da jaula o monstro!”</strong>, e as funcionalidades começaram a crescer.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 222.265625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAIAAADqwg+aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFkUlEQVRIx6WW61MTVxjG1wQ0bDbZLLu5LLMbhRCCXEIuJIEsEJRbghGxGDTjhYEwY+XiMMpNC/3QdopVnEKlgoBTudSAgoYkIHeZcRytCs7YOnW0M461X9oR5R8odJKUEANUrb95Puz7nvOcc/bszjkvsPQRAHa7fWhoyPG/AHg8XkhISEBAAIPB2PSBAARBCIVCLpfL+xC4blwzCwQCBEGC3xsEQXAcd5lJkgwPD4dhGEXR9zRzOBySJHEcBxAE4XA4wR8I4gYI/giA9Ub1rAjx4R1mBEEwDNNoErRaiqIopRuVSqVUKimK4vF4fkP4m/l8flhYGEEQIpFIKBSSJBkaGip0g2HYujOjKArDsFgs3rFjh0FvSEhIyMrK0ul0BoNBrzcYjUaxWOz3UfzfmQ3DEATx+XyJRBIWFioSicLDxTiOQxALhuF3bFi4SBQRIY6K2iqVSgmCjIqKiomJwfGQyMiIiAjx2mYURVksdnT01j7rRdv13t6ejp6eC2fONJSWlNTV1R3Yf+jg/gMdHS2xsTEQxPKufMUMQZBSKZ+csE1P2aenHDM3x4adtrExe2/vpeampks/dFgvX9KolUwmtLZZLo+7MTJwc9oxMjzY2dk2NeUcHbMNDFgPHixsbv722qBVoZBB0DpmhUI2Nnp9espZWVnd2Nj46NHd589/vX//9qmGUzbb4OiNofh4+X/NPD5um5x0NDR83d7e/vjx3K1bMz3dXbMP7jycu3Pvp1upuqSgIND7wX3NLLlcenNmtL29/fjxarU6NduQa9yZV119wumwOR3XpqduJFGJIMhc0wypVIrrtisnT35eXV1bW1tz9GjF4EDf3MPbTqejqOjT8+fPJadQIAhi2PKyPT89iqJMJiSTxTqHr50929Ta+v29e9OTk/ampsYLF1pGRob35hfU153UajUgyPT8yC4zhmECgYDH4/H5fJIklUqFRBIplUqTk6nt23XbtqVIJJEajSY6OlYmiyMIAsMwPp+P4ziGYYBQKKQoKjMzU+tGpVJrNAnx8UqZTCaVxsXFyVSqeLlcrlQqFQqFTqfLzMxMTU3VarVCodB1DGVkZFRUVKSnp5tMptzc3D179iQnJycmJnqG8z6o1erdu3cfPny4uLg4OzubIAjX6Wk0Gi0Wi8GNxk3COqjVaoVCkZaWlpGRQZIkINy8OS09XW8wpKWnZ+n1VFLSiii3fDJJSckUlaTTpabodJu3bAGCEYTDhmCIyWFBMIsZDLO9QjlwMAf2zXiEsFkIzHYdgKERkQU1XxbXn7bUnbLUnyqqW9ZnDYdqviio/WolsyxL/TcFNV+GRkQCVNbOq08Xrjx985aeLfQ/mf9uYrZ15uf+J/NXnvl3uPp0gcraCfAFuN5cuMtSllNY4qddRaW7ikrXyFvK9OZCvgAHUox5EwtLE2/8NTa/2P3wjx9/+XNs/u/J1R0WllKMeYAghMgpPJJfVmUqOWYqOe5Vfmnl3vKaveU1+aWVvnlTybH8sqqcwiOCEALQpOm7Zl90zf7uq+65l513njWPP2gef3Dx7m/dcy/9OnTNvtCk6QFJrKzqXNeJNmtt6+UVtVmrWrrLT7eWn26taun2az3RZq061yWJlQEwmx20MXC1wE0boaAgCAwCN21cswPMZgMoinK5vDWFcbmY6w5fuxVFUWD1fb9+NcDzawR8awyGm/UqkCCGS2/VJPuWMZvNJpMpLy/PbDbvW4XZvC/nE5d8GwFPRbW4uLi0tPT69etXr+a9oRdPdPcvl7zhv3WYB6fT2d/f39fX53Q6PRmbG8+zw2HvtNo6L9ucDq/DDvgCgkwOBwEAYMOGDQAACNx4Q89eekMXAcvQ6XQGgwGCIJ1ODwwMpNFoLDc0Gi0wMJBOp0GQK6TTaV7LP1SqCK8kQQwAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Rastreamento de treinos\"\n        title=\"Rastreamento de treinos\"\n        src=\"/static/d41801c4cd3ed5901fa8893f146a8c94/42a19/musclog-workout-screenshot.png\"\n        srcset=\"/static/d41801c4cd3ed5901fa8893f146a8c94/e3135/musclog-workout-screenshot.png 256w,\n/static/d41801c4cd3ed5901fa8893f146a8c94/06341/musclog-workout-screenshot.png 512w,\n/static/d41801c4cd3ed5901fa8893f146a8c94/42a19/musclog-workout-screenshot.png 1024w,\n/static/d41801c4cd3ed5901fa8893f146a8c94/b4ad3/musclog-workout-screenshot.png 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Rastreamento de treinos</figcaption>\n  </figure></p>\n<p>E o rastreamento de nutrição? Bem, não é só sobre registrar refeições. Eu precisava ser capaz de adicionar alimentos, diferentes macros, monitorar calorias e integrar tudo isso com os dados de treino. À medida que fui adicionando recursos, percebi que estava usando o GPT para obter informações nutricionais. Então, por que não integrá-lo ao aplicativo? Foi assim que o Musclog acabou com um recurso de chatbot. Agora, posso perguntar coisas como “Quantas calorias tem uma banana?” e obter uma resposta rápida. Mas não vamos nos precipitar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 222.265625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAIAAADqwg+aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG3UlEQVRIx6WVa2wU1xXHBwR4lz5s73vnuW+vpcZm1/O489yZ2ZnZHXttLWvW2JJNMDUxdu02TVFs2hAwINHEITYxAkwoSq2AS9qqCgkQ4rpNEA+VJM2Hth/oxyof+pCiSpWI1A91NTO2WUKqvn462j333nOu5t77v+dCK/8H0BWbt/8noEAgAMPwpk2bXC5X3Rfgeszq1n+haCyWTKVCMIygGIJhMIrCKGo5CAojaBiGv8gQx4FO3vjgxZ+9/9KVW9Nv3jz+k+XpN2+eeOv2Cz/9he3cmlv66PP27r1Xrv9q7sa9uaUPofcerFz67Z9e++gPi7/7y7nb91//zR/f+P1fFz7+5Icff3L5/qfvPVh5aJ+t3Pxs5f2//eON+5++8+e/33ywAk2cvjh5dnHy7OKB+cXJcz+amF+cmF+cnF+cOHPJstMXJ87Ydvri/rmF/acWnj21sP+V1549tTBx+iK01VXnmGvLplB9Pe7zoR5PBIFxBMaQ8Fe/tNW9ZbO7bstWV1044A/6fd6GejQcrv/Kl911W6BAMIjhOI4TGI7HR/qbp55OHRxPiGw6mUql0zhBxOLxeCIBwwhOEIBlFVVNJJIwjPj8fsjr9YZCoWAwGAqH4YMj0fPH0DOHgjyJBUMohgUCgWjMSvf7/XV1da2traqqut3uhoYGj8cDBYPBVCrVnE4nE4lUczqebkqkm5KJRCwSTSSTqaZUPBaLx6wJYrEYjmEoisbj8WgsGgwGIYIgJFHU29v1ardW7sqXu5RSu9JuKqWOQt/OfFdJzOUkXQM0LcmyapqCKPIcx/N8JBKxkkVB0EyTEwQ+l+MUOVc05Pai3GGyLCvpmrajIhdNyTDylbLSVdJ7urVqRTJ0HMMgHMdFUVQVBQDAAgBoBtA0oGmGolkbhmFERXbmcmJ4SeJ4niCI1eR8Ps+yLMdxrPPHcazjr8HQjDNkT2G5VrL12aIoyzKwYRgG/Duc6VaTBUEwDCOXyymKIstyrVPblGXZcSRJBAAQhL1hDMNIkrQe6sRJkqRpmqqqko1oI0kSz3PFUpeiG9aGEQTB83zt8uwlcwAAXdcLhcL6d672M4yiGapRsJK9Xi+CICiKIjV8run0rHaiKGzj9XqhSCRCkmT2v4QkSUskqVSqXC739vaapsnzvPgfIAhCLpdLp9PWOWcymdYatv0LagMymQyO41BjY6P/UTw2Xq/XU4PX63VGfT5ffX29z+drbGyEMAyja2AYRtM0wzA0TdN1XdO0QqFgGEY+n2cYhiRJURSr1SoAAEVRa8O4NSU6p7J9+/ZKpbLdplwud3d379ixo7Ozk2VZmqYVRRkaGuIdbRME4aifoiiGsQRM1UDTNEVRJEnSFGXdCdbSbzab5TjuobZzOclsL+VkhaIojuMEQeBto2mK51d9RyeOogBgLHk6t4oHzNcPPM9JYt/gU0pe29byRFtbhiLbSl1lkmxra8tmWp/YNfotUZa3tXxNNzt6+p9E4DAUi8WMYrGQk+nxvTv3jnRNTFT3Dg8Nj/f2Dewe/ub0O7e//dzR4acnx7/z3OD5C9U9Q+WOzvKTg+0jo2goCKWamjpLHZphPnN54XvLd/f9+NLk20uT79459stfH1i6w/9get+15WeuLY9dXe69fOb5n985cu3uoatL5tBONARbb5Way7F59dLy/PFrs9fvXji7fPb49dn9V2Znb5y8de/V2RszV++ce+v2/Acfnj+1NDez9OqFu69PHdjr84egSISgaDqvyEe++9TLh0e/f3DfCweHXz48+tKhkROHR1+c+sbJo+MzR8ZOHh2bnhqbOTJ+Ymp05thYX08XDKPWbgMARFFsN00pr/O6rhVLqmEahqnpBTGn0CxPA8c4mhVoINCAkyTJOqpIJOIIxDRUWVWEvKIXinlNM/JqZ0d7Pq+yAFgVjbWNYwFDa4WibnasVk9bJICiaMaumzRFMTRNkqQsy44qawsYQ9OSokqygmEo5PF4wuEw/CgIgsAwHA6HA4HA46PhkPVAWcUAhuHWx2hpabGUkc2yLEuSZEtLy6N3NpPJZmEYttbM8zxXg1PxKpVKX1/fwMBAd3c39ygMTTM0tfrcOOXaWRtFUYZhDA4OViqVcrlcrVZ7enoGBgaKxSJJkgAAsi1rlLp69gyjCAJFo1HrGqwhCAIAoFwuDw4O7tq1q7+/f/fu3ZVK5eEowxgdnd0De6zdDgQCzc3N6TUSiQRJkrqu2yXaWo4oioqiZLPZZDLZ1NSUTqdj0WgEx/1+P1RLQ0NDIBCAIGjjxo0QZBUZDMPWm84pQBC0YcOG1YQNa0AQtHnzZpfLtR691Wa96Xa7neZ6yj8B8tDSCGGw/9QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gráficos de nutrição\"\n        title=\"Gráficos de nutrição\"\n        src=\"/static/b69f535658f7c245847ca719437cf7af/42a19/musclog-nutrition-screenshot.png\"\n        srcset=\"/static/b69f535658f7c245847ca719437cf7af/e3135/musclog-nutrition-screenshot.png 256w,\n/static/b69f535658f7c245847ca719437cf7af/06341/musclog-nutrition-screenshot.png 512w,\n/static/b69f535658f7c245847ca719437cf7af/42a19/musclog-nutrition-screenshot.png 1024w,\n/static/b69f535658f7c245847ca719437cf7af/b4ad3/musclog-nutrition-screenshot.png 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Gráficos de nutrição</figcaption>\n  </figure></p>\n<h2 id=\"de-rastreamento-para-chatbots\" style=\"position:relative;\"><a href=\"#de-rastreamento-para-chatbots\" aria-label=\"de rastreamento para chatbots permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>De rastreamento para chatbots</h2>\n<p>Então, aqui estava eu, lidando com registros de treino, monitoramento de nutrição e gerenciando múltiplos componentes para diferentes plataformas, e ainda decidi adicionar um pouco de ✨IA✨ na mistura? Afinal, todo mundo adora um bom chatbot hoje em dia, e se você me conhece, oh garoto, eu gosto de um chatbot—tanto que passei centenas de horas codificando uma <a href=\"https://github.com/blopa/Magento-Chatbot\" target=\"_blank\" rel=\"noreferrer\">extensão de chatbot para Magento</a> que por muitos anos foi meu projeto de código aberto mais popular.</p>\n<p>Comecei adicionando uma interface de chat simples ao aplicativo, onde os usuários podiam fazer perguntas como “Qual é uma boa refeição pós-treino?” ou “Como posso melhorar minha forma no supino?“. A ideia era criar um treinador pessoal com IA que estivesse sempre disponível, pronto para fornecer insights e dicas.</p>\n<p>Como de costume, depois de muitas horas de codificação, decidi mostrar meu progresso para meus amigos, e eles disseram, “Por que não usar <a href=\"https://github.com/FaridSafi/react-native-gifted-chat/\" target=\"_blank\" rel=\"noreferrer\">Gifted Chat</a> para isso?“. Espere, você está me dizendo que após implementar uma interface de chat do zero, enviando e analisando mensagens, eu poderia simplesmente ter usado uma biblioteca? Bem, acho que essa é a beleza de aprender na prática.</p>\n<h2 id=\"integracao-com-openai\" style=\"position:relative;\"><a href=\"#integracao-com-openai\" aria-label=\"integracao com openai permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Integração com OpenAI</h2>\n<p>Integrar o OpenAI ao Musclog foi uma escolha óbvia para mim. Eu já tinha experimentado com isso em outros projetos, como quando usei o OpenAI para <a href=\"/pt-br/blog/coding/como-automatizar-a-criacao-de-instagram-reels-usando-gpt-da-openai/\">criar automaticamente tutoriais de codificação para Instagram Reels</a>. Com essa experiência, eu já estava familiarizado com chamadas de função, análise de respostas e manipulação de prompts. Então, pensei, por que não adicionar essa ferramenta poderosa ao meu aplicativo?</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 222.265625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAIAAADqwg+aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHPUlEQVRIx6XWeUyTaR4H8AcopRTRQi+ERURFUXe5FCi0FAoIGmSEGRyBlT0yOzMxMTBsnEODM9nNuu4fkxWG5RDEHY4KcqhUdKSAUEsppfTgKO1bQan0gJZytl0GhHfTt4LiMrNx95NvnvyeN+8vv/d98zQpgP8PgIVo+Z8AEonk6emJQqEwGIyT07sF+O7Zs2//gZ1eXp5eXjs9Pd8poKBVeLXp8d/vdxe2iYo7B4ofS/9bBoraJYXs/sI2EeD8C65TTJfynt55YWmdhX+Yhn8wvp1HM6/rFj3MnoU5ZrjLAoML31V+Wcx8OKLpGDWwoUk2NNmmnGpVaNnKyUcKbSukax81PJRPtj+dYisnWyGdaHqlskuSm//Pr0puAQ8Pgu9en/ZWNgQppRLpwMDg4OCQVDrQL+zv7xcJhSKpuPeZvGdcpX42NvZC9QKG4StX/goA2O7qCvKu5v2j4tu29s4fFw1zBs2icXLRqDPNTC5M6xaNuvlpnck4sWZ6sWJZeGmeW1qYhuG1q3/OQwPgQSIA/0OHfnlg35G41ON/LDuWXZTwWUniZyW21VrkliTmlsRnlx7LLjqWU3Qsu+h4bsnuEzmYI5m4fWHAdYfbdkeAOf43fBHsk7/slb/mXbC267s1pFjdVbDqXbC6u3DVK39t5zXrdY9ra3uLX5LLYVRWA8ATyQQXh20p+X4VcHCJJbhs+XDxSlj58uHi5UNF1iKgZPlo+XJgqTWHi5ePlK34F1qIBbDj2SbgTiDhne22pRX4VsH+11d8S+G91+F912G/Mnh/Gby/HN5TCh8oh/3LrfXBG9bC9duXqGsw+ncs4E4g4l1Q6NCPwXkIfNwHPhWBT/qt+VSE1JvzByH4SIjNluz8k8ot+Qpwd3fH4XDffPN1410Ws66RWdfAvN106/bd6tp6Zl1jTW0D83Zjbf0dZl3jrfqm5geP7jQ/CIugbduBx+PdAc7NjUQi9QoEKpVKCUEKhVL1fESnkiqgp+Pj46OjowqFAoKgZ2Nj4+PjM0YjDMNnz551dHQkkkgAh8ORyeS2trb+fhGvp4fbzROLBP19nD6hqFcg4PN7e3r4fH5vn1DI5/cK+vomp6YyMjLRaCcikQjckMlcLlen0w0PD8tkw6OjY3KFcnT0qXKdAgFBkE6ns1gs6enpaDT6VTORSOzp6bFYLAMDA2Kx2Ho+hwZHRkbkcrlEIoEgSKvVqtVqvV4/Pz9vMpnebubxeDMzMzwej81mP3nypKOjg8vl8vn87u7u3t5ekUg0NDQkEAggCFpaWtpistlslslkEolELBYrFAqNRqNWqzUajUqlUqvVKpXq+fPnWq12i8e2TeYgeDweh8MRi8UymWwYIZFI5HL54KD1Xcxm8xbNc3NzEoRQKJRIJHw+f3BwcAD5iUokEqlUKpPJ3p7sjncnk8k9PXyTycTj8bhcbldXV2dnZ19fn23y0NCQbb5cLlepVJs+mAvWZft2HIfDMRgMEAQplUrIelQUExMTGo1Gq9XaVp1ONzExodVqFxcXz5w586r5o/O/vfiXC908wcyMUa/XGwwGvV5vNBoNBsPU1JRer9doNFNTUwaDQa1Wz87O2k4YGo0mkUgg5cP3f5N15sIXXzXU19fU1NQibiFq/0NdXV1NTU1wcDAWi3VzcwO+u319dvn4+Oz6xRt2bcXb29tW+Pn5HTx40N/fH1Bp1DhEfHz8cUR8fDyNRqMiaDRaFCI6OjpmHZ1Op9FokZGRIDQ09NSpU5mZmRkZGZmZmVlZWenp6fHx8TExMXFxcXQ6PSwsjEKhREVFJZx87+QHHyanpScknYyKiqJQKIBCodBoNAaDER0dTafTY2JiGAxGXFwcg8GIjY2l0+nh4eEUCoVKpdJtrLdFU6lUa3N4ePiJEydOnz4dGxsbFRVFpVKPHj0ats7W+VOszUlJSWlpacnJySkpKcnJyYmJiRsDf561OSEhISUlJRWRlJSUmppKp9MjIyOpb4iIiNiiOTLCKigoKDAwMAgREBAQtFlgYGBoaGhkpO3e1wCJ7EEgkr++fLmhoaGysrKqqorJZFZVVVUjampqqqurmUwmg8EgEAje3t5ebwCf5Pw+7+rnAqF0+celubk5k8lksVgWEQsLC2azeX5+Hobhc+fO2dnZ4fF43DrrCTuV9v6vM06fz8n9vvL7GzcqKm7erKi4+WqteF2HUyg7cDgSmUwkkTYCUA4oezsHB3s7sJmzkxPB3Y2Id8M6YwAAGDRqGxbj4uz0OlhnEEGlUsNDwtNyQi7zQi51BF/qCLnUEXKxI/hiR8ilx8hqTeCXbQFfsF/l80e/usgJSc8DqzYwvALDL9/1f1hLSwuLxbrPambdu9N8t+nB/eaHLSxbWlj3Wlj3fmr78EHLpvfEYrE4HA4AYGdn/QRksgeZ7LGxJRCJRCJpY2uFWufg4IDBYLBYrIODg6Ojo729vSvC3t7+re1Gy78BjSQRtkO9ctIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Conversando no Musclog\"\n        title=\"Conversando no Musclog\"\n        src=\"/static/704cbad9cc4378eb4a5830458e14e1ff/42a19/musclog-chat-screenshot.png\"\n        srcset=\"/static/704cbad9cc4378eb4a5830458e14e1ff/e3135/musclog-chat-screenshot.png 256w,\n/static/704cbad9cc4378eb4a5830458e14e1ff/06341/musclog-chat-screenshot.png 512w,\n/static/704cbad9cc4378eb4a5830458e14e1ff/42a19/musclog-chat-screenshot.png 1024w,\n/static/704cbad9cc4378eb4a5830458e14e1ff/b4ad3/musclog-chat-screenshot.png 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Conversando no Musclog</figcaption>\n  </figure></p>\n<p>A integração em si foi bastante simples. Usei a API do OpenAI para processar as consultas dos usuários e fornecer respostas perspicazes. Toda vez que um usuário envia uma mensagem, o histórico do chat é enviado de volta ao OpenAI para manter o contexto da conversa intacto. Para dar um pouco de personalidade à IA, usei mensagens do sistema como, “Você é um treinador pessoal prestativo chamado Chad, e está aqui para ajudar nas jornadas de fitness. Pergunte-me qualquer coisa!”</p>\n<p>Mas não parou por aí. Eu imaginei que, se já estava integrando o OpenAI, por que não ir um passo além? Então, adicionei uma opção para pedir ao OpenAI que criasse um plano de treino diretamente. Por exemplo, você pode usar o chatbot para perguntar, “Você pode criar um treino de push-pull-legs para mim?” e pronto—Chad, o treinador, entra em ação, gerando uma rotina de treino personalizada na hora. Este recurso é particularmente útil quando você não tem certeza de como estruturar seu treinamento ou se está procurando variar sua rotina.</p>\n<p>As possibilidades aqui são bastante empolgantes. Com essa integração, o Musclog não é apenas um rastreador de treino estático; ele se torna um treinador de fitness dinâmico que evolui com suas necessidades. E sejamos honestos, ter uma IA que pode criar um plano de treino em segundos parece um superpoder, especialmente quando você está na academia e precisa de uma rotina rápida no momento.</p>\n<p>Não só isso, mas também dei acesso a todas as informações de saúde ao OpenAI, então meus dados de nutrição, treinos, peso e porcentagem de gordura estão disponíveis para a IA usar, para que ela possa me fornecer melhores insights. Claro, devido a preocupações com a privacidade, tornei isso opcional, e também adicionei um recurso para excluir todos os dados sempre que o usuário quiser. Mas imagine, fazer um treino realmente difícil e depois perguntar ao GPT o que ele acha sobre isso, bem legal, né?</p>\n<h2 id=\"design-do-app\" style=\"position:relative;\"><a href=\"#design-do-app\" aria-label=\"design do app permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Design do App</h2>\n<p>Eu não sou designer, mas gosto de pensar que tenho um bom olho para UI/UX por causa de muitos anos de desenvolvimento web. No entanto, o desenvolvimento móvel foi uma fera completamente diferente, então precisei terceirizar os designs de UI e qualquer arte, usando recursos gratuitos de código aberto ou IA.</p>\n<p>Sim, sim, eu sei de todo o ódio em relação à arte gerada por IA, mas era isso ou arte feita no MS-Paint, então optei pela arte gerada por IA.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 678px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABUElEQVQY03WMUW+CMBSF+f8/Z8n2MLO9LAvEhIehVbAFEVCgt1hhpVCwdFEzY5bsy83NOfeeHMv8Ml25i7v9j2marMPhEAQBxvjm/7wB4LHOGCOl1Fr3fS+EsKIochzH8zyMMefcGCOEUEpxzpumIYQ8lrZtO5vNhmGoqmo+n1uEkHEcgdIVQgvPYwAE47IoVgh1UkZhSDDeBIHv+5vNZrlYhGFY13Unpeu6Ft5GxphknwFjn45zrOvlev2FUJymQsokywJCPLREK2Tb9j7PP2z76eX59f1t7rqWyktzasYSdAltkg4FrUmkCtrt8y7NzKnpD4UoKaWAAzyKduInWPmqoEaNFoOYljGDHYP4WKUV2/FjxmBXsaRiCdC4gh3/Lr6I5yc+43tabutTfs2nVnvupFZS91L37fm2u/bc30ZqdRFjpyaltJLXixgvgU4PP+Z5vEEZQerAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Logo do Musclog no MS-Paint\"\n        title=\"Logo do Musclog no MS-Paint\"\n        src=\"/static/7e20ac19f1f7fbefd54041cd6e4b562a/dc057/mspaint-musclog-logo.png\"\n        srcset=\"/static/7e20ac19f1f7fbefd54041cd6e4b562a/e3135/mspaint-musclog-logo.png 256w,\n/static/7e20ac19f1f7fbefd54041cd6e4b562a/06341/mspaint-musclog-logo.png 512w,\n/static/7e20ac19f1f7fbefd54041cd6e4b562a/dc057/mspaint-musclog-logo.png 678w\"\n        sizes=\"(max-width: 678px) 100vw, 678px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Logo do Musclog no MS-Paint</figcaption>\n  </figure></p>\n<h3 id=\"ui\" style=\"position:relative;\"><a href=\"#ui\" aria-label=\"ui permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UI</h3>\n<p>Para a interface do app, usei componentes do <a href=\"https://reactnativepaper.com/\" target=\"_blank\" rel=\"noreferrer\">react-native-paper</a>, o que facilitou a criação de um visual limpo e moderno, com a maioria dos componentes de que eu precisava, como botões, cartões e modais.</p>\n<p>Isso resolveu o lado funcional das coisas, mas e a parte estética? Eu terceirizei meus esforços para o <a href=\"https://v0.dev/\" target=\"_blank\" rel=\"noreferrer\">v0</a>, uma ferramenta da Vercel que usa IA para gerar aplicações simples de uma página para serem usadas em um app Next.js. Eu simplesmente inseri o texto explicando o que precisava e pedi que fosse mobile-first, e voilà, eu tinha um design lindo para o meu app.</p>\n<h3 id=\"logotipo-e-ilustracoes\" style=\"position:relative;\"><a href=\"#logotipo-e-ilustracoes\" aria-label=\"logotipo e ilustracoes permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Logotipo e ilustrações</h3>\n<p>Para o logotipo e as ilustrações, usei o <a href=\"https://openai.com/research/dall-e\" target=\"_blank\" rel=\"noreferrer\">DALL-E da OpenAI</a> para gerar as imagens. Eu simplesmente digitei o texto explicando o que precisava e detalhes sobre o meu app e obtive alguns resultados bem legais. Depois, usei o <a href=\"https://www.photopea.com/\" target=\"_blank\" rel=\"noreferrer\">Photopea</a> para fazer alguns retoques e adicionar efeitos às imagens.</p>\n<h2 id=\"chegando-na-google-play\" style=\"position:relative;\"><a href=\"#chegando-na-google-play\" aria-label=\"chegando na google play permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Chegando na Google Play</h2>\n<p>Depois de meses de desenvolvimento, testes e uma quantidade não saudável de Pepsi Max, o Musclog estava finalmente pronto para o grande palco: Google Play. Mas é aqui que as coisas ficaram… interessantes. Eu estava sob a impressão de que poderia simplesmente enviar meu aplicativo e pronto, como fiz em 2019 para meu jogo Gotinha. Ha! Mal sabia eu que o Google Play força você a conseguir 20 pessoas para testar seu aplicativo antes de ele ser lançado, mesmo que você seja apenas um desenvolvedor solo. WTF, certo?</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQozwEZA+b8ACwpKVxXVDEvMCAfIHVvarOuquro5NTV1aWmp0NGTHJvbsTBvdrX1MG/vHFvbjs5OTEvMEE8O3JtaiYlJgAnJCY6ODhfXFtOTE6DgH5nZmZ0dnswMTS6t7SanKDGxMNaXWOTkI+oqatbWFmLioomIyR8d3Tn5N9YWFoAMDAyMjAxQkA/aGdnQkJETUtKSklLoZ6bycrMa2tsjIyMZGJiqKWisrS2XFxdW1teLiwsv7+8dXR1FhUXAHZ3eh0dH0I+PVBOT1ZTUmdnaK6urtTV02tqanFvbmhmZVxZVrWzsKmqq1dVVlBOT25tbF5eXy0pKD87OQBJR0gjIyZ0cG5sbXJzc3RdXF2XlpSgnZpoZWJjX12ioqGFhIWgn56ZmJaCgYBSTk5cW1xPTU1aVFFSTEkAKCYnUE9RWFVVbm5vsLCvc3R2f3x6u7q3fHp4h4aFjY2Oh4WFw8LCn52cbGppeHRzfn1+XVlYVlJPLiwsAGpmY/L08mVnbElGRYB9fICBgpeVlL6+vaurq7a2tbq6uK+vsMLCw56en1xaWaqoppeYmFdUU0tGRR8eHwAYFxi6uLSxtblRT1BtammKiorPzsxWVVZ/fn97enmDg4OCgoNaWVjR0M57e31raml0cnFYVVRgXl4eHR4ACgsOPz08pKanYWBhhIF/zMzJg4KDFRYZU09OaGhpaWlrUE9PLCwwkZGS3NvalJOSRkJCnpuajY2PDg4PACUlKCUjJXl3d4aGiLi1s5+fnzo7QDM2PEtJSoyLi46NjFpaXD9BSDw9QqenprGwrmpnaFlaXDMyMnx5egAsLC86OTtgXl60srHCwL1NT1JQSUtuZm5zdntfYGJfX2F0dXhpaGlHR0lSU1e9vLuxsbFTU1ZOTU85OjwAIyQnWlhYsa+t29vZdnZ2UExOWHB2VXxxXl1gVVlfVlpfZGZqX2FlXmBjTk9ThISF5OPhxsfGbW5yGxsgAGRkZLu5uNbV05GRkVVVVmFdXxU/UDFMQicmJjA2PT9DSC4yOC80OhwhJ2NkZ1xeYaalo9fW1LKys19gZaAKVbzZf9AuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Musclog no Google Play\"\n        title=\"Musclog no Google Play\"\n        src=\"/static/2f4435481c82229b5ad1e2f673ddf4d0/42a19/20-testers.png\"\n        srcset=\"/static/2f4435481c82229b5ad1e2f673ddf4d0/e3135/20-testers.png 256w,\n/static/2f4435481c82229b5ad1e2f673ddf4d0/06341/20-testers.png 512w,\n/static/2f4435481c82229b5ad1e2f673ddf4d0/42a19/20-testers.png 1024w,\n/static/2f4435481c82229b5ad1e2f673ddf4d0/7383e/20-testers.png 1535w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Musclog no Google Play</figcaption>\n  </figure></p>\n<p>Encontrar 20 pessoas para testar seu aplicativo parece fácil até que você realmente faça isso. Acabei recrutando qualquer um e todos—amigos, família, colegas de trabalho, conhecidos em festas, talvez até tenha pedido a alguns estranhos na rua (brincadeira, talvez). Mas após reunir meus “bros” de teste e passar pela fase inicial de testes, adivinhe o que aconteceu? Meu aplicativo foi rejeitado. Sim, é como se a vida simplesmente não estivesse pronta para me deixar vencer.</p>\n<p>Então, lá estava eu, esperando mais 14 dias, corrigindo os problemas que eles apontaram e reenviando o aplicativo. Foi uma montanha-russa de emoções, para dizer o mínimo. E como se isso não bastasse, porque eu queria a integração com o Health Connect, <strong>mas não só isso</strong>, acredite ou não, eu também precisava ter um site público para o meu aplicativo, então tive que criar um site para ele, escrever uma política de privacidade e preencher um formulário explicando por que precisava de acesso aos dados do Health Connect. Então, criei rapidamente um site usando <a href=\"https://nextjs.org/\" target=\"_blank\" rel=\"noreferrer\">Next.js</a> e <a href=\"https://v0.dev/\" target=\"_blank\" rel=\"noreferrer\">https://v0.dev/</a>, e usei o GPT para escrever uma política de privacidade para mim, você pode vê-la aqui: <a href=\"https://blopa.github.io/musclog-website/\" target=\"_blank\" rel=\"noreferrer\">https://blopa.github.io/musclog-website/</a>.</p>\n<p>Você pode estar se perguntando se eu fiz este aplicativo para mim mesmo, por que me importo em tê-lo no Google Play? Bem, por um lado, acho que o Google Play é bastante conveniente e quero conveniência ao instalar o aplicativo no meu telefone, e em segundo lugar, quero compartilhá-lo com meus amigos e familiares, e acho que é mais fácil compartilhar um link para o aplicativo no Google Play do que enviar um arquivo APK.</p>\n<p>Mas depois de todos os obstáculos, recebi finalmente o sinal verde, e o Musclog estava oficialmente no Google Play. Então, sim, não foi fácil, mas definitivamente valeu a pena. <strong>“É hora do show, porra!”</strong></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCUlEQVQoz2N4+PDRnTt3noPB06dPnz179vTp01u3bt+6dfvZs+f/UcH3P//W3nm39s6bpddfPf/ym+HBo0cPHj58/uLFu3fvXr169fTpsydPQEbcv3//zZu3cG1///37////0XvvXBqXLT9+3bd91ax91xn+Ewf+/gVp3nP2TnzN1M0nr2V1Luxftoth8aUj8y8cvP7m6f////+hAhTNYO7tRy8CC7vd0ps8Mlu2HznPMP30nqmndp97dv/X719/UTWgAYhxN+49PXD6yrlrd//+/Qd19r8/f/79+f3n968/v3/Blf79/evf37///vz+9+cPVuMY/AP8e6dOK2lqn7VoWeuEKe2TprW0t2dkZk2aObuipXPu0pW1HT0rNmz+////mzdvPn36hOwpBl0dncDQUCN7+5iEhIPHTixfs87d11/T0CQqLt7A2CQlPdPS1q6qtu7///8/fvz49esXis05OZkJiYnuXh7Z2ZmTJ01sbm4OCQkxMNCPS0hQ1VSPiYkxs7JcvHgxOMD/ojs7LK8yNTPbztIiPiGpqLg4JSXVx8dXR083IjJCRU0tIiJCz8CgqroaHuAomvNKypvqavqa69u6+zo7Ojo6O2tqauPj4zs7O9PT0/v6+nNz82bPmQMPbRTNHz9++Pnz15dv3379+vnnzx9Mt+EBDJ8+ff758+c/vDGMSzMAxD14Zb8NfeEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Musclog no Google Play\"\n        title=\"Musclog no Google Play\"\n        src=\"/static/94c86cf4c9336297db75be297075c49d/42a19/musclog-on-google-play.png\"\n        srcset=\"/static/94c86cf4c9336297db75be297075c49d/e3135/musclog-on-google-play.png 256w,\n/static/94c86cf4c9336297db75be297075c49d/06341/musclog-on-google-play.png 512w,\n/static/94c86cf4c9336297db75be297075c49d/42a19/musclog-on-google-play.png 1024w,\n/static/94c86cf4c9336297db75be297075c49d/9bae8/musclog-on-google-play.png 1330w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Musclog no Google Play</figcaption>\n  </figure></p>\n<h2 id=\"tornar-se-open-source-ou-nao\" style=\"position:relative;\"><a href=\"#tornar-se-open-source-ou-nao\" aria-label=\"tornar se open source ou nao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tornar-se open-source ou não</h2>\n<p>Eu sempre libero todos os meus projetos como código aberto—é meio que minha coisa. Mas quando se tratou do Musclog, eu hesitei. Este aplicativo me levou mais de 300 horas para desenvolver, e tem alguns recursos realmente interessantes que não vi em outros aplicativos de fitness. Achei que talvez pudesse recuperar parte do tempo que gastei nele vendendo-o no Google Play ou talvez adicionando um botão de “me dê uma gorjeta”.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAELklEQVQ4y2WUWVMiVxiG+Z/5A8ldapKZi4xJSh3jgsuwg4psg+zdQAOyNDS90Mgm2Mgi7jqZmkr+Qjxv6hwHS2suvj770++3nGO6HtVxdSbhZlTH7VhmdvNtjq7NbT6mLbWHcxVfLjTcT5VXa6bnwVCCUI5CqMRwOXx9+CX0iv54IkOp8uC5MI6VLO5eQBnwbiwjL8awEbbBEXVDbwi4m8jfwS6ZMgUFIQb7fghJoYwt+x6kSoopvpwrpEBFTcMacyHA+zDoFJnrc4Vzo6GY9svwfwrDdRDBT28WcBBOwRfw42b8wmW6UZRS2I3tYTVgQbYSxcNUfXb9Zg5nSmvw+v346A7i3R9r8EczCIZ8LJZPCkcS7icKWsc5eLg9eHkvTnsl3E0UBjs/rWJ8UnkO/v25gk4jhy2rA7/+uQbP/j5GvfLzuunCqGHYLWM2qEJXsmiqAqZ9EUanxIBdvYAtiwWh0AGL66QvMus184hwfpy2i2xMoSwptKPU0lBraWhSBo16BrqcZf2ZUUVHyyMQ9MKz72FxpQCpwrH1jl5grSzyOFaEJyBVOGgVGVCVMqiWUqiLPJuj5dFUBNidDrQVAXfnCib9CgtBV8/D43GwfdSbs7lCmp3ZaRUtLYeCEEWGDzOF9BAFtupZCHse8C4nBnoet1OFxXfUK2Fnx8wSQfe9yvLlsIYvlw1EwvuIHnrx94XGMjwb1iBmIkh8tCJqszM4OzyqM6DNus3OzmFMIf3MgVzCj3QywPp07noiQztKImO1oRwNYtQXcX32dFNOmgVs75hZQqcD8fXVmxk1fL3SwcX9DPr5QmNheJipKAtRLL1fRjoRwrlRw7lRxXRQRVvLYWljBZFCEOOByFxnwJtRnXyeqORiLJFYxAuBC5F/r5u4OauDtlwqjB9+fIfltU12329HMh4mKtq6gIXVJdg4N3q9IzxMvtXh2aACoRaDr+gnm7vbZDfoJAUtSeic3s0Rj9+DNwtLWPiwhqrCoagkkJcTOMh48dvqIiwpF6y8G1KDZ2Vl6nWPSFaKEb4WgV84gJPzYIdzwhy3E0vWjfc76+Tt8gfy8++LMEds2Eo56BrsvBt7/B4SlTCEegyixrEkmrw5LwPKeoYMB2UyMURi9Mt0jJwWJyu2bfL2rxX8srgMd2wXJS2FVjsP6tnYENHu5FFRUwgXA8jX4zAlxcNHC+ci64dWYku4yadi4LGm8f/NjNrj18sGtq1WYrZZyNKGGcVcHP9c6eh2CshKMewLXliSLmwmHQgU/BgNKjDdjWViDMokmPaRRecmsfAurMdt8BV8j8NeieQyETSkDElzhzDaJdT1NMwJO4PsJJzYOrTjSE6wWqQJe3oPJ+zpId1OgegtgZTV1GOuHn+cGlXyeabSYBNae/RF0Y6zKMgJqM0smq0cTrpHrNDndfg/b78BFDz446kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Tornar-se open-source ou não\"\n        title=\"Tornar-se open-source ou não\"\n        src=\"/static/dd0d3e91e6e919e174aae6ca82c7d985/42a19/open-source-or-not.png\"\n        srcset=\"/static/dd0d3e91e6e919e174aae6ca82c7d985/e3135/open-source-or-not.png 256w,\n/static/dd0d3e91e6e919e174aae6ca82c7d985/06341/open-source-or-not.png 512w,\n/static/dd0d3e91e6e919e174aae6ca82c7d985/42a19/open-source-or-not.png 1024w,\n/static/dd0d3e91e6e919e174aae6ca82c7d985/e8464/open-source-or-not.png 1536w,\n/static/dd0d3e91e6e919e174aae6ca82c7d985/a52c7/open-source-or-not.png 2024w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Tornar-se open-source ou não</figcaption>\n  </figure></p>\n<p>Mas uma vez que meu aplicativo foi aprovado e, para ser honesto, após usá-lo nas últimas semanas, percebi que, embora os recursos e ideias sejam legais, o aplicativo não é tão polido quanto eu gostaria que fosse. Percebi que talvez o Musclog fosse melhor como um projeto open-source, onde a comunidade pudesse me ajudar a melhorá-lo—o que, para ser honesto, também é um desejo, porque a maioria dos projetos open-source não ganha muito destaque e são principalmente mantidos pelo criador, então o melhor que posso esperar é que as pessoas criem issues e peçam recursos. Viva!</p>\n<p>Honestamente, meu sonho seria ter um aplicativo open-source que de alguma forma me fizesse ganhar dinheiro—algo como Mindustry ou Blender. Então, depois de limpar o histórico de commits do Git, não porque estou envergonhado do meu código—ok, talvez um pouco—mas principalmente porque não tinha certeza se tinha cometido um erro ao enviar uma chave do OpenAI por engano, decidi tornar o Musclog open-source.</p>\n<p>Você pode conferir o código aqui: <a href=\"https://github.com/blopa/musclog-app\" target=\"_blank\" rel=\"noreferrer\">https://github.com/blopa/musclog-app</a>. Se você gosta de fitness e codificação, sinta-se à vontade para contribuir. Quem sabe? Talvez juntos possamos transformar isso em algo realmente especial.</p>\n<h2 id=\"o-que-o-futuro-reserva\" style=\"position:relative;\"><a href=\"#o-que-o-futuro-reserva\" aria-label=\"o que o futuro reserva permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O que o futuro reserva</h2>\n<p>Agora que o Musclog está no mundo, já estou pensando no que vem a seguir. Existem muitos recursos que eu adoraria adicionar, como análises de treino mais detalhadas, capacidades de IA aprimoradas e talvez até alguns recursos sociais para compartilhar treinos com amigos ou participar de desafios.</p>\n<p>Um “problema” com o Musclog é que ele é realmente um aplicativo para levantadores avançados, não que eu seja avançado (não sou), mas sou louco por dados e monitoramento, e meu aplicativo realmente brilha se você é o tipo de pessoa que monitora cada repetição, série e caloria. Então, estou pensando em criar uma versão mais simples do aplicativo, com menos recursos, ou talvez com um processo de onboarding melhor, para que os iniciantes também possam usá-lo, afinal, a maioria dos levantadores são iniciantes, certo? Eu também gostaria de conseguir convencer meus amigos a começar a malhar e usar meu aplicativo, então preciso torná-lo mais atraente para eles.</p>\n<p>Alguns dos recursos que estou pensando em adicionar são:</p>\n<ul>\n<li>Integração com dispositivos BLE</li>\n<li>Capacidades de rastreamento de alimentos no aplicativo</li>\n<li>Análises de treino mais detalhadas</li>\n<li>Opção de usar um modelo OpenAI personalizado</li>\n<li>Talvez um modelo LLM local um dia</li>\n<li>Conta online para sincronizar dados entre dispositivos</li>\n<li>Perfil online para compartilhar treinos e desafios</li>\n<li>Recursos de gamificação</li>\n</ul>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Olhando para trás, a jornada de construir o Musclog foi tanto sobre crescimento pessoal quanto sobre codificação. Aprendi muito sobre desenvolvimento móvel, o que sempre é uma coisa boa. Eu posso ser um desenvolvedor web hoje em dia, mas não foi assim que tudo começou; nos meus dias de faculdade, eu era um desenvolvedor C++, e o desenvolvimento web nem fazia parte do curso, então voltar ao desenvolvimento de plataformas é uma mudança de ritmo agradável.</p>\n<p><img src=\"/c1611424e8d127b69fc982f398783569/just-do-it.gif\" alt=\"Apenas faça!\"></p>\n<p>Então, se você está pensando em iniciar seu próprio projeto—seja um aplicativo, um site ou outra coisa qualquer—meu conselho é simples: apenas faça. Abrace os desafios, aprenda com os contratempos e aproveite o processo. Porque no final das contas, a única coisa que está entre você e seus objetivos é a decisão de dar o primeiro passo.</p>\n<p>Obrigado por me acompanhar nesta jornada, e mal posso esperar para ver o que construímos a seguir. Levante, Registre, Repita!</p>\n<p>Vejo você no próximo!</p>\n<p>PS: Se você quiser experimentar o Musclog, pode baixá-lo no Google Play: <a href=\"https://play.google.com/store/apps/details?id=com.werules.logger\" target=\"_blank\" rel=\"noreferrer\">https://play.google.com/store/apps/details?id=com.werules.logger</a>.</p>\n<h3 id=\"mas-e-o-codigo\" style=\"position:relative;\"><a href=\"#mas-e-o-codigo\" aria-label=\"mas e o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mas e o código?</h3>\n<p>Na verdade, eu queria incluir trechos de código e explicar como a maioria das funcionalidades funciona, mas percebi que isso deixaria o post muito longo. Então, decidi escrever uma série de posts explicando como construí o Musclog. Fique de olho!</p>","fields":{"slug":"/2024/2024-09-21-musclog-aproveitando-minha-experiencia-com-reactjs-para-criar-um-app-em-react-native.pt-br/","path":"/blog/coding/musclog-aproveitando-minha-experiencia-com-reactjs-para-criar-um-app-em-react-native/","locale":"pt-br"},"readingTime":{"minutes":17.905},"frontmatter":{"date":"2024-09-21T00:00:00.000Z","title":"Musclog: Aproveitando minha experiência com React.js para criar um App em React Native","categories":["coding"]}}},{"node":{"excerpt":"Como um desenvolvedor totalmente ”commitado” (trocadilho…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQozwGfAmD9AMiUA8uYBMuWAsmYC8+XBG51Z5OSWq6VQY6LV9i1I9ClFrGfW5qeW7aIDs+LAMyYDs+WBtOZAM+ZA9CaAgDNlgHUmQHjnACtsj2qwEpza1Obqbqus7l8j6yPkGaenWq0n1pMbalea2GJuocoqr5hl3TglgDUmwPSmwIAnok+o5JH3agH0blJraxOZWdxi5GbsrG1zb7Al4VdVWRjVVJVJENtFXikG4mqbnJGRI+Lw5EU0JMEzZcEAI59SJ240LS+rMC+ip+QT08zQGZga9fOvurUzLa0kpaPTGIlRFA5WxJYgR5DaaeQPjmmppiOObiLGNCWAgCwiBSlsbHq6s6Xn5pBRVdPUWpncofk5NOdsLRnloqlyG1eS1hhQVUZXYANUn5yY0GrrEKnnjzIoh3goAAA0KEQl6KUy8vBsZSHjoJzMUVoSVBdYVlmkIFrT3ltPHN/cKJ9XYVoE3qXGY2tbXBW9rkvzq03mJpE5akEAOevCKKaYrzByPnctIN6cQgaTqGobNvOUtnIVv/pVFV+bhZbfBlFZBw0WB6sx0uTlNChSO+8MHyPV8ylGQDmqA+xljyuvsX/9tBwdXd0eINYZnCounf/9Vf/9FSOekBGNTG3nES0lTlYY1AhK1WTjlmauW5IeXHjsA0A5MkX2Mcpn56Oi310XWZ12NrJpJ5vZmxX9Ohbzs9mp7VwhXJtnKl4oJ5hootJVGVXFUt5MlZhtZgl/80EAN+0G7GMSlhDSlpeg4GNkXtwcqt8X3VhRJCCT3mHbU95o3V6l3eMmnJ3kntiUEmDhD5fbZ19ZsaeOPC+BQDxvgO/jx+VeTmYe0yvnmuqrHy4mm+lfShnXVW0iDqZg2drgpCLb4Z9XlKomH6ojF/IiyOus6amj1P4xwWkVkqDztXvPgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ilustração de como é trabalhar com foss\"\n        title=\"ilustração de como é trabalhar com foss\"\n        src=\"/static/e33431ea4c32553f41b55b637ea5a114/42a19/foss-git-calculation-illustration.png\"\n        srcset=\"/static/e33431ea4c32553f41b55b637ea5a114/e3135/foss-git-calculation-illustration.png 256w,\n/static/e33431ea4c32553f41b55b637ea5a114/06341/foss-git-calculation-illustration.png 512w,\n/static/e33431ea4c32553f41b55b637ea5a114/42a19/foss-git-calculation-illustration.png 1024w,\n/static/e33431ea4c32553f41b55b637ea5a114/e8464/foss-git-calculation-illustration.png 1536w,\n/static/e33431ea4c32553f41b55b637ea5a114/445c6/foss-git-calculation-illustration.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">ilustração de como é trabalhar com foss</figcaption>\n  </figure></p>\n<p>Como um desenvolvedor totalmente ”<a href=\"https://git-scm.com/docs/git-commit\" target=\"_blank\" rel=\"noreferrer\">commitado</a>” (trocadilho intencional, e não vai ser o único) em projetos pessoais de FOSS, muitas vezes perco a noção do tempo. Parece que passei muitas e muitas horas programando, mas quantas exatamente? A curiosidade falou mais alto, então decidi escrever um script em Node.js para descobrir. Spoiler: Imediatamente me arrependi dessa decisão ao ver quanto do meu tempo livre foi gasto programando. Brabo.</p>\n<h2 id=\"esbocando-o-plano\" style=\"position:relative;\"><a href=\"#esbocando-o-plano\" aria-label=\"esbocando o plano permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Esboçando o plano</h2>\n<p>Eu queria um script que pudesse calcular minhas horas de trabalho com base nos meus commits do GIT. Como sou um ávido defensor das convenções de commits atômicos, a ideia é simples: quando estou trabalhando em meus projetos pessoais, estou fazendo commits. Se houver um intervalo de mais de 3 horas entre os commits, isso significa que provavelmente estou fazendo alguma outra coisa, como comendo, dormindo ou assistindo vídeos de programação (não, espera).</p>\n<h2 id=\"escolhendo-o-pacote-certo\" style=\"position:relative;\"><a href=\"#escolhendo-o-pacote-certo\" aria-label=\"escolhendo o pacote certo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Escolhendo o pacote certo</h2>\n<p>Existem muitas bibliotecas GIT para Node.js, mas escolhi <code class=\"language-text\">simple-git</code> por sua facilidade de uso. É um wrapper em torno dos comandos GIT, tornando-o perfeito para essa tarefa.</p>\n<p>Então, depois de instalar o <code class=\"language-text\">simple-git</code>, e fazer <code class=\"language-text\">npm init</code> e todas as outras coisas, eu estava pronto para começar a programar.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O código</h2>\n<p>Ok, vamos primeiro nos familiarizar com <code class=\"language-text\">simple-git</code>, aqui está um código simples para buscar o log de commits:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> simpleGIT <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'simple-git'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> git <span class=\"token operator\">=</span> <span class=\"token function\">simpleGIT</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> log <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> git<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> log<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Erro ao buscar o log de commits:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">commits</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com o log de commits em mãos, vamos ”<a href=\"https://git-scm.com/docs/git-apply\" target=\"_blank\" rel=\"noreferrer\">aplicar</a>” nosso plano esboçado no código e calcular as horas de trabalho. A ideia é iterar pelos commits e, sempre que houver um intervalo de mais de 3 horas entre dois commits, considerar o commit anterior como o fim de uma sessão de trabalho.</p>\n<p>Por exemplo, se eu começar a trabalhar às 9h e fizer um commit às 10h, depois fizer outro commit às 15h, o script deve considerar a sessão de trabalho das 9h às 10h, então 1 hora.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> commits <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Nenhum commit encontrado neste repositório.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">let</span> totalWorkTime <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> currentCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> maxInterval <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3 horas em milissegundos</span>\r\n\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> commits<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> nextCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> currentCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> nextCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>nextCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>currentCommitTime <span class=\"token operator\">-</span> nextCommitTime<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> maxInterval<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                totalWorkTime <span class=\"token operator\">+=</span> currentCommitTime <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                currentCommit <span class=\"token operator\">=</span> nextCommit<span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        totalWorkTime <span class=\"token operator\">+=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> totalWorkHours <span class=\"token operator\">=</span> totalWorkTime <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Total de horas de trabalho: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>totalWorkHours<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> horas</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Erro ao calcular as horas de trabalho:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Basicamente é isso, mas já que estamos aqui, por que não extrair mais algumas informações? Não que saber o total de horas não seja suficiente, mas agora quero saber quanto tempo, em média, estou, uh, “desperdiçando”, quero dizer, tendo algum tempo de qualidade com meu laptop.</p>\n<p>Vamos adicionar esse cálculo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> commits <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Nenhum commit encontrado neste repositório.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">let</span> totalWorkTime <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">let</span> currentCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> maxInterval <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3 horas em milissegundos</span>\r\n\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> commits<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> nextCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> currentCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> nextCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>nextCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>currentCommitTime <span class=\"token operator\">-</span> nextCommitTime<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> maxInterval<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                totalWorkTime <span class=\"token operator\">+=</span> currentCommitTime <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                currentCommit <span class=\"token operator\">=</span> nextCommit<span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        totalWorkTime <span class=\"token operator\">+=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> totalWorkHours <span class=\"token operator\">=</span> totalWorkTime <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> firstCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> lastCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> totalDays <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>lastCommitTime <span class=\"token operator\">-</span> firstCommitTime<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> averageHoursPerDay <span class=\"token operator\">=</span> totalWorkHours <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">;</span>\r\n\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Total de horas de trabalho: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>totalWorkHours<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> horas</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Média de horas por dia: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>averageHoursPerDay<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> horas</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Erro ao calcular as horas de trabalho:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"vamos-colocar-em-pratica\" style=\"position:relative;\"><a href=\"#vamos-colocar-em-pratica\" aria-label=\"vamos colocar em pratica permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vamos colocar em prática</h2>\n<p>Depois de rodar esse script no meu último projeto pessoal, que talvez eu escreva um post sobre em breve, recebi o seguinte resultado:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">node</span> scripts/calculateWorkHours.js \r\nTotal de horas de trabalho: <span class=\"token number\">98.77</span> horas\r\nMédia de horas por dia: <span class=\"token number\">3.74</span> horas</code></pre></div>\n<p>PERA AI, WHAT?? 98,77 horas? Isso é quase 100 horas gastas em um projeto pessoal em um mês. E 3,74 horas por dia? Quero dizer, eu sabia que estava gastando muito tempo nos meus projetos pessoais, mas ver esses números foi realmente um choque.</p>\n<p>Se as pessoas me perguntarem, eu digo que sou uma pessoa bastante ativa, afinal faço saltos ornamentais 3 vezes por semana, totalizando 4 horas por semana, além das sessões de academia, que somam cerca de 6 horas por semana. Então, sim, um total de 10 horas por semana, ou 1,42 horas por dia, nem perto das 3,74 horas por dia que estou gastando nos meus projetos pessoais. Punk!</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.171875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHUlEQVQozwXB2XKaUAAAUD6hnaTGqAQXDBExUTZFtntBRCKybwJK1ESzzLRvnT71A/rVPQcJjFlqiTtbOrjqwVWqjfziqpWj5pa4W8sHD3xsXW2qgjHP4iOVnvGDCdHqEc1evvYQU2YDS01tfeuaqbPcOnpiw+J5fvTUS6T/LM3PIpsOWX7IEHcE2e4TGNGuo82rZumGiCXRnj7zIRvqs/TZeM2zY7I5h6tzoB7d2d+v3fu2GOMP4/4jVsfublACIzq3d71G1xAUJIBMqLEhZBLI5AuuXANbB5YopVB628B/f37z5Ai7aZHdYe17rV1Hhx2y+aOOt7p4C0cCQCc6lxjT3BQKU9hbQmyKGjeWyAG8Rdejp+lgMKUGfbTbuL7p1NFOA699u25c1aYUhQQqnUAmUsYZpPcmV9li5ajVRkyBAPCBNBxBhg2XamTwB3ceaBxH9vtofUK0y/UciSGbGXwG6dJg9iv66MpHV3pPQKhrc4q35hNT5ucsw5NdRxm/J9pnqr2FyiVSD84cidVJApmjo5xc8bgRzjE8h/LXVj8H2sEBn4nyq1xdYi23JZV7MgQmWYmHcFF6YO/ISCw/RjKVLZ5ebObFYU/+7BTMTv70LRIusXCOpK9Cf83BPtUTB3jPkibTBuB8G+yiJZJrdKZRkY7FS6xwHip/mLv3uXOfWnixISv/sfQo3yLXy66p4QvQWxk9oHSWOul7+n989pj+LrbIxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"decepcionado mas não surpreso\"\n        title=\"decepcionado mas não surpreso\"\n        src=\"/static/342ed021e5dea82ee6c67621bde3a959/42a19/perfectly-balanced.png\"\n        srcset=\"/static/342ed021e5dea82ee6c67621bde3a959/e3135/perfectly-balanced.png 256w,\n/static/342ed021e5dea82ee6c67621bde3a959/06341/perfectly-balanced.png 512w,\n/static/342ed021e5dea82ee6c67621bde3a959/42a19/perfectly-balanced.png 1024w,\n/static/342ed021e5dea82ee6c67621bde3a959/6ee55/perfectly-balanced.png 1496w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">decepcionado mas não surpreso</figcaption>\n  </figure></p>\n<h2 id=\"coisas-a-se-considerar\" style=\"position:relative;\"><a href=\"#coisas-a-se-considerar\" aria-label=\"coisas a se considerar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Coisas a se considerar</h2>\n<p>Embora este script seja bem simples, há algumas coisas a se considerar:</p>\n<ul>\n<li><strong>Pressuposições sobre pausas</strong>: Ele assume que qualquer período superior a 3 horas entre commits é uma pausa. Isso pode nem sempre ser verdade, mas é uma aproximação boa o suficiente.</li>\n<li><strong>Hábitos de commit</strong>: Se você é alguém que se esquece de fazer commits frequentemente, a precisão do script cai consideravelmente.</li>\n<li><strong>Diferenças de fuso horário</strong>: Commits feitos em fusos horários diferentes podem atrapalhar os cálculos.</li>\n<li><strong>Descobrir quanto tempo você realmente está desperdiçando</strong>: Esse ponto é um pouco subjetivo, eu acho, mas no meu caso, mermão, eu não estava pronto para esse número.</li>\n</ul>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Escrever este script foi tanto esclarecedor quanto horripilante. Agora tenho provas concretas do absurdo número de horas que gasto em meus projetos pessoais. Se você for curioso (ou louco) o suficiente para ”<a href=\"https://git-scm.com/docs/git-bisect\" target=\"_blank\" rel=\"noreferrer\">bisectar</a>” seus hábitos de programação, pode ser um exercício bastante “divertido”.</p>\n<p>E lembre-se, embora acompanhar sua produtividade seja ótimo, às vezes a ignorância é uma bênção. Porque, depois de ver minhas horas totais, só queria me encolher e zerar alguns dos jogos do meu backlog para compensar todo esse tempo livre perdido.</p>\n<p>Bom, e é isso, pessoal, espero que vocês tenham gostado deste post e vejo vocês no próximo!</p>","fields":{"slug":"/2024/2024-06-16-calculando-minhas-horas-de-trabalho-em-projetos-pessoais-usando-nodejs.pt-br/","path":"/blog/coding/calculando-minhas-horas-de-trabalho-em-projetos-pessoais-usando-nodejs/","locale":"pt-br"},"readingTime":{"minutes":5.435},"frontmatter":{"date":"2024-06-16T00:00:00.000Z","title":"Calculando minhas horas de trabalho em projetos pessoais usando Node.js","categories":["coding"]}}},{"node":{"excerpt":"Navegar pelas complexidades do mangá como um leitor…","html":"<p>Navegar pelas complexidades do mangá como um leitor ocidental pode ser comparável a depurar código assembly: frustrante e com um alto risco de errar completamente. Mas não tema, meus companheiros desajustados de mangá! Com uma pitada de código Python e uma boa dose de habilidade em programação, criei um script magistral para adaptar as páginas de mangá para o consumo ocidental.</p>\n<p>Então, se você é meio preguiçoso, como eu, este script é para você.</p>\n<p><strong>Aviso:</strong> Este projeto é uma exploração divertida no processamento de imagens com Python. Não tem a intenção de depreciar a experiência tradicional de mangá, mas sim oferecer uma alternativa para aqueles que possam ter dificuldades com ela.</p>\n<h2 id=\"mas-por-que\" style=\"position:relative;\"><a href=\"#mas-por-que\" aria-label=\"mas por que permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mas… por quê?</h2>\n<p>Como um fã colossal de Dragon Ball, esperar pela nova temporada de “Dragon Ball Super” tem se sentido como uma tarefa impossível, mesmo já tendo esperado por sete anos. Com a nova temporada ainda sem confirmação de que vai acontecer, e Dragon Ball Daima logo ali, minha única alternativa para finalmente descobrir quem é Moro foi o mangá. No entanto, o formato tradicional do mangá, lido da direita para a esquerda, destrói completamente meu cérebro de macaco (talvez com algumas tendências disléxicas) e hábitos de leitura ocidentais.</p>\n<h2 id=\"este-projeto-foss-e-apresentado-por\" style=\"position:relative;\"><a href=\"#este-projeto-foss-e-apresentado-por\" aria-label=\"este projeto foss e apresentado por permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Este projeto FOSS é apresentado por</h2>\n<h3 id=\"easyocr\" style=\"position:relative;\"><a href=\"#easyocr\" aria-label=\"easyocr permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>easyOCR</h3>\n<p>Vamos reservar um momento para cantar os louvores do <code class=\"language-text\">easyOCR</code>, o herói deste projeto. Ele não apenas lê texto de imagens — ele fornece as coordenadas precisas (x, y) junto com largura e altura.</p>\n<p>Isso é crucial porque, em nosso script, saber onde o texto está localizado é o primeiro passo no processo mágico de virá-lo corretamente, e a maioria das ferramentas de OCR não oferece esse nível de detalhe. Com essa informação, podemos espelhar a imagem mantendo o texto no lugar certo, para que seja lido da esquerda para a direita.</p>\n<p>Você pode ler mais sobre o <code class=\"language-text\">easyOCR</code> <a href=\"https://github.com/JaidedAI/EasyOCR\" target=\"_blank\" rel=\"noreferrer\">aqui</a>.</p>\n<h3 id=\"chatgpt\" style=\"position:relative;\"><a href=\"#chatgpt\" aria-label=\"chatgpt permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ChatGPT</h3>\n<p>ChatGPT é como aquele amigo que insiste em ler as instruções quando você só quer montar os móveis e ver o que acontece.</p>\n<p>Foi ótimo trabalhar com o <code class=\"language-text\">easyOCR</code> e o <code class=\"language-text\">PIL</code> para ler os dados e manipular as imagens, mas quando chegou a hora de virar o texto para a posição correta, eu precisei de um pouco mais de ajuda.</p>\n<p>Além disso, coisas como fazer o script funcionar com diferentes parâmetros da linha de comando e escrever o arquivo README.md, o ChatGPT estava lá para me ajudar.</p>\n<p>Bem, na verdade para o arquivo README.md, eu apenas usei o Copilot, já que ele tinha o contexto completo do código e do projeto. Mas eu acho que dá no mesmo, né?</p>\n<h3 id=\"a-arte-da-procrastinacao\" style=\"position:relative;\"><a href=\"#a-arte-da-procrastinacao\" aria-label=\"a arte da procrastinacao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A arte da procrastinação</h3>\n<p>Eu poderia ter gastado meu tempo aprendendo a ler mangá do modo tradicional, mas onde está a diversão nisso? Em vez disso, decidi criar um script Python que fizesse o trabalho pesado por mim. E assim nasceu o <a href=\"https://github.com/blopa/manga-converter\" target=\"_blank\" rel=\"noreferrer\">Manga to Comics Converter</a>.</p>\n<h2 id=\"o-espelho-magico-\" style=\"position:relative;\"><a href=\"#o-espelho-magico-\" aria-label=\"o espelho magico  permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O Espelho Mágico ✨</h2>\n<p>Ok, mas como podemos fazer isso sem ter que redesenhar toda a página do mangá? Vamos realmente contratar alguém no Fiverr para fazer isso por nós? Não, não vamos. Vamos usar Python.</p>\n<p>Imagine espelhar uma página de mangá de uma maneira que não faça seu cérebro doer. É isso que estamos fazendo aqui.</p>\n<p>Viramos toda a imagem horizontalmente, mas reposicionamos cuidadosamente o texto, para que ele seja lido da esquerda para a direita, assim como um quadrinho ocidental. É um pouco como um livro de adesivos, onde você pode descolar o texto, usar Python para virar a página horizontalmente e colá-lo de volta do outro lado. Era assim que funcionava antigamente, certo?</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.390625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHszbJKD//EABoQAAMAAwEAAAAAAAAAAAAAAAECAwAREjH/2gAIAQEAAQUCQDN7Po4oHorkSSvP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAgIBBQAAAAAAAAAAAAAAAAECETEDQYGRof/aAAgBAQAGPwKtxqOn2J1VjcY+jTVXkwnyf//EABoQAQEBAQADAAAAAAAAAAAAAAERACFBUZH/2gAIAQEAAT8hloL70vMvpR4QQ0CVAZoiPu7DqE6L9wkMjxc//9oADAMBAAIAAwAAABDAz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQADAQEAAwAAAAAAAAAAAAEAESExUUFhkf/aAAgBAQABPxAKHo+A4jAU9ApdPN57kBBsRyz6i8hoKRLz8gu6KLDiPrCqcpljZTTrMyf/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Um garoto colocando adesivos em um livro de adesivos, de onde emerge uma cobra Python para ajudar\"\n        title=\"Um garoto colocando adesivos em um livro de adesivos, de onde emerge uma cobra Python para ajudar\"\n        src=\"/static/d17cb3dc28424401404395a9b03cef41/63217/python-snake-stickers.jpg\"\n        srcset=\"/static/d17cb3dc28424401404395a9b03cef41/db830/python-snake-stickers.jpg 256w,\n/static/d17cb3dc28424401404395a9b03cef41/8102f/python-snake-stickers.jpg 512w,\n/static/d17cb3dc28424401404395a9b03cef41/63217/python-snake-stickers.jpg 1024w,\n/static/d17cb3dc28424401404395a9b03cef41/f2d78/python-snake-stickers.jpg 1359w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Um garoto colocando adesivos em um livro de adesivos, de onde emerge uma cobra Python para ajudar</figcaption>\n  </figure></p>\n<p>(isso é o que a DALL·E acha que a piada acima parece)</p>\n<h2 id=\"programando\" style=\"position:relative;\"><a href=\"#programando\" aria-label=\"programando permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Programando</h2>\n<p>Como mencionado anteriormente, graças ao mapeamento meticuloso de texto do <code class=\"language-text\">easyOCR</code>, podemos identificar onde os blocos de texto começam e terminam. Usamos essa informação para evitar que nosso texto se torne uma bagunça espelhada ilegível após ser virado.</p>\n<p>Então, primeiro criamos uma função chamada <code class=\"language-text\">extract_text_from_manga</code> que carrega a imagem e usa o <code class=\"language-text\">easyOCR</code> para detectar os blocos de texto e suas coordenadas, e retorna um JSON com os dados.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">extract_text_from_manga</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    reader <span class=\"token operator\">=</span> easyocr<span class=\"token punctuation\">.</span>Reader<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'en'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token builtin\">isinstance</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> Image<span class=\"token punctuation\">.</span>Image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        base_image <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">)</span>\r\n\r\n    results <span class=\"token operator\">=</span> reader<span class=\"token punctuation\">.</span>readtext<span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> detail<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n    extracted_data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n    <span class=\"token keyword\">for</span> result <span class=\"token keyword\">in</span> results<span class=\"token punctuation\">:</span>\r\n        data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">\"location\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> point <span class=\"token keyword\">in</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">\"width\"</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">\"height\"</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        extracted_data<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">return</span> json<span class=\"token punctuation\">.</span>dumps<span class=\"token punctuation\">(</span>extracted_data<span class=\"token punctuation\">,</span> ensure_ascii<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Com esses dados, agora podemos reposicionar os textos criando uma nova função, <code class=\"language-text\">create_image_with_inverted_text_placement</code>, que recebe os dados de posição do texto e cria uma nova imagem.</p>\n<p>Esta função adiciona os textos às suas respectivas posições, mas os inverte horizontalmente. Por exemplo, se um texto está originalmente posicionado em 10 em uma imagem com uma largura de 100, sua nova posição torna-se 90 devido à inversão (calculada como 100 - 10 = 90).</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">create_image_with_inverted_text_placement</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    width<span class=\"token punctuation\">,</span> height <span class=\"token operator\">=</span> base_image<span class=\"token punctuation\">.</span>size\r\n    new_image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n\r\n    data <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">for</span> index<span class=\"token punctuation\">,</span> item <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        x<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'location'</span><span class=\"token punctuation\">]</span>\r\n        box_width<span class=\"token punctuation\">,</span> box_height <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'width'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'height'</span><span class=\"token punctuation\">]</span>\r\n        <span class=\"token keyword\">if</span> box_width <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span> <span class=\"token keyword\">or</span> box_height <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">continue</span>\r\n\r\n        new_x <span class=\"token operator\">=</span> width <span class=\"token operator\">-</span> x <span class=\"token operator\">-</span> box_width\r\n        cropped_image <span class=\"token operator\">=</span> base_image<span class=\"token punctuation\">.</span>crop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> x <span class=\"token operator\">+</span> box_width<span class=\"token punctuation\">,</span> y <span class=\"token operator\">+</span> box_height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n        cropped_image <span class=\"token operator\">=</span> cropped_image<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">)</span>\r\n        new_image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>cropped_image<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>new_x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> cropped_image<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">return</span> new_image</code></pre></div>\n<p>Agora o último passo é pegar a imagem original, virá-la horizontalmente e colar a imagem transparente com os textos em cima dela. Isso é feito pela função <code class=\"language-text\">overlay_flipped_with_transparent</code>, que recebe a imagem base, a imagem transparente com o texto e o caminho para salvar a imagem de saída final.</p>\n<p>A função vira a imagem base, a converte para RGBA e então usa <code class=\"language-text\">Image.alpha_composite</code> para sobrepor a imagem virada com a imagem transparente. Por fim, ela salva a imagem de saída no caminho especificado.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">overlay_flipped_with_transparent</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> transparent_image<span class=\"token punctuation\">,</span> final_output_image_path<span class=\"token operator\">=</span><span class=\"token string\">'final_output_image.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    flipped_base_image <span class=\"token operator\">=</span> base_image<span class=\"token punctuation\">.</span>transpose<span class=\"token punctuation\">(</span>Image<span class=\"token punctuation\">.</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">if</span> transparent_image<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">!=</span> <span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">:</span>\r\n        transparent_image <span class=\"token operator\">=</span> transparent_image<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">)</span>\r\n\r\n    combined_image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>alpha_composite<span class=\"token punctuation\">(</span>flipped_base_image<span class=\"token punctuation\">,</span> transparent_image<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">if</span> final_output_image_path<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span><span class=\"token string\">'.jpg'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> final_output_image_path<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span><span class=\"token string\">'.jpeg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        combined_image <span class=\"token operator\">=</span> combined_image<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token string\">'RGB'</span><span class=\"token punctuation\">)</span>\r\n\r\n    combined_image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>final_output_image_path<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Então, juntando tudo, agora podemos extrair o texto da imagem do mangá, inverter as posições do texto e sobrepor a imagem virada com o texto na posição correta. O resultado é uma página de mangá que se lê da esquerda para a direita, assim como um quadrinho ocidental.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">do_task</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> final_output_image_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token builtin\">isinstance</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        base_image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">)</span>\r\n    extracted_text <span class=\"token operator\">=</span> extract_text_from_manga<span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">)</span>\r\n    base_image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> <span class=\"token builtin\">isinstance</span><span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">else</span> base_image\r\n    transparent_image <span class=\"token operator\">=</span> create_image_with_inverted_text_placement<span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> extracted_text<span class=\"token punctuation\">)</span>\r\n    overlay_flipped_with_transparent<span class=\"token punctuation\">(</span>base_image<span class=\"token punctuation\">,</span> transparent_image<span class=\"token punctuation\">,</span> final_output_image_path<span class=\"token punctuation\">)</span></code></pre></div>\n<p>E é isso! Claro, há mais código para lidar com diferentes cenários, como processar várias imagens ou arquivos CBR, mas a lógica principal permanece a mesma. Você pode conferir o script completo <a href=\"https://github.com/blopa/manga-converter\" target=\"_blank\" rel=\"noreferrer\">aqui</a>.</p>\n<h2 id=\"como-usar\" style=\"position:relative;\"><a href=\"#como-usar\" aria-label=\"como usar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Como usar</h2>\n<p>Para começar com o <a href=\"https://github.com/blopa/manga-converter\" target=\"_blank\" rel=\"noreferrer\">Manga to Comics Converter</a>, você primeiro precisa garantir que seu ambiente esteja configurado corretamente:</p>\n<ol>\n<li>\n<p><strong>Clone ou Baixe o Script</strong>: Obtenha uma cópia do script de nosso repositório. Se você está familiarizado com o Git, pode cloná-lo; caso contrário, basta baixar o arquivo zip e extrair para um local conveniente em seu computador.</p>\n</li>\n<li>\n<p><strong>Instale as Dependências</strong>: Abra seu terminal e navegue até o diretório do script. Instale todas as dependências necessárias executando:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> <span class=\"token parameter variable\">-r</span> requirements.txt</code></pre></div>\n</li>\n<li>\n<p><strong>Prepare seus arquivos de mangá</strong>: Certifique-se de que suas páginas de mangá estejam em um formato suportado (formatos comuns de imagem como JPG, PNG são perfeitos). Organize as páginas em um único diretório se você tiver vários arquivos.</p>\n</li>\n<li>\n<p><strong>Execute o Script</strong>: Use a linha de comando para especificar o diretório de origem e o diretório de saída. Se você não especificar um diretório de saída, o script criará um automaticamente. Veja como você pode executar o script:</p>\n<ul>\n<li>Para converter uma única página de mangá:\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">python3 script.py <span class=\"token parameter variable\">--source</span> manga_page.jpg <span class=\"token parameter variable\">--output</span> comic_folder</code></pre></div>\n</li>\n<li>Para converter várias páginas armazenadas em uma pasta:\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">python3 script.py <span class=\"token parameter variable\">--source</span> manga_folder <span class=\"token parameter variable\">--output</span> comic_folder</code></pre></div>\n</li>\n<li>Para converter um arquivo CBR:\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">python3 script.py <span class=\"token parameter variable\">--source</span> manga.cbr <span class=\"token parameter variable\">--output</span> comic_folder</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Verifique os resultados</strong>: Depois que o script terminar de processar, verifique o diretório de saída para suas novas páginas de quadrinhos transformadas.</p>\n</li>\n</ol>\n<h2 id=\"consideracoes\" style=\"position:relative;\"><a href=\"#consideracoes\" aria-label=\"consideracoes permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Considerações</h2>\n<p>Embora o <a href=\"https://github.com/blopa/manga-converter\" target=\"_blank\" rel=\"noreferrer\">Manga to Comics Converter</a> tenha como objetivo simplificar sua experiência de leitura de mangá, há alguns pontos a serem considerados:</p>\n<ul>\n<li><strong>Qualidade do Reconhecimento de Texto</strong>: A precisão da detecção de texto pode variar com base na qualidade das imagens do mangá. Imagens de alta resolução tendem a produzir melhores resultados.</li>\n<li><strong>Nuanças Culturais</strong>: A inversão das imagens às vezes pode perturbar a intenção artística original ou o fluxo da história. Certos elementos visuais destinados a estar em um lado da página podem não se traduzir bem quando espelhados.</li>\n<li><strong>Desempenho</strong>: O processamento de várias páginas de mangá ou de alta resolução pode ser intensivo computacionalmente, especialmente se você não estiver usando uma GPU.</li>\n<li><strong>Falhas Específicas</strong>: Se o texto sobrepuser elementos visuais significativos (como um “BOOOM” no meio de um desenho de personagem), a parte da imagem sob o texto será virada, o que poderia resultar em uma visualização com falha. Isso ocorre devido ao script virar a página inteira, exceto as áreas de texto.</li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 569px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 150%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGpUlEQVQ4yy2Vb0xS3x/H7+ppqzWz5eZq63mrZ9XaWvVrucJ0/rkynNrUxYP+TKUcuFx/lNQxMTWNBHRoJPmPoCQBUZTpxYFeVCDRKZB5vcDlXi4Eaqmc75Tf69F5cj7nnPfn/f4cyOfzBQIBsVj8/ft3AIDVahWJRC9fvnz//r3ZbF5eXvb7/Tab7cePHzKZbGJiQqPRfPv2ra2tjcViQX6/v+qQ4uJivV5vMpkUCkVLS0t9ff3i4mIkEgmFQj6fLxKJqA/59OkTn8+XyWQNDQ3Q3Nzc5cuXL168eP36dS6X+/HjR6FQKBKJVCqVx+OhKIogiD9//gAAzGbzw4cPeTyeVCpdX1/X6XSQVqu9dOmSRCKpr6/PzMy0WCy9vb11dXX9/f04jgeDQZIkt7a2AABqtVqhULS2tg4MDESjUalUCi0vLysUilgs5nK57t69W1NTMzk5OTs7S9M0QRAul2tlZSVx88bGxoaGhpmZmV+/fmEYNjk5CW1vb0ej0WAwuLq6yufzX79+PTIygqIoTdM/f/5EUdTr9dpstsXFxYmJCRRFHQ4HiqLDw8NNTU1QIBBYWFiYm5sLBoNqtbqurk4oFCIIQtN0OBymafrfv38YhlEURZJkLBZDEGRgYEAkEn3+/BnS6XQSiQRF0YqKCgiCJBLJ4uJid3f3ysoKOCQaja6trSXW4XB4aGhILBYbDAav1wv19vZCEHTkyJGjR49CENTY2OjxeJaXl9fW1iiKAgDQNJ0Q7O/fv+vr6xRFzc/PWywWh8MBWSyWnJycwsLCoqIiGIa1Wi2O4wRB+P1+p9OJ4zhFUUql0ul02mw2t9ttsVhMJtPU1JTb7Ya2trb29vYoivp3CHmIz+fDcZym6cRTURS12+06na6mpqaiooLD4Uil0rGxMQjDMKfT6fP5CIIIhUKRSGR7ezsUCm1sbHi93q2tLbvdLpFIfv/+bTQau7q6JBJJe3t7f39/Z2cnRBDE0tISSZJut9vj8bjd7kShQCDgcrkwDENRVC6Xc7lcHo9nMBh4PN6XL18SboEoigqFQtvb238OScgTj8dpmsZx3O/37+7uJjS/cuWKWq0uKyszGAxSqXRpaenAJPF4fH9/PxqN0jS9u7tLkmRfX19ra2tXVxeO4/F4XKPR7O/v19bWfvjwAQCAYRiXy93c3ITGxsY6OjoQBHG73QRBjIyMZGZmCgSCvr6+/v5+s9kMAMjKylKpVOPj42lpacPDwxwOZ3BwcHd3F6qsrBQKhRwOB4bhtra2wsJCJpNptVp7eno0Go1CoaAoSiAQ1NfXz8/Pv3jxQqfT2e12r9dLkiS0uroqFAqdTqdSqRQKhXK5vK+vLyMjo7u7OxwOT01Neb1evV6vUqlMJpNIJNrZ2UEQZHJycnBw8KBVbDa7vb29qampuroaABCLxZRKZVVV1dDQ0OzsrMlkWlhYWF1d7erq4nA4QqFQo9EgCPLmzRvIarU+e/YsKysrOzsbRVEMwwAAYrGYzWbzeLyEMcrKysrLyysqKp4/f56fn4/jOACAx+NB09PTMAxnZWXp9fqOjg6bzabX669evVpSUgLDcHV1dVFREZPJzM/PZ7FYRUVF6enpHR0dAID8/HzIaDReu3aNwWA8ePDgwoULIpGIyWTevHmTwWDcuHGDy+Xeu3fv1q1bt2/f/t8hd+7cYTAYb9++ZTAYkEqlOnbsWHJy8okTJ1JTU0+fPn3u3LnU1NSkpKTjx4+XlJScP3/+5MmTycnJSUlJycnJp06dOnPmTEpKytmzZyGz2ZyRkQHDcF5eXk5OTl5eXnZ2NpPJLC0tLS4uFggEBQUFOTk5TCaTxWLBMJybmwvDMIvFys3NPUhVAp/Pl0hYLBaz2Wzl5eWPHz+urKzEMGxzc9Nms6EoGgwGI5FIOByOx+MAACiRAb/fbzKZEpPN4XB0dnaWlpaWl5enpKQgCKJQKBobG7VaLYqiHo+HIIidnZ14PA6RJLmxsdHT02MwGMbHx+fn52dmZlZWVsbHxwEAzc3NT548qaysZLPZX79+nZqamp2dtdvte3t7BydHIpFAIMDj8dhstkAgmJmZGRkZ2dnZWVhYePfuXXp6+qtXr0pKSjgcjkwmm5ubk8vlCIIkRtrBd4Oi6PT09KNHj/h8/ujoqFqtTrQxLS1tbGzM6XRKJJKnT5/K5XKr1SoWi00m0/83b25uqtVqu93e0tLC4XCam5s7OztJkqytrTUajZmZmffv3zcYDDKZrKCgQCwWK5XK0dHRhGD/AWVownytEmZHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"página de mangá com falha\"\n        title=\"página de mangá com falha\"\n        src=\"/static/f70dec21cf63a8d87241917f2b71a8ea/7ca0c/glitched-manga-page.png\"\n        srcset=\"/static/f70dec21cf63a8d87241917f2b71a8ea/e3135/glitched-manga-page.png 256w,\n/static/f70dec21cf63a8d87241917f2b71a8ea/06341/glitched-manga-page.png 512w,\n/static/f70dec21cf63a8d87241917f2b71a8ea/7ca0c/glitched-manga-page.png 569w\"\n        sizes=\"(max-width: 569px) 100vw, 569px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">página de mangá com falha</figcaption>\n  </figure></p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Nós construímos uma ponte entre Oriente e Ocidente com algumas linhas de Python, transformando mangás de leitura da direita para a esquerda em quadrinhos de leitura da esquerda para a direita. Agora, você pode desfrutar de “Dragon Ball Super” sem sentir que está lendo um livro em um espelho.</p>","fields":{"slug":"/2024/2024-05-01-transformando-paginas-de-manga-para-leitores-ocidentais-preguicosos.pt-br/","path":"/blog/coding/transformando-paginas-de-manga-para-leitores-ocidentais-preguicosos/","locale":"pt-br"},"readingTime":{"minutes":7.845},"frontmatter":{"date":"2024-05-01T00:00:00.000Z","title":"Transformando páginas de mangá para leitores ocidentais preguiçosos","categories":["coding"]}}},{"node":{"excerpt":"Após criar um script Node.js para postar automaticamente…","html":"<p>Após criar um script Node.js para <a href=\"/pt-br/blog/coding/publicando-reels-no-instagram-usando-nodejs-e-a-arte-de-superar-limitacoes/\">postar automaticamente Reels no Instagram</a> e outro para <a href=\"/pt-br/blog/coding/como-criar-thumbnails-para-seus-videos-automaticamente-com-nodejs/\">gerar automaticamente miniaturas para Reels no Instagram</a>, o que vem a seguir? Gerar automaticamente o conteúdo do vídeo, claro!</p>\n<p>Neste post, vou mostrar como usar o GPT-3.5 da OpenAI para gerar o conteúdo de um vídeo tutorial de programação. Vou usar o mesmo script Node.js que usei nos posts anteriores, além de um <code class=\"language-text\">create-react-app</code> que será usado para digitar o código do tutorial gerado.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADKElEQVQozwXBWUzTBwDA4T+DcTnAEKAUWqUDWi5rAaFgBbMqZ01bYAhylk5aOZxU1kKhwEBhKIhYFDBgZIBAq5I5QAScWyRbsiW7spctZG9L9uLDkmXJnvbb9wlRUg1yWTpnM3OxX+7gxfYcvxy8xLt0n5qCCyi1TRwpNnG0uhVphZUjla2IKqxElF0iUn+JaIMFsd5CUEox/qIchFiZlix5Nm3nythxD/L3gRf++5G/DnZxj6+i7VsnzrGGpGsVyexLRJ4fiNv4lXj7BKHv1RKibye0yk6wugr/2HwEkUyLIimbkpJyrg1e5+fvHvHmjx02th/TbhtA23iFQ6dbEDm8FP0Dx/+FuDcQ2zvLO7UODrseIH/4JWEV3fjF5COEywqRHTtNhs5EUccI888esPX9Fs2L65yq/xCxsYfUvmWy7j4j+dE+0Ss/IXvxG0enPCTOrJKz8ZrEtdeEVfbiKz2LECY3ID6hJ73OTp5zEuvdSQY+W6Hy08/JsjpJndxB3uUhvcSCkFTDsYZ7qKdf8e7aLineTdS736Dc3Ceq8RqCzIgQmFqNuKiFAtcw6v5bGO7MYb4ziXFqCcnt31E+/xPZ4rdIbA8JufqU8Cvr5I1tUrj8hLTlFRSLXtK924ibbyIoGhCEjDbiG7spuH4LVb8b2+MVdENuDB+PYVjYI9bUR8r0GrnrX5C79QqV52skM/uY51fRjI4jd1zl5JCLGPM4gsqGEJDRQHjpZTRj81i8HipnF4g03eCMzUW1s5MAZT7Fjh4uToxiGujAPPIRF929WEd7aOw2k1RVTnzNeSKrBxHU/QiBqgZ8dG5iHEsoemeIsN4ktGkYqbGdpGYXhzM1pL1vIt95D/86D4JugZP229RP9JGgKySksJwIQwVB+j6EU8MIvqpWgnVu/BLOEJGsISL3HGH1nYiNzeS02Ui0ucg0WZDqaznR1ImvsoK0Fgel07NElpbhc95EQJ0ZP50TIbMHwVdxAf8sC28n5BF0XEuw/gMktiGSu8ZQLT4n/pNpsm9MIfPuod37iui5ZaJGp4gdneOQsQn/FieBI/d5q2wQH3kr/wMcxNdOxLj/fAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AI trabalhando\"\n        title=\"AI trabalhando\"\n        src=\"/static/cdcc77b7fb8d6bdf43386ce698ba2c79/42a19/auto-generating-tutorials.png\"\n        srcset=\"/static/cdcc77b7fb8d6bdf43386ce698ba2c79/e3135/auto-generating-tutorials.png 256w,\n/static/cdcc77b7fb8d6bdf43386ce698ba2c79/06341/auto-generating-tutorials.png 512w,\n/static/cdcc77b7fb8d6bdf43386ce698ba2c79/42a19/auto-generating-tutorials.png 1024w,\n/static/cdcc77b7fb8d6bdf43386ce698ba2c79/e8464/auto-generating-tutorials.png 1536w,\n/static/cdcc77b7fb8d6bdf43386ce698ba2c79/445c6/auto-generating-tutorials.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">AI trabalhando</figcaption>\n  </figure></p>\n<h2 id=\"engenharia-de-prompts\" style=\"position:relative;\"><a href=\"#engenharia-de-prompts\" aria-label=\"engenharia de prompts permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Engenharia de prompts</h2>\n<p>A primeira pergunta que tive que me fazer foi: como posso pedir ao GPT-3.5 para gerar um tutorial de programação? Quero dizer, não posso simplesmente pedir para ele gerar um tutorial de programação, certo? Preciso dar um contexto, alguma informação, algo com que ele possa trabalhar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.203125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVQoz4WSaY6cMBCF+xg9wwyLjfcFGwxmb6DpZZLc/zwJTdKKlIxGerL8431Vr8o+DNN5udz7cZmW63r7hoiAmBGuEZVhgo5B9Pqe/KtjEAHEDnU3jtPaDXPTncZ5VaYo665q+rxsirIJE/TyFn8KA8Qo1ynhEHMqNEgpFRlmCmKOqAxCcAyip17fkyAEQQhe3uINJlzlZZ3llTJO29I6L3Se5ZXznSkq59u8bKzzvh1M4bmyEG9tkpQyaQ6Yyp0UympbKuMI1zsvs0IZpx7nw1MgKiOAY0hCgDeYSWNdra1j0mR5tZUwrqp7ZQrrvPOtzAqu7N7A+c75zjqvjKMiOwht5/V2uf9wVdsO83S+LZf7OF/60+Kqdlquw7TW3bjevp+vH0132uI8ym2dk5QhqriyKREpEUwaJu2eHFGJmaIioyLjygqdE6ZiSJKURntsKrKq6bV1Zd0X1RYySWmS0t30vO9KUgoQA4jFkGwwxHz/EoTr/YX+Nn2m37DQth2mP5uou3Eb27o6huRrGCCGmcJUIiIQEeQxJCLimfm/iiH5te2fhep7nFSF4lsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"O futuro está aqui\"\n        title=\"O futuro está aqui\"\n        src=\"/static/f74dd4bc90e600f64b196b06fb41b1db/42a19/programming-2050.png\"\n        srcset=\"/static/f74dd4bc90e600f64b196b06fb41b1db/e3135/programming-2050.png 256w,\n/static/f74dd4bc90e600f64b196b06fb41b1db/06341/programming-2050.png 512w,\n/static/f74dd4bc90e600f64b196b06fb41b1db/42a19/programming-2050.png 1024w,\n/static/f74dd4bc90e600f64b196b06fb41b1db/69083/programming-2050.png 1158w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">O futuro está aqui</figcaption>\n  </figure></p>\n<p>Nesta nova era de trabalhar com modelos de linguagem, é estranho que, se você quer que o modelo faça algo, você só precisa pedir. Então, comecei criando uma lista de coisas que eu queria que estivessem no vídeo, como:</p>\n<ul>\n<li>Um título</li>\n<li>Uma descrição</li>\n<li>O próprio código</li>\n<li>Uma lista de ideias que já usei antes</li>\n<li>Uma lista de coisas a evitar</li>\n</ul>\n<p>E então comecei a pensar em como eu poderia usar essa informação para pedir ao GPT-3.5 para gerar um tutorial de programação. Cheguei ao seguinte prompt:</p>\n<blockquote>\n<p>Respire fundo, relaxe e pense analiticamente sobre o problema que está tentando resolver.\r\nTenho um arquivo JSON para um script de um tutorial de programação em vídeo para Reels no Instagram, que se parece com isto:\r\n&#x3C;EXEMPLO_JSON_AQUI>\r\nPor favor, use este modelo para gerar um novo script para um tutorial de programação em vídeo para Reels no Instagram.\r\nEvite usar as seguintes ideias:\r\n&#x3C;IDEIAS_UTILIZADAS>\r\nE evite os seguintes tópicos:\r\n&#x3C;TÓPICOS_A_EVITAR>\r\nCertifique-se de responder apenas com um arquivo JSON com a mesma estrutura do que eu te dei e nada mais.</p>\n</blockquote>\n<p>Após elaborar este prompt, testei-o algumas vezes no ChatGPT, e parecia bom, mas como esperado, às vezes a saída não era um formato JSON válido, e foi então que aprendi sobre <a href=\"https://openai.com/blog/function-calling-and-other-api-updates\" target=\"_blank\" rel=\"noreferrer\">chamadas de função</a>.</p>\n<h2 id=\"function-calling\" style=\"position:relative;\"><a href=\"#function-calling\" aria-label=\"function calling permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Function calling</h2>\n<p>Chamadas de função são uma nova funcionalidade da API da OpenAI que permite chamar uma função a partir do prompt, e isso ajuda a garantir que a saída do GPT seja o que você espera.</p>\n<p>No meu caso, criei uma função chamada <code class=\"language-text\">generateTutorialViaOpenAi</code> que recebe o arquivo JSON com o script para o vídeo e retorna um novo arquivo JSON com o script para o vídeo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> OpenAI <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'openai'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> openai <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OpenAI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">apiKey</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">OPENAI_API_KEY</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateTutorialViaOpenAi</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">prompt</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> schema <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'object'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">required</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'commands'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'files'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'description'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">properties</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A nice and catchy description for the tutorial.'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">commands</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A string with the code and commands to use for the tutorial. It must not be empty.'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">files</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'array'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'The list of files that are going to be used in the tutorial. One of them MUST be index.html'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">items</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'object'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'A file that is going to be used in the tutorial'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">required</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token literal-property property\">properties</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n              <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'The name of the file'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n              <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'The content of the file. Should be empty for the file that is going to be typed from the script.'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> reelsCommands <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> openai<span class=\"token punctuation\">.</span>chat<span class=\"token punctuation\">.</span>completions<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">model</span><span class=\"token operator\">:</span> <span class=\"token string\">'gpt-3.5-turbo'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">messages</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">role</span><span class=\"token operator\">:</span> <span class=\"token string\">'system'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> <span class=\"token string\">'You are a helpful programming professor.'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">role</span><span class=\"token operator\">:</span> <span class=\"token string\">'user'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> prompt <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">functions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'generate_tutorial'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">parameters</span><span class=\"token operator\">:</span> schema <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">function_call</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'generate_tutorial'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> reelsCommands<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Como você pode ver, o objeto <code class=\"language-text\">schema</code> é a chave aqui, garantindo que a saída do GPT seja o que eu espero.</p>\n<h2 id=\"gerando-o-video\" style=\"position:relative;\"><a href=\"#gerando-o-video\" aria-label=\"gerando o video permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gerando o vídeo</h2>\n<p>Agora que tenho um arquivo JSON gerado sob demanda pela OpenAI, preciso de alguma forma convertê-lo em um vídeo, e é aqui que o script Puppeteer.js entra em cena.</p>\n<p>Não vou entrar em muitos detalhes aqui porque esta é, na verdade, a parte mais complexa, e merece seu próprio post um dia, mas em resumo, estou usando Puppeteer.js para abrir um navegador Chrome sem cabeçalho, carregar um aplicativo React, e usando <a href=\"https://www.npmjs.com/package/react-ace\" target=\"_blank\" rel=\"noreferrer\">react-ace</a> para o destaque de código, então com Puppeteer.js estou digitando o código e tirando uma captura de tela da página e salvando-a como um arquivo PNG usando o <a href=\"https://chromedevtools.github.io/devtools-protocol/tot/Page/#event-screencastFrame\" target=\"_blank\" rel=\"noreferrer\">‘Page.screencastFrame’</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> allFrames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>page<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">pages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">createCDPSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nclient<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Page.screencastFrame'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> sessionId <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">await</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Page.screencastFrameAck'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> sessionId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  allFrames<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Depois disso, estou usando <a href=\"https://ffmpeg.org/\" target=\"_blank\" rel=\"noreferrer\">ffmpeg</a> para converter os arquivos PNG em um vídeo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> ffmpeg <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fluent-ffmpeg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> ffmpegPath <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ffmpeg-static'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> ffprobe <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ffprobe-static'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nffmpeg<span class=\"token punctuation\">.</span><span class=\"token function\">setFfmpegPath</span><span class=\"token punctuation\">(</span>ffmpegPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nffmpeg<span class=\"token punctuation\">.</span><span class=\"token function\">setFfprobePath</span><span class=\"token punctuation\">(</span>ffprobe<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">createVideoFromFrames</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>\r\n  <span class=\"token parameter\">fps<span class=\"token punctuation\">,</span>\r\n  frames<span class=\"token punctuation\">,</span>\r\n  outputPath</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> tempOutput <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>outputPath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.temp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">ffmpeg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">input</span><span class=\"token punctuation\">(</span>frames<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">inputFPS</span><span class=\"token punctuation\">(</span>fps<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">toFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mp4'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">videoCodec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'libx264'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">videoBitrate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'5000k'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addOption</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-crf'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'23'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addOption</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-g'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'30'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addOption</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-profile:v'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'high'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addOption</span><span class=\"token punctuation\">(</span><span class=\"token string\">'-level'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'4.0'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> resolve<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>tempOutput<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">ffmpeg</span><span class=\"token punctuation\">(</span>tempOutput<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">fps</span><span class=\"token punctuation\">(</span><span class=\"token constant\">FPS</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> resolve<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span>outputPath<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"juntando-tudo\" style=\"position:relative;\"><a href=\"#juntando-tudo\" aria-label=\"juntando tudo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Juntando tudo</h2>\n<p>Agora que tenho todas as peças, só preciso uni-las. Criei um novo script Node.js que irá:</p>\n<ul>\n<li>Gerar um novo arquivo JSON com o script para o vídeo</li>\n<li>Gerar um novo vídeo com o script para o vídeo</li>\n<li>Gerar uma nova miniatura para o vídeo</li>\n<li>Postar o vídeo no Instagram Reels</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> generateTutorialViaOpenAi <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./generate-tutorial-via-openai'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> generateImageForPost <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./generate-image-for-post'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> generateVideoForPost <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./generate-video-for-post'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> postVideoToInstagramReels <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./post-video-to-instagram-reels'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> prompt <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./prompt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateTutorial</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> reelsCommands <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">generateTutorialViaOpenAi</span><span class=\"token punctuation\">(</span>prompt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> description<span class=\"token punctuation\">,</span> commands<span class=\"token punctuation\">,</span> files <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> reelsCommands<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>choices<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> outputPath <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./output/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> thumbnailPath <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>outputPath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/thumbnail.png</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> videoPath <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>outputPath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/video.mp4</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> <span class=\"token function\">generateImageForPost</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token string\">'./assets/background.png'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'./assets/foreground.png'</span><span class=\"token punctuation\">,</span>\r\n    description<span class=\"token punctuation\">,</span>\r\n    thumbnailPath\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> <span class=\"token function\">generateVideoForPost</span><span class=\"token punctuation\">(</span>commands<span class=\"token punctuation\">,</span> files<span class=\"token punctuation\">,</span> videoPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> <span class=\"token function\">postVideoToInstagramReels</span><span class=\"token punctuation\">(</span>description<span class=\"token punctuation\">,</span> videoPath<span class=\"token punctuation\">,</span> thumbnailPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">generateTutorial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>O código real que estou usando é um pouco mais complexo, mas essa é a ideia geral.</p>\n<h2 id=\"prova-de-conceito\" style=\"position:relative;\"><a href=\"#prova-de-conceito\" aria-label=\"prova de conceito permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prova de conceito</h2>\n<p>Claro que depois de fazer todo esse trabalho, eu tinha que testá-lo, então criei uma <a href=\"https://www.instagram.com/anchorarray/\" target=\"_blank\" rel=\"noreferrer\">nova conta no Instagram</a> que postará um novo tutorial todos os dias, e sempre evitará ideias e tópicos existentes, bem, pelo menos em teoria…</p>\n<p><div class=\"instagram-embed\"><iframe src=\"https://instagram.com/p/C1OpOUzsfwd/embed\" frameborder=\"0\" allowfullscreen scrolling=\"no\" allowtransparency width=\"400\" height=\"400\"></iframe></div></p>\n<p>… mas a realidade acabou sendo que os tutoriais gerados não são tão bons, e não tenho certeza se é devido ao prompt que estou usando, ou devido ao próprio modelo, mas tenho certeza que é uma combinação de ambos. Por alguma razão, ele continua gerando os mesmos tutoriais, sempre relacionados a colorir coisas usando CSS.</p>\n<p>Estive executando esta conta por 3 meses agora, e ela obteve apenas 38 seguidores até hoje e alcançou 466 contas nos últimos 30 dias, então não tenho certeza se vale a pena continuar com ela, mesmo que seja totalmente automatizada e o custo total até agora foi de apenas U$1.00.</p>\n<p>Acho que a melhor abordagem aqui é uma híbrida, onde gero meus próprios scripts e uso meu código Node.js para gerar o vídeo e postá-lo no Instagram Reels, o que já automatiza muito do trabalho.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Estou realmente animado com esta nova era de trabalho com modelos de linguagem. Tenho certeza de que veremos muitas coisas legais sendo criadas nos próximos anos.</p>\n<p>Mesmo que este projeto não tenha funcionado como esperado, aprendi muito sobre a API da OpenAI e como usá-la, e tenho certeza de que a usarei no futuro.</p>\n<p>Espero que tenham gostado deste post, e não se esqueçam de conferir como <a href=\"/pt-br/blog/coding/publicando-reels-no-instagram-usando-nodejs-e-a-arte-de-superar-limitacoes/\">postar automaticamente Reels no Instagram usando Node.js</a> e <a href=\"/pt-br/blog/coding/como-criar-thumbnails-para-seus-videos-automaticamente-com-nodejs/\">como gerar automaticamente miniaturas para seus vídeos com Node.js</a>.</p>","fields":{"slug":"/2023/2023-12-20-como-automatizar-a-criacao-de-instagram-reels-usando-gpt-da-openai.pt-br/","path":"/blog/coding/como-automatizar-a-criacao-de-instagram-reels-usando-gpt-da-openai/","locale":"pt-br"},"readingTime":{"minutes":6.46},"frontmatter":{"date":"2023-12-20T00:00:00.000Z","title":"Como automatizar a criação de Instagram Reels usando GPT da OpenAI","categories":["coding"]}}},{"node":{"excerpt":"Apenas na semana passada eu postei sobre como fazer upload…","html":"<p>Apenas na semana passada eu postei sobre <a href=\"/pt-br/blog/coding/publicando-reels-no-instagram-usando-nodejs-e-a-arte-de-superar-limitacoes/\">como fazer upload de Reels para o Instagram usando Node.js</a>, e no código era possível fazer upload de um thumbnail para o vídeo também, mas eu não expliquei como criar esse thumbnail.</p>\n<p>I mean, claro que você pode ir para no <a href=\"https://www.photopea.com/\" target=\"_blank\" rel=\"noreferrer\">Photopea</a> e criar um thumbnail para o seu vídeo, mas e se você quiser automatizar esse processo? E se você quiser criar um thumbnail diferente para todos os seus vídeos automaticamente?</p>\n<p>Bem, é isso que eu vou te mostrar hoje.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACdklEQVQozxXQu27TUACA4RPbcXx8ObaPj+9O7DiXNiRNUqcpzQXVtEFtgBZISUsZ6JWFAaR2oEUVEoKyMQALQkgIgZB4AAYkZgpvgMTEBhti7QDqv3/LDzJyTlOxJkhIwgwvMgJKESNFdK1ey9QaaKIjFcdhJqsJrqd4rkZUETEMTVMnAdkPHC9r6cSUtRTkoJOG/bly3F3vnFmNop34fK/Y5KImKtctwyI2EXgOQi7FJk+wK+YDbcTHPuZlybGMVie8Opg+1azLwXRQXa1EIs3xVoEMh07UUlSDRwqEMEFRAAAQ4BFH8TCUpSSHwtC4NH86OxH5uYtxayxXmBqvtJsNjPJm7zKOY8XIknToYEfhcZJlgeNWMG9CSpQoQRovkelOGYdPb20cf3/769vL4x/vv757OOpNpsbG8EzbhJjnOchBHvI8zwPbCV3X1kQNcaLcLHNxA7BMvzKIq93Pzw9uLsz368u+kgOjWXu2l04XdFOj6QSgAM3QILRyGYOwKTYBgJDzxZV+M2rcXdvffnz45+j1kxeHd+4/W47OWutLdq2mY8siro5MldWSVBIUUclNZpBiasTl83lpZeHKcOPD7Z1/vz9+ebD/9+jNz0+vds+tlW4MFN/VdUMUDVkwECtTgAIuDhRT51VMVMUqBnh+1tvf6PbOHizObcUze4ML16e6+c1luz1t2CWVOFDioAQTicTJbZR1FN3UkYNVJBGN1CfNa4tgb8mz9dnqaMv3wUwV3Vs3i/WQ8wuGZxNTEmU2xdJJBmRRwU55FrKwqqgKQpYRxl3t0ZbT7gMARMHUdjfR9tAOqg7x1EA3DWJgRUEiQzP/AerQaSbt1hVqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Ilustração\"\n        title=\"Ilustração\"\n        src=\"/static/f8272dae5fedf81e3304107e04988bdb/42a19/instagram-reels-thumbnail-illustration.png\"\n        srcset=\"/static/f8272dae5fedf81e3304107e04988bdb/e3135/instagram-reels-thumbnail-illustration.png 256w,\n/static/f8272dae5fedf81e3304107e04988bdb/06341/instagram-reels-thumbnail-illustration.png 512w,\n/static/f8272dae5fedf81e3304107e04988bdb/42a19/instagram-reels-thumbnail-illustration.png 1024w,\n/static/f8272dae5fedf81e3304107e04988bdb/e8464/instagram-reels-thumbnail-illustration.png 1536w,\n/static/f8272dae5fedf81e3304107e04988bdb/445c6/instagram-reels-thumbnail-illustration.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Ilustração</figcaption>\n  </figure></p>\n<h2 id=\"encontrando-o-package-certo\" style=\"position:relative;\"><a href=\"#encontrando-o-package-certo\" aria-label=\"encontrando o package certo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Encontrando o package certo</h2>\n<p>Como um desenvolvedor frontend, a única coisa que eu sei sobre manipulação de imagens é usando canvas, e felizmente existe um package para Node.js que nos permite fazer isso, ele se chama <a href=\"https://www.npmjs.com/package/canvas\" target=\"_blank\" rel=\"noreferrer\">node-canvas</a>.</p>\n<p>Com ele, nós podemos criar um canvas, desenhar imagens, textos, formas, etc. É bem legal, dê uma olhada no exemplo abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createCanvas<span class=\"token punctuation\">,</span> loadImage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> writeFileSync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> <span class=\"token function\">createCanvas</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nctx<span class=\"token punctuation\">.</span>font <span class=\"token operator\">=</span> <span class=\"token string\">'30px Impact'</span><span class=\"token punctuation\">;</span>\r\nctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">;</span>\r\nctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello World!'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ncanvas<span class=\"token punctuation\">.</span><span class=\"token function\">toBuffer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image/png'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> buffer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./hello-world.png'</span><span class=\"token punctuation\">,</span> buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"criando-um-design\" style=\"position:relative;\"><a href=\"#criando-um-design\" aria-label=\"criando um design permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criando um design</h2>\n<p>Eu não sou um designer, então eu não vou te ensinar como criar um bom design, mas eu posso te mostrar como eu criei o design para as minhas thumbnails.</p>\n<p>Eu comecei criando um novo arquivo no Photopea com o mesmo tamanho do vídeo do Instagram Reels, que é 1080x1920px. Então eu adicionei uma imagem de fundo e um texto com o título do vídeo, e também uma cor de fundo para o texto com um pouco de opacidade.</p>\n<p>E para finalizar, eu adicionei uma imagem com fundo transparente com uma imagem minha em pixel art.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.734375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAAHoUlEQVRIxy1VWXAbWRXtYRbHlmTtliNLvbz3elN3q6VudavV2ndZtuU940kcT8ngCZnYhGBnw3bisZ0EkUwcJeCkTIVMUYGESg0MpCiYqQxkUixf+aKKml9++OCTgiq+MMjk1P295713zz3vYIackwWFZWmEIElRBEHRLOAkmKlFcqOh1AhnVrncOB8v02ZWTeaEwohQmRFqb0fKmWEsGxsaTE2lTKUxGq9UlGJBicUigsADEgASUGSHS4jQsoZiuqxGQ0lTzKYjmiJFZBkDIIhDnEIUx9GKIqRSUipjplJKY0QfqseKpVhUDLMQcCKNEAUAIHFAUEGaBgwLsSwZrhORvKAgDuFEECdIAACEkGFoUWBimiixIUVhEjUmOcSl6kyixGcSJZnXBC6MTY6bmVg4CyKqqAucyLIMQhDRAEIKQEBRACKAEIIA0TTiBaQYfFLLFfWJQXMGy+clSWYliBJSJqs00tF6NGQwkOeQiACNECBJAsdxgjgonAgM4AOBw4Hg4UBwADt82OtyWZ2enq6u151dFp9jIOBBPgfutfv9bsrttPv6Lf4Bp91ut1gsXV1dVqvVYrHarDaXy4VZrbZmc35zc+vWrfbS4tLW5pWTC0vL3zy/vra+tnbp5s2b165tX7x4ttVqnThx4sKFC5VKZWJiolAoWK1WzGazzc8319fXd3Z2isXi1NTUwnsLW9ubc3NzU1OTd+7cabdvNxqjzWZzeXl5dXV1Y2Pj3Llzuq5bLBbM6XRGIpFarRaPxzOZzMhIIx6PFwoFTdO0mFapVHK5XD6f0w/AcRxJkt3d3b29vW63G7Pb7StnVz755OcvXrzY3d29d+9eq9VaWlra29t7+PDhy5cvnz179vTp00ePHu3u7rbb7Uq12tXV5fV6O2+22+2yHJYkyTAMnuc5jpMkCcdxCGE6nVYURT1AOBw2TbNarYZCIfcBOs2BYHBza/uHDx589NGDlZXlvb0f7Oy079+/v7q2un1l+8mTJ3fv3m2321evXn38+NHW1mar1Tp16tSrazMDvqwRmxwbnZgYy2RizeZMs/nO+Hgjm83NzMzMz88fP358enp6cnJydnZ2cHBQ0zTTNB0Ox8HJ3v7lxZNrZ791aXX93MoFTY1tbFwEkLQ7HG6Pu7un+1D3IYulp6enp7u722az2e12q9XqOgDmc+EXz6+1b7dv3r5+fad1+szizZ0PxZAU6ANUgDnsC3g9Xq+3z+V2ut0uj8fjdrs9Hs+rZr+/P+AjPHbXgNNO9XsA7QsiJ4n6SSIACJwMUAEf5feQA33A4/Q5HU63y9NrtzocdrvDjtE0wcnBaCguUzHOCxQksSHW5/cFAv0A+Bk2EIvRERmqsigLLAgGBKgpbIoiAMBZrKxPGtG0GS1n1aFktJRN1FRaChN8iA/TNKJpmuOYSCQUj4dyxXAqGQ1LIVMz40qqbExhRX3MiOTSsXpcNDSVyYzxiSKdUHRTLSYSGscjkiQo6sCbEDAdoJDAJORSxZjCSvHxRKSQ04aL6aISY+PxqJkVy4WhIXPWUHIxyZBEmWFomoYdnx8UhBAhwDAsVtTHzUgpqw7n05l8XolLUZ1OlONHDMFMs7GcMVpM1SJymKRwiCiEII0g3QFCCGD1aCEeN3J6PZsxjXRUZHkJqVl1JCcmUoxQTI0V1NGMWgnzihxSOl8KAhQgKEBACDBTTuo5AUVZq83WbbNDVTUbQ1RYIfyEIcWKxnhBayTkvCHn8kZDo1idjmhyNhyK0jTCjHCp34ljX3nztdffwjCsy+mJpFN8OkPrGs8ZBWU0rwzHRDMZLSejZZ2gDU6rJo42CsfSySQm0DKGYXGy/5dnj1yeTA/0WrA3et7wBelE0gMZyIgZo6hFzLw2YsQSPAQyG87FRsv5mixLmCqkXBarGuz73unR/b/cfd6a/86JkY9Pj2YE2sNLRIjXTVkQOUACnuU7ciEKQDIUCrEsg3n6+jh3b5EOvHWo6yffnt7//Mq/Pt18fuvEtSO5N3usfgo3S0x+kjfyIVnhOAEiiCDszAwhiC3XjfdzyvUbLac/kCN8q8MG4Xe/hmGM1+GyHqLogFnlM+NMuirnh5TCNJ8oMrquKWK803ypEP340rvPP/3ZqfeO//1HK1sz5V4cLR4dl929vX12zeTTDa74Np+tRUsN1awzehFWCvWxzHxaLWPHTPmLu4v7f77z7y/a+3/Y+fIX312/1rp3dW1MwtnObiMhQseydKqgpob4whE+Ueaq2ZGiNqFJSczu9t5bnfvN979xZqK0OVb752fX9r/88a+2mhslZS4dHSApBCBFAAgQLyLFZLQ0V0mN14yZuJzBhvXQh18fv3xmdne9+f5cY2/jq//49QcLw+nb09m0SAdInKEhwxyk1SsWyLFcRNC0cApbrBo33q3dOX90qdn46Vbz5MJ0rl5GRPCdY5FUKaGKSYQQCXAS4uiAhaZfTRsACvvs8uxfH5392+Nzf2o1f3/jawujGau7D0IAGEpT1ZI+NmjOpNWqKhqoE5wEgB2R/u8NbP/z7f/87sr+b6/88WqzxpGLpojwAOrkLKQoigI4y7JRUc+qdU01dDmjigbT8RT4n1T/BXdR/JE3X+zEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Thumbnail para Reels\"\n        title=\"Thumbnail para Reels\"\n        src=\"/static/352db45cb6eb4b617148e7cfaf35c1dd/42a19/instagram-reels-thumbnail.png\"\n        srcset=\"/static/352db45cb6eb4b617148e7cfaf35c1dd/e3135/instagram-reels-thumbnail.png 256w,\n/static/352db45cb6eb4b617148e7cfaf35c1dd/06341/instagram-reels-thumbnail.png 512w,\n/static/352db45cb6eb4b617148e7cfaf35c1dd/42a19/instagram-reels-thumbnail.png 1024w,\n/static/352db45cb6eb4b617148e7cfaf35c1dd/b4ad3/instagram-reels-thumbnail.png 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Thumbnail para Reels</figcaption>\n  </figure></p>\n<h2 id=\"criando-a-thumbnail\" style=\"position:relative;\"><a href=\"#criando-a-thumbnail\" aria-label=\"criando a thumbnail permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criando a thumbnail</h2>\n<p>Agora que nós temos o design, nós podemos começar a programar. Primeiro, nós precisamos criar uma função que irá criar a thumbnail para nós, e ela irá receber uma imagem de fundo, uma imagem de primeiro plano, um título e o caminho para salvar a thumbnail como parâmetros.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateImageForPost</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>\r\n  <span class=\"token parameter\">backgroundImagePath<span class=\"token punctuation\">,</span>\r\n  foregroundImagePath<span class=\"token punctuation\">,</span>\r\n  title<span class=\"token punctuation\">,</span>\r\n  outputPath</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> backgroundImage <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">loadImage</span><span class=\"token punctuation\">(</span>backgroundImagePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> foregroundImage <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">loadImage</span><span class=\"token punctuation\">(</span>foregroundImagePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> <span class=\"token function\">createCanvas</span><span class=\"token punctuation\">(</span>backgroundImage<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> backgroundImage<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>foregroundImage<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// TODO add text</span>\r\n  <span class=\"token comment\">// addCenteredTextWithBackground(ctx, title, canvas.width, canvas.height);</span>\r\n\r\n  <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> out <span class=\"token operator\">=</span> <span class=\"token function\">createWriteStream</span><span class=\"token punctuation\">(</span>outputPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> stream <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">createPNGStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    stream<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    out<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'finish'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The PNG file was created.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    out<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Esse código irá carregar as imagens de fundo e primeiro plano, criar um canvas com o mesmo tamanho da imagem de fundo, desenhar a imagem de primeiro plano no canvas, e salvar o canvas como um arquivo PNG. Essa foi a parte fácil, agora nós precisamos adicionar o texto.</p>\n<p>O desafio aqui é adicionar o texto no centro do canvas, e garantir que ele não irá ultrapassar o canvas. Vamos ver como podemos fazer isso.</p>\n<h2 id=\"adicionando-o-texto\" style=\"position:relative;\"><a href=\"#adicionando-o-texto\" aria-label=\"adicionando o texto permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adicionando o texto</h2>\n<p>Primeiro, nós precisamos criar uma função que irá adicionar o texto no centro do canvas, e ela irá receber o texto e o canvas como parâmetros. Nós iremos fazer isso na função <code class=\"language-text\">addCenteredTextWithBackground</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addCenteredTextWithBackground</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\r\n  <span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span>\r\n  text<span class=\"token punctuation\">,</span>\r\n  canvasWidth<span class=\"token punctuation\">,</span>\r\n  canvasHeight</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> fontSize <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\r\n  ctx<span class=\"token punctuation\">.</span>font <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fontSize<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px Impact</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> lines <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> textHeight <span class=\"token operator\">=</span> fontSize <span class=\"token operator\">*</span> lines<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> rectWidth <span class=\"token operator\">=</span> canvasWidth<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> rectHeight <span class=\"token operator\">=</span> textHeight <span class=\"token operator\">+</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> rectX <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>canvasWidth <span class=\"token operator\">-</span> rectWidth<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> rectY <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span>\r\n\r\n  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'rgba(0, 0, 0, 0.5)'</span><span class=\"token punctuation\">;</span>\r\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span>rectX<span class=\"token punctuation\">,</span> rectY<span class=\"token punctuation\">,</span> rectWidth<span class=\"token punctuation\">,</span> rectHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">,</span> line<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> lines<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> textX <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>canvasWidth <span class=\"token operator\">-</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">measureText</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> textY <span class=\"token operator\">=</span> rectY <span class=\"token operator\">+</span> fontSize <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillText</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">,</span> textX<span class=\"token punctuation\">,</span> textY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Essa função irá calcular o tamanho do retângulo que será o fundo do texto, e então irá desenhar o retângulo e o texto no canvas. Infelizmente, apenas fazer <code class=\"language-text\">text.split(' ');</code> não irá funcionar, porque dividir o texto por espaços irá simplesmente aumentar a altura do texto, mas não necessariamente irá fazer o texto caber no canvas.</p>\n<p>Então vamos criar uma função chamada <code class=\"language-text\">breakTextToFitCanvas</code> que irá receber o texto, o contexto do canvas e uma largura máxima como parâmetros, e irá retornar um array de strings com o texto dividido em linhas que irão caber no canvas.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">breakTextToFitCanvas</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> maxWidth</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> words <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> lines <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">let</span> currentLine <span class=\"token operator\">=</span> words<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> words<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> word <span class=\"token operator\">=</span> words<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">measureText</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>currentLine<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>word<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>width <span class=\"token operator\">&lt;</span> maxWidth<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      currentLine <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>word<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      lines<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>currentLine<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      currentLine <span class=\"token operator\">=</span> word<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  lines<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>currentLine<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> lines<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"juntando-tudo\" style=\"position:relative;\"><a href=\"#juntando-tudo\" aria-label=\"juntando tudo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Juntando tudo</h2>\n<p>Agora que nós temos todas as funções que precisamos, nós podemos juntar tudo e criar a thumbnail. Vamos criar uma função chamada <code class=\"language-text\">generateThumbnail</code> que irá receber o título do vídeo e o caminho para salvar a thumbnail como parâmetros.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateThumbnail</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">title<span class=\"token punctuation\">,</span> outputPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> backgroundImagePath <span class=\"token operator\">=</span> <span class=\"token string\">'./background.png'</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> foregroundImagePath <span class=\"token operator\">=</span> <span class=\"token string\">'./foreground.png'</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> <span class=\"token function\">generateImageForPost</span><span class=\"token punctuation\">(</span>\r\n    backgroundImagePath<span class=\"token punctuation\">,</span>\r\n    foregroundImagePath<span class=\"token punctuation\">,</span>\r\n    title<span class=\"token punctuation\">,</span>\r\n    outputPath\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E agora nós podemos chamar essa função e criar a thumbnail.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">generateThumbnail</span><span class=\"token punctuation\">(</span><span class=\"token string\">'How to create thumbnails for your videos with Node.js'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'./thumbnail.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>E é isso! Agora você pode criar thumbnails para seus vídeos automaticamente. Eu espero que você tenha gostado desse post, e não se esqueça de ver como <a href=\"/pt-br/blog/coding/publicando-reels-no-instagram-usando-nodejs-e-a-arte-de-superar-limitacoes/\">fazer upload de Reels para o Instagram usando Node.js</a>.</p>\n<p>Até a próxima!</p>","fields":{"slug":"/2023/2023-10-25-como-criar-thumbnails-para-seus-videos-automaticamente-com-nodejs.pt-br/","path":"/blog/coding/como-criar-thumbnails-para-seus-videos-automaticamente-com-nodejs/","locale":"pt-br"},"readingTime":{"minutes":4.64},"frontmatter":{"date":"2023-10-25T00:00:00.000Z","title":"Como criar thumbnails para seus vídeos automaticamente com Node.js","categories":["coding"]}}},{"node":{"excerpt":"Fala aí, pessoal! É difícil ser nerd nos dias de hoje…","html":"<p>Fala aí, pessoal! É difícil ser nerd nos dias de hoje, tantos eventos são exclusivos para pessoas da mídia e influenceres - <a href=\"https://www.ign.com/articles/2017/02/08/e3-2017-open-to-the-public-tickets-on-sale-next-week\" target=\"_blank\" rel=\"noreferrer\">até a E3 foi um evento apenas para o comércio por muitos anos</a>. Então, digamos que você já esteja feliz com o seu trabalho e realmente não queira se tornar um jornalista. A sua melhor aposta é se tornar um influencer e talvez ser convidado para o próximo evento de lançamento do <code class=\"language-text\">[insira o nome da franquia de jogos]</code>, certo?</p>\n<p>Tenho muita sorte de ter trabalhado como jornalista freelancer para vários meios de comunicação no Brasil, mas desde que me mudei para a Holanda, não posso mais ir a esses eventos, pois não tenho contatos na mídia aqui e também não falo holandês. Uma das coisas que perdi este ano foi o <a href=\"https://www.youtube.com/watch?v=rkeZx_wDLKs\" target=\"_blank\" rel=\"noreferrer\">evento de lançamento de The Last of Us em Amsterdam</a> e recentemente (semana passada) o <a href=\"https://playsense.nl/558031/prijsvraag-ga-mee-naar-de-marvels-spider-man-2-launchparty/\" target=\"_blank\" rel=\"noreferrer\">evento de Marvel Spider-Man 2 em Hilversum</a>.</p>\n<p>Ok, e agora? Bem, decidi me tornar um influencer e comecei a postar no Instagram, mas realmente não gosto de postar coisas no Instagram. Prefiro passar o meu tempo programando e, claro, se tornar uma celebridade do Instagram hoje em dia não é uma tarefa fácil. Então decidi automatizar algumas partes disso, afinal, a Meta oferece uma API que nos permite fazer muitas coisas, incluindo postar Stories, Reels ou fotos. O que poderia dar errado?</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQozwGfAmD9AB4DGR8HJSENLiERNCAVOiAaQCAdRSAhSSAlTh0lTiIwVz9RcjM/ZBgcRRsaRCAYPiETNiENLx8HJR4DGQAeBB0gCyshEjUgFjsfHEMfIkofJ08dKlIcL1cbNFxZb5Bxgqt5jadjdJA3N1gbHUYcGD8iFDcgDCweBB4AHwYiIQ4wIRU5IBpBHyBJHidPHS1VIjtjKEVwO1qDX3qsYHeoTFmMVFFoOCA1UUheOC5MHBQ7Ig8xHwYkAB8HJCERMyAYPh8eRh4kTB4vVy1LdC5ReUFeiEd+tWir42mm2ExTky42Vyg5V08xOjgzUBsXPyIRNB8HJQAfCCYhEjYgG0IfIkkfL1Y3TnQ2U3sxXIZLirxHndVdrN5IbKkmOmxKfZ2Dm60tKEMaJ1EhHkUhFDgfCScAHwkoIRU6IB9GHSdNJj1sMlGCQGKWdqrhgL/yWK3kRIa1OnCXUomnc5u1QztTGTNXHi5VHyJJIRY8HwopACALKyEXPB8hSCUxVTFReCFMbV1ep7uB5cyb6naUyidljSxXfV1vkE0/VjJAVBg+Yh4xVh8mTCEZPiAMLAAhDjAhG0AdJ00cNVY/U3JAWn+Uc4P9gpzRbclKZqAjZIMmWX4bJEkwGS85VGoWRWYbOVodLFEgHUIhDzEAIh9BIjRWJkZlK118OEZmSGGBi7S39tKyzYS5Up24S5qtQHWVOk6DLSFCZ09TPnOMLWJ/J1BuIzhaISBDACY9XTNfeUZ/mz5cmDZHY02Bs06Lz2amynOuzlmdz2m20kZefjJDeiMjSjwcKFhkcEeIokF0jTJcdyU7WwAlMVIuTWw6Z4Q+aYY+ZoxUj7pqrc1UkclEeLlRispknsZdkbRKeKA7WoQtQms1R2gvTm8tR2gpPl4kLE2TfspoXO4w5gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Automatização\"\n        title=\"Automatização\"\n        src=\"/static/275b237567c6ae515dbfdcf11f91ffc4/42a19/auto-post-instagram.png\"\n        srcset=\"/static/275b237567c6ae515dbfdcf11f91ffc4/e3135/auto-post-instagram.png 256w,\n/static/275b237567c6ae515dbfdcf11f91ffc4/06341/auto-post-instagram.png 512w,\n/static/275b237567c6ae515dbfdcf11f91ffc4/42a19/auto-post-instagram.png 1024w,\n/static/275b237567c6ae515dbfdcf11f91ffc4/e8464/auto-post-instagram.png 1536w,\n/static/275b237567c6ae515dbfdcf11f91ffc4/445c6/auto-post-instagram.png 1792w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Automatização</figcaption>\n  </figure></p>\n<h2 id=\"a-api-do-instagram\" style=\"position:relative;\"><a href=\"#a-api-do-instagram\" aria-label=\"a api do instagram permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A API do Instagram</h2>\n<p>Show, então simplesmente <code class=\"language-text\">npm install axios</code> e começamos a postar no Instagram, certo? Bem… por algum motivo, você não pode enviar vídeos para o Instagram diretamente via API, você precisa fornecer uma URL de onde eles baixarão o seu vídeo… tipo… sério? Quer dizer, <a href=\"https://www.dailymail.co.uk/news/article-3263921/What-mean-no-one-Mars-Scores-people-believe-blockbuster-movie-Martian-based-true-story.html\" target=\"_blank\" rel=\"noreferrer\">enviamos pessoas para Marte</a>, mas não podemos enviar um vídeo para o Instagram sem um link?</p>\n<p>Mas não tema, estou aqui para ajudá-lo a resolver esse problema, caro desenvolvedor. Criei um script Node.js que permitirá que você publique vídeos no Instagram, e vou explicar como funciona.</p>\n<h2 id=\"o-dilema-de-postar-video-no-instagram\" style=\"position:relative;\"><a href=\"#o-dilema-de-postar-video-no-instagram\" aria-label=\"o dilema de postar video no instagram permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O dilema de postar vídeo no Instagram</h2>\n<p>Antes de mergulharmos de cabeça, vamos preparar as nossas ferramentas. Instale as bibliotecas necessárias:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> axios @ngrok/ngrok express fluent-ffmpeg ffmpeg-static</code></pre></div>\n<p>Agora, vamos destrinchar o código e entender a mágica por trás dele.</p>\n<p>Primeiro, precisamos configurar o nosso ambiente. Estamos usando <code class=\"language-text\">axios</code> para solicitações HTTP, <code class=\"language-text\">ngrok</code> para expor o nosso servidor local ao mundo (porque, você sabe, o Instagram precisa de um link) e express para servir o nosso vídeo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> ngrok <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@ngrok/ngrok'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">GRAPH_API_VERSION</span> <span class=\"token operator\">=</span> <span class=\"token string\">'v18.0'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PORT</span> <span class=\"token operator\">=</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> expressApp <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Este código simplesmente faz uma requisição <code class=\"language-text\">POST</code> para a API do Instagram para criar um container e “fazer o upload” do vídeo para ele.</p>\n<p>O termo “fazer o upload” está entre aspas porque nós não estamos realmente fazendo o upload do vídeo, nós estamos apenas dizendo ao Instagram onde encontrá-lo.</p>\n<p>Agora, vamos para a parte divertida. Precisamos enviar o nosso vídeo para um contêiner no Instagram. Mas lembre-se, não estamos realmente enviando o vídeo. Estamos apenas dizendo ao Instagram onde encontrá-lo. Então, precisamos criar um contêiner e depois enviar o vídeo para ele.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">uploadReelsToContainer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>\r\n  <span class=\"token parameter\">accessToken<span class=\"token punctuation\">,</span>\r\n  instagramAccountId<span class=\"token punctuation\">,</span>\r\n  caption<span class=\"token punctuation\">,</span>\r\n  videoUrl<span class=\"token punctuation\">,</span>\r\n  coverUrl</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://graph.facebook.com/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">GRAPH_API_VERSION</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>instagramAccountId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/media</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">access_token</span><span class=\"token operator\">:</span> accessToken<span class=\"token punctuation\">,</span>\r\n      caption<span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">media_type</span><span class=\"token operator\">:</span> <span class=\"token string\">'REELS'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">video_url</span><span class=\"token operator\">:</span> videoUrl<span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">cover_url</span><span class=\"token operator\">:</span> coverUrl<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Legal, mas você deve estar pensando, “de onde eu consigo o <code class=\"language-text\">accessToken</code> e <code class=\"language-text\">instagramAccountId</code>?” Bem, você precisa criar um aplicativo no Facebook e depois criar uma conta no Instagram e vincular a sua conta do Instagram ao seu aplicativo do Facebook. Você pode encontrar mais informações sobre isso <a href=\"https://developers.facebook.com/docs/instagram-api/getting-started\" target=\"_blank\" rel=\"noreferrer\">aqui</a>. Para ser honesto, esta é a parte mais difícil do processo, mas uma vez que você consiga fazer funcionar, está tudo certo.</p>\n<p>Ah, espere, você também quer saber como conseguir o <code class=\"language-text\">videoUrl</code> e <code class=\"language-text\">coverUrl</code>, certo? Paciência, meu doce padawan, chegaremos lá.</p>\n<p>Depois que o contêiner é criado, precisamos verificar o seu status. Precisamos esperar até que o vídeo seja totalmente baixado pelo Instagram.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getStatusOfUpload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">accessToken<span class=\"token punctuation\">,</span> igContainerId</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://graph.facebook.com/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">GRAPH_API_VERSION</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>igContainerId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">params</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">access_token</span><span class=\"token operator\">:</span> accessToken<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">fields</span><span class=\"token operator\">:</span> <span class=\"token string\">'status_code'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Se o status for <code class=\"language-text\">FINISHED</code>, então podemos prosseguir para a próxima etapa, que é finalmente publicar o vídeo, ou como a Meta chama: <code class=\"language-text\">publicação de mídia</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">publishMediaContainer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">accessToken<span class=\"token punctuation\">,</span> instagramAccountId<span class=\"token punctuation\">,</span> creationId</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://graph.facebook.com/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">GRAPH_API_VERSION</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>instagramAccountId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/media_publish</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">access_token</span><span class=\"token operator\">:</span> accessToken<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">creation_id</span><span class=\"token operator\">:</span> creationId <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E qual é o propósito de postar isso e obter todos esses IDs estranhos? O que realmente queremos é a URL da postagem do Instagram, certo? Para isso, precisamos obter o <code class=\"language-text\">permalink_url</code> da resposta.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchPermalink</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">accessToken<span class=\"token punctuation\">,</span> mediaId</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://graph.facebook.com/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">GRAPH_API_VERSION</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>mediaId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">params</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">access_token</span><span class=\"token operator\">:</span> accessToken<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">fields</span><span class=\"token operator\">:</span> <span class=\"token string\">'permalink'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"vamos-ajuntar-tudo\" style=\"position:relative;\"><a href=\"#vamos-ajuntar-tudo\" aria-label=\"vamos ajuntar tudo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vamos “ajuntar” tudo</h2>\n<p>Eu tenho adiado essa parte por um tempo, mas agora é hora de explicar como obter o <code class=\"language-text\">videoUrl</code> e <code class=\"language-text\">coverUrl</code>, e é aqui que o <code class=\"language-text\">ngrok</code> entra em jogo. Precisamos criar um servidor local <code class=\"language-text\">express</code> que fornecerá o nosso vídeo e capa, e então expô-lo ao mundo usando <code class=\"language-text\">ngrok</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">expressApp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span>port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nexpressApp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/video'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendFile</span><span class=\"token punctuation\">(</span>videoFilePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nexpressApp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/cover'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendFile</span><span class=\"token punctuation\">(</span>thumbnailFilePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com este código, serviremos o nosso vídeo e capa em <code class=\"language-text\">http://localhost:3000/video</code> e <code class=\"language-text\">http://localhost:3000/cover</code>, respectivamente. As variáveis <code class=\"language-text\">videoFilePath</code> e <code class=\"language-text\">thumbnailFilePath</code> devem conter um caminho local para os arquivos de vídeo e capa.</p>\n<p>Agora vamos expor isso ao mundo usando <code class=\"language-text\">ngrok</code>. Isso nos dará uma URL que podemos usar para fazer upload do nosso vídeo no Instagram.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> listener <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> ngrok<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> listener<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> videoUrl <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/video</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> coverUrl <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/cover</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E agora juntando tudo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">postInstagramReel</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>\r\n  <span class=\"token parameter\">accessToken<span class=\"token punctuation\">,</span>\r\n  pageId<span class=\"token punctuation\">,</span>\r\n  description<span class=\"token punctuation\">,</span>\r\n  thumbnailFilePath<span class=\"token punctuation\">,</span>\r\n  videoFilePath</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> expressApp <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  expressApp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  expressApp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/video'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendFile</span><span class=\"token punctuation\">(</span>videoFilePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  expressApp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/cover'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendFile</span><span class=\"token punctuation\">(</span>thumbnailFilePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> listener <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> ngrok<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> listener<span class=\"token punctuation\">.</span><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> containerId <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">uploadReelsToContainer</span><span class=\"token punctuation\">(</span>\r\n    accessToken<span class=\"token punctuation\">,</span>\r\n    pageId<span class=\"token punctuation\">,</span>\r\n    description<span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/video</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/cover</span><span class=\"token template-punctuation string\">`</span></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">let</span> status <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token constant\">TWO_MINUTES</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> startTime <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>status <span class=\"token operator\">!==</span> <span class=\"token string\">'FINISHED'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> startTime <span class=\"token operator\">></span> <span class=\"token constant\">TWO_MINUTES</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">await</span> ngrok<span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Upload took longer than 2 minutes.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    status <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getStatusOfUpload</span><span class=\"token punctuation\">(</span>accessToken<span class=\"token punctuation\">,</span> containerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> creationId <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">publishMediaContainer</span><span class=\"token punctuation\">(</span>accessToken<span class=\"token punctuation\">,</span> pageId<span class=\"token punctuation\">,</span> containerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> permalink <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchPermalink</span><span class=\"token punctuation\">(</span>accessToken<span class=\"token punctuation\">,</span> creationId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> ngrok<span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> creationId<span class=\"token punctuation\">,</span> permalink <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Esta função iniciará o servidor do <code class=\"language-text\">express</code> e definirá a URL do <code class=\"language-text\">ngrok</code>. Em seguida, ele “fará o upload” do vídeo para o Instagram e aguardará até que o vídeo seja totalmente baixado. Depois disso, ele publicará o vídeo e retornará a URL da postagem do Instagram.</p>\n<p>E é isso! Agora você pode postar vídeos no Instagram usando Node.js. Espero que tenha gostado.</p>\n<p>Espere, o quê? Ah… você quer saber por que fiz você instalar o <code class=\"language-text\">ffmpeg</code>? Ok, vamos falar sobre isso.</p>\n<h2 id=\"garantindo-que-o-video-esteja-pronto-para-o-instagram\" style=\"position:relative;\"><a href=\"#garantindo-que-o-video-esteja-pronto-para-o-instagram\" aria-label=\"garantindo que o video esteja pronto para o instagram permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Garantindo que o vídeo esteja pronto para o Instagram</h2>\n<p>Tudo está bom e o código está bonito e elegante, mas há mais uma coisa que precisamos fazer antes de postar nosso vídeo no Instagram. Precisamos garantir que o vídeo esteja no formato correto. O Instagram tem alguns <a href=\"https://developers.facebook.com/docs/video-api/guides/publishing\" target=\"_blank\" rel=\"noreferrer\">requisitos</a> para vídeos, e precisamos garantir que nosso vídeo atenda a esses requisitos. Para isso, usaremos o <code class=\"language-text\">ffmpeg</code>.</p>\n<p>Existem dois pacotes do NPM ótimos que nos permitem usar o <code class=\"language-text\">ffmpeg</code> no Node.js: <code class=\"language-text\">fluent-ffmpeg</code> e <code class=\"language-text\">ffmpeg-static</code>. O primeiro é um wrapper em torno do <code class=\"language-text\">ffmpeg</code>, e o segundo é uma compilação estática do <code class=\"language-text\">ffmpeg</code> que podemos usar no nosso código.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">processVideo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">inputPath<span class=\"token punctuation\">,</span> outputPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">ffmpeg</span><span class=\"token punctuation\">(</span>inputPath<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">toFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mp4'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1080x1920'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">aspect</span><span class=\"token punctuation\">(</span><span class=\"token string\">'9:16'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">videoCodec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'libx264'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">audioCodec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'aac'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">audioChannels</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">audioFrequency</span><span class=\"token punctuation\">(</span><span class=\"token number\">48000</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">audioBitrate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'128k'</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Processing finished. Output saved to </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>outputPath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Error processing video: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>err<span class=\"token punctuation\">.</span>message<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>outputPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Este código garantirá que o vídeo esteja no formato correto. Ele converterá o vídeo para <code class=\"language-text\">mp4</code>, redimensionará para <code class=\"language-text\">1080x1920</code> e garantirá que a proporção seja <code class=\"language-text\">9:16</code>. Também garantirá que o codec de vídeo seja <code class=\"language-text\">libx264</code> e que o codec de áudio seja <code class=\"language-text\">aac</code>. Além disso, garantirá que o áudio tenha 2 canais, uma frequência de <code class=\"language-text\">48000</code> e uma taxa de bits de <code class=\"language-text\">128k</code>.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>E é isso, com um pouco de código e astúcia, agora podemos postar vídeos no Instagram usando Node.js. Valeu a pena as horas que passei pesquisando e codificando isso? Provavelmente não, mas me diverti e aprendi muito, então acho que valeu a pena. Uhmn…</p>\n<p>Ah, e não se esqueça de me seguir no Instagram em <a href=\"https://www.instagram.com/opablopirata/\" target=\"_blank\" rel=\"noreferrer\">@opablopirata</a> e me ajude a me tornar um influencer. Eu prometo que vou postar com frequência. Eu sou apenas um pouco preguiçoso, mas vou chegar lá.</p>\n<p>Espero que tenha gostado e que isso tenha sido útil para você de alguma forma. Até a próxima! Saúde!</p>","fields":{"slug":"/2023/2023-10-14-publicando-reels-no-instagram-usando-nodejs-e-a-arte-de-superar-limitacoes.pt-br/","path":"/blog/coding/publicando-reels-no-instagram-usando-nodejs-e-a-arte-de-superar-limitacoes/","locale":"pt-br"},"readingTime":{"minutes":7.455},"frontmatter":{"date":"2023-10-14T00:00:00.000Z","title":"Publicando Reels no Instagram usando Node.js e a arte de superar limitações","categories":["coding"]}}},{"node":{"excerpt":"Num mundo dominado por plataformas de mídia social, onde…","html":"<p>Num mundo dominado por plataformas de mídia social, onde Stories se tornaram um recurso omnipresente, eu me peguei pensando - o meu blog realmente precisa de Stories? A resposta, claro, é um sonoro “não, né?“. Mas aqui estamos, o meu blog agora tem Stories, e eu não tenho totalmente certeza do porquê.</p>\n<p><img src=\"/4cdd7b249c219b923c1baef9632ccdbc/stories-on-my-blog.gif\" alt=\"Stories\"></p>\n<h2 id=\"o-nascimento-de-uma-ideia-desnecessaria\" style=\"position:relative;\"><a href=\"#o-nascimento-de-uma-ideia-desnecessaria\" aria-label=\"o nascimento de uma ideia desnecessaria permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O nascimento de uma ideia desnecessária</h2>\n<p>Tudo começou quando eu estava usando o aplicativo do meu provedor de internet para celular e, para minha surpresa, eles haviam adicionado Stories no aplicativo deles. Isso foi simplesmente demais para mim. Uma mistura de alegria, admiração e confusão me dominou. Quer dizer, por que um aplicativo de provedor de internet precisaria de Stories? Foi nesse momento que decidi, se eles podem fazer, por que eu não posso? E assim, a jornada começou.</p>\n<p>Naturalmente, como um desenvolvedor com uma inclinação para o absurdo, abri o meu editor de código e comecei a programar, e o meu objetivo era adicionar Stories ao meu blog. A razão por trás disso? Me pergunte semana que vem.</p>\n<h2 id=\"a-jornada-tecnica\" style=\"position:relative;\"><a href=\"#a-jornada-tecnica\" aria-label=\"a jornada tecnica permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A jornada técnica</h2>\n<p>O processo de adicionar Stories ao meu blog foi surpreendentemente simples, graças ao poder do <del>comunismo</del> código aberto. Ferramentas e bibliotecas de código aberto são uma bênção para os desenvolvedores. Elas economizam tempo, esforço e muitas vezes levam a soluções melhores do que as que poderíamos criar sozinhos. Após um pouco de pesquisa, eu me deparei com um pacote fantástico que parecia ser a resposta para todas as minhas orações - <a href=\"https://www.npmjs.com/package/react-insta-stories\" target=\"_blank\" rel=\"noreferrer\">react-insta-stories</a>. Este pacote é projetado para criar Stories estilo Instagram no React, que era exatamente o que eu estava procurando.</p>\n<p>O pacote <code class=\"language-text\">react-insta-stories</code> é incrivelmente versátil e personalizável. Ele permite que você crie stories com imagens, vídeos e até componentes personalizados. Você pode personalizar a duração de cada Story, adicionar botões de ação e muito mais. Era quase bom demais para ser verdade. Com este pacote, consegui adicionar Stories ao meu blog em pouco tempo e com o mínimo de esforço.</p>\n<h2 id=\"decidindo-o-que-mostrar-nos-stories\" style=\"position:relative;\"><a href=\"#decidindo-o-que-mostrar-nos-stories\" aria-label=\"decidindo o que mostrar nos stories permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Decidindo o que mostrar nos Stories</h2>\n<p>Inicialmente, pensei em criar vídeos personalizados usando fundos padrão de sites de “stock videos”. Cheguei até a criar um script usando FFmpeg e Node.js para automatizar o processo. No entanto, após alguma consideração, decidi abandonar essa ideia. Para a primeira iteração, decidi criar um Story para cada um dos últimos cinco posts do meu blog.</p>\n<p>Para o conteúdo dos Stories, decidi mantê-lo simples. Eu decidi usar uma “stock photo” relacionada à categoria do post do blog, sobreporia o título do post do blog e incluiria um link para acessá-lo. Dessa forma, os Stories não serviriam apenas como um teaser visual, mas também como um portal funcional para o conteúdo completo do post do blog.</p>\n<p>Para torná-lo mais organizado, agrupei esses Stories pela categoria do post do blog. Por exemplo, se dos últimos cinco posts do blog, três estavam na categoria “programação” e dois na categoria “jogos”, eu exibiria duas prévias de Stories diferentes - aqueles pequenos círculos de imagem que você clica para ver os Stories. Então, “dentro” de cada um desses círculos agrupados, você clicaria e veria esses Stories.</p>\n<p>Essa abordagem parecia mais gerenciável e, vamos ser honestos, exigia menos esforço da minha parte. Também proporcionava uma maneira dos visitantes se atualizarem rapidamente sobre os meus últimos posts de uma maneira mais interativa e envolvente. Não que eu esteja particularmente preocupado com a retenção ou engajamento dos visitantes. Estou apenas adicionando esse recurso porque, bem, por que não?</p>\n<h2 id=\"partiu-programar\" style=\"position:relative;\"><a href=\"#partiu-programar\" aria-label=\"partiu programar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Partiu programar</h2>\n<p>Após a decisão (meio que no “ah, por que não, né”), era hora de mergulhar de cabeça no mundo da programação. Aqui vai um resumo dos passos que segui, ou melhor, do buraco de coelho que me enfiei:</p>\n<ol>\n<li><strong>Criando o componente StoriesPreview</strong>: Este componente é responsável por exibir a pré-visualização dos Stories na página principal do blog.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">circleImage</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">borderRadius</span><span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">cursor</span><span class=\"token operator\">:</span> <span class=\"token string\">'pointer'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">objectFit</span><span class=\"token operator\">:</span> <span class=\"token string\">'cover'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">marginLeft</span><span class=\"token operator\">:</span> <span class=\"token string\">'5px'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'relative'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">storyImage</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">objectFit</span><span class=\"token operator\">:</span> <span class=\"token string\">'cover'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">objectPosition</span><span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">storiesWrapper</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token string\">'15px 0'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">previewWrapper</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token string\">'15px 0'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">StoriesPreview</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>\r\n    graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n      query {\r\n        allMarkdownRemark(\r\n          filter: { frontmatter: { show: { eq: true } } }\r\n          sort: { fields: [frontmatter___date], order: DESC }\r\n          limit: 10\r\n        ) {\r\n          edges {\r\n            node {\r\n              excerpt(pruneLength: 60)\r\n              fields {\r\n                path\r\n                locale\r\n                postHashId\r\n              }\r\n              frontmatter {\r\n                title\r\n                categories\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    </span><span class=\"token template-punctuation string\">`</span></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> intl <span class=\"token operator\">=</span> <span class=\"token function\">useIntl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>locale <span class=\"token operator\">===</span> intl<span class=\"token punctuation\">.</span>locale<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>showModal<span class=\"token punctuation\">,</span> setShowModal<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>currentStoriesIndex<span class=\"token punctuation\">,</span> setCurrentStoriesIndex<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>seenStories<span class=\"token punctuation\">,</span> setSeenStories<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useLocalStorage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seenStories'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>tempSeenStories<span class=\"token punctuation\">,</span> setTempSeenStories<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> stories <span class=\"token operator\">=</span> <span class=\"token function\">useStories</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">,</span> seenStories<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> onStoryEnd <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">currentStoriesIndex<span class=\"token punctuation\">,</span> currentStoryIndex</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">const</span> newTempSeenStories <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\r\n        <span class=\"token operator\">...</span>tempSeenStories<span class=\"token punctuation\">,</span>\r\n        stories<span class=\"token punctuation\">[</span>currentStoriesIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>currentStoryIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>postHashId<span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token function\">setTempSeenStories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>newTempSeenStories<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">[</span>tempSeenStories<span class=\"token punctuation\">,</span> stories<span class=\"token punctuation\">]</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> handleImageClick <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">setCurrentStoriesIndex</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">setShowModal</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> handleCloseModal <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">setShowModal</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> newSeenStories <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>seenStories<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>tempSeenStories<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">setSeenStories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>newSeenStories<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">setTempSeenStories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>seenStories<span class=\"token punctuation\">,</span> setSeenStories<span class=\"token punctuation\">,</span> tempSeenStories<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> handleNextStories <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentStoriesIndex <span class=\"token operator\">&lt;</span> stories<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">setCurrentStoriesIndex</span><span class=\"token punctuation\">(</span>currentStoriesIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">handleCloseModal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>currentStoriesIndex<span class=\"token punctuation\">,</span> handleCloseModal<span class=\"token punctuation\">,</span> stories<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> handlePreviousStories <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentStoriesIndex <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">setCurrentStoriesIndex</span><span class=\"token punctuation\">(</span>currentStoriesIndex <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token function\">handleCloseModal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>currentStoriesIndex<span class=\"token punctuation\">,</span> handleCloseModal<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> handleOnAllStoriesEnd <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">handleNextStories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>handleNextStories<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>storiesWrapper<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>previewWrapper<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">{</span>stories<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">storiesArray<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n            <span class=\"token operator\">&lt;</span>StoryImage\r\n              key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span>\r\n              category<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>storiesArray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">}</span>\r\n              previewImage<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>storiesArray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>previewImage<span class=\"token punctuation\">}</span>\r\n              unseen<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">isClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> storiesArray<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">story</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>story<span class=\"token punctuation\">.</span>viewed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n              onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">handleImageClick</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>Divider <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">{</span>showModal <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>StoryModal\r\n          stories<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>stories<span class=\"token punctuation\">[</span>currentStoriesIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\r\n          onClose<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleCloseModal<span class=\"token punctuation\">}</span>\r\n          onPrevious<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handlePreviousStories<span class=\"token punctuation\">}</span>\r\n          onNext<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleNextStories<span class=\"token punctuation\">}</span>\r\n          showPrevious<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>currentStoriesIndex <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span>\r\n          showNext<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>currentStoriesIndex <span class=\"token operator\">&lt;</span> stories<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\r\n          currentStoriesIndex<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>currentStoriesIndex<span class=\"token punctuation\">}</span>\r\n          onAllStoriesEnd<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleOnAllStoriesEnd<span class=\"token punctuation\">}</span>\r\n          onStoryEnd<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">currentStoryIndex</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">onStoryEnd</span><span class=\"token punctuation\">(</span>currentStoriesIndex<span class=\"token punctuation\">,</span> currentStoryIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n          onStoryStart<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">currentStoryIndex</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">onStoryEnd</span><span class=\"token punctuation\">(</span>currentStoriesIndex<span class=\"token punctuation\">,</span> currentStoryIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"2\">\n<li><strong>Criando o componente StoryImage</strong>: Este componente é responsável por exibir a imagem do Story.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token function-variable function\">circleImage</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> unseen <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">borderRadius</span><span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">cursor</span><span class=\"token operator\">:</span> <span class=\"token string\">'pointer'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">objectFit</span><span class=\"token operator\">:</span> <span class=\"token string\">'cover'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">marginLeft</span><span class=\"token operator\">:</span> <span class=\"token string\">'5px'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'relative'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>unseen\r\n      <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>palette<span class=\"token punctuation\">.</span>secondary<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span>\r\n      <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">StoryImage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> category<span class=\"token punctuation\">,</span> previewImage<span class=\"token punctuation\">,</span> unseen<span class=\"token punctuation\">,</span> onClick <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> unseen <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token comment\">// eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions</span>\r\n    <span class=\"token operator\">&lt;</span>img alt<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span> src<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>previewImage<span class=\"token punctuation\">}</span> className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>circleImage<span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClick<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"3\">\n<li><strong>Criando o componente StoryModal</strong>: Este componente é responsável por exibir o story num modal quando o leitor clica na imagem dos Stories.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">modal</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'fixed'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">'rgba(0, 0, 0, 0.5)'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">backdropFilter</span><span class=\"token operator\">:</span> <span class=\"token string\">'blur(5px)'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">justifyContent</span><span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">alignItems</span><span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">zIndex</span><span class=\"token operator\">:</span> <span class=\"token number\">9999</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">modalContent</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">'transparent'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span><span class=\"token function\">spacing</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">flexDirection</span><span class=\"token operator\">:</span> <span class=\"token string\">'column'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">alignItems</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex-end'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">closeButton</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">marginBottom</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span><span class=\"token function\">spacing</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">arrowButton</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">transform</span><span class=\"token operator\">:</span> <span class=\"token string\">'translateY(-50%)'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'2rem'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">cursor</span><span class=\"token operator\">:</span> <span class=\"token string\">'pointer'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">arrowLeft</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span><span class=\"token function\">spacing</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">arrowRight</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">right</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span><span class=\"token function\">spacing</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">StoryModal</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\r\n  stories<span class=\"token punctuation\">,</span>\r\n  onClose<span class=\"token punctuation\">,</span>\r\n  onPrevious<span class=\"token punctuation\">,</span>\r\n  onNext<span class=\"token punctuation\">,</span>\r\n  showPrevious<span class=\"token punctuation\">,</span>\r\n  showNext<span class=\"token punctuation\">,</span>\r\n  currentStoriesIndex<span class=\"token punctuation\">,</span>\r\n  onStoryEnd<span class=\"token punctuation\">,</span>\r\n  onStoryStart<span class=\"token punctuation\">,</span>\r\n  onAllStoriesEnd<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> intl <span class=\"token operator\">=</span> <span class=\"token function\">useIntl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> isMobileDevice <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>isMobile<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> handleKeyDown <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> <span class=\"token string\">'ArrowRight'</span> <span class=\"token operator\">&amp;&amp;</span> showNext<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">onNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> <span class=\"token string\">'ArrowLeft'</span> <span class=\"token operator\">&amp;&amp;</span> showPrevious<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">onPrevious</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">[</span>onNext<span class=\"token punctuation\">,</span> onPrevious<span class=\"token punctuation\">,</span> showNext<span class=\"token punctuation\">,</span> showPrevious<span class=\"token punctuation\">]</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keydown'</span><span class=\"token punctuation\">,</span> handleKeyDown<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keydown'</span><span class=\"token punctuation\">,</span> handleKeyDown<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>handleKeyDown<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>modal<span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClose<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>modalContent<span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> e<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>Button className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>closeButton<span class=\"token punctuation\">}</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClose<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">{</span>intl<span class=\"token punctuation\">.</span><span class=\"token function\">formatMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'close'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Button<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>isMobileDevice <span class=\"token operator\">&amp;&amp;</span> showPrevious <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>ArrowBackIcon\r\n            className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">classNames</span><span class=\"token punctuation\">(</span>classes<span class=\"token punctuation\">.</span>arrowButton<span class=\"token punctuation\">,</span> classes<span class=\"token punctuation\">.</span>arrowLeft<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onPrevious<span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>isMobileDevice <span class=\"token operator\">&amp;&amp;</span> showNext <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>ArrowForwardIcon\r\n            className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">classNames</span><span class=\"token punctuation\">(</span>classes<span class=\"token punctuation\">.</span>arrowButton<span class=\"token punctuation\">,</span> classes<span class=\"token punctuation\">.</span>arrowRight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onNext<span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span>Stories\r\n          stories<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>stories<span class=\"token punctuation\">}</span>\r\n          key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>currentStoriesIndex<span class=\"token punctuation\">}</span>\r\n          currentIndex<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span>\r\n          onStoryEnd<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onStoryEnd<span class=\"token punctuation\">}</span>\r\n          onStoryStart<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onStoryStart<span class=\"token punctuation\">}</span>\r\n          onAllStoriesEnd<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onAllStoriesEnd<span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"4\">\n<li><strong>Criando o hook useLocalStorage</strong>: Este hook personalizado é usado para gerenciar o estado dos Stories visualizadas no armazenamento local.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">useLocalStorage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> initialValue</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>storedValue<span class=\"token punctuation\">,</span> setStoredValue<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">return</span> item <span class=\"token operator\">?</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> initialValue<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">return</span> initialValue<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setValue</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">const</span> valueToStore <span class=\"token operator\">=</span> value <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Function</span> <span class=\"token operator\">?</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span>storedValue<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> value<span class=\"token punctuation\">;</span>\r\n      <span class=\"token function\">setStoredValue</span><span class=\"token punctuation\">(</span>valueToStore<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>valueToStore<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>storedValue<span class=\"token punctuation\">,</span> setValue<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"5\">\n<li><strong>Criando o hook useStories</strong>: Este hook personalizado é usado para gerenciar o estado dos Stories.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">seeMore</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>palette<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>primary<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">textTransform</span><span class=\"token operator\">:</span> <span class=\"token string\">'uppercase'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">textDecoration</span><span class=\"token operator\">:</span> <span class=\"token string\">'inherit'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token string\">'rgb(0 0 0 / 40%)'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token string\">'10px 0'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">textAlign</span><span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token string\">'auto'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">bottom</span><span class=\"token operator\">:</span> <span class=\"token string\">'0px'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">zIndex</span><span class=\"token operator\">:</span> <span class=\"token string\">'9999'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'auto'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">contentWrapper</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">alignItems</span><span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">justifyContent</span><span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token string\">'#333'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">contentTextWrapper</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token string-property property\">'&amp; h1, p, a'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token string\">'rgb(0 0 0 / 40%)'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token string\">'10px 25px'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useStories</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">posts<span class=\"token punctuation\">,</span> seenStories</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> intl <span class=\"token operator\">=</span> <span class=\"token function\">useIntl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> imagesData <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n    query {\r\n      allFile(filter: { relativeDirectory: { eq: \"categories\" }, extension: { eq: \"jpg\" } }) {\r\n        edges {\r\n          node {\r\n            base\r\n            childImageSharp {\r\n              gatsbyImageData\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> storiesMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> frontmatter<span class=\"token punctuation\">,</span> fields<span class=\"token punctuation\">,</span> excerpt <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> node<span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> categories <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> frontmatter<span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">const</span> category <span class=\"token operator\">=</span> categories<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> postHashId <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> fields<span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">const</span> imageNode <span class=\"token operator\">=</span> imagesData<span class=\"token punctuation\">.</span>allFile<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">edge</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> edge<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>base<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>category<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">const</span> gatsbyImageData <span class=\"token operator\">=</span> <span class=\"token function\">getImage</span><span class=\"token punctuation\">(</span>imageNode<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">const</span> categoryImage <span class=\"token operator\">=</span> gatsbyImageData<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">.</span>fallback<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token keyword\">const</span> story <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        category<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">previewImage</span><span class=\"token operator\">:</span> categoryImage<span class=\"token punctuation\">,</span>\r\n        postHashId<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">viewed</span><span class=\"token operator\">:</span> seenStories<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>postHashId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token function-variable function\">content</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> action<span class=\"token punctuation\">,</span> isPaused <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div\r\n            className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>contentWrapper<span class=\"token punctuation\">}</span>\r\n            style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n              <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">linear-gradient(rgba(51, 51, 51, 0.5), rgba(51, 51, 51, 0.5)), url(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>categoryImage<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">) no-repeat center center</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>contentTextWrapper<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n              <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n              <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>excerpt<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>path<span class=\"token punctuation\">}</span> className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>seeMore<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n              <span class=\"token punctuation\">{</span>intl<span class=\"token punctuation\">.</span><span class=\"token function\">formatMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'go_to_post'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token keyword\">const</span> categoryStories <span class=\"token operator\">=</span> storiesMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>category<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n      categoryStories<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>story<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      storiesMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>category<span class=\"token punctuation\">,</span> categoryStories<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>storiesMap<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">const</span> aHasFalse <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>item<span class=\"token punctuation\">.</span>viewed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">const</span> bHasFalse <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>item<span class=\"token punctuation\">.</span>viewed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>aHasFalse <span class=\"token operator\">&amp;&amp;</span> bHasFalse<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>aHasFalse<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\r\n    posts<span class=\"token punctuation\">,</span>\r\n    imagesData<span class=\"token punctuation\">.</span>allFile<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">,</span>\r\n    seenStories<span class=\"token punctuation\">,</span>\r\n    classes<span class=\"token punctuation\">.</span>contentWrapper<span class=\"token punctuation\">,</span>\r\n    classes<span class=\"token punctuation\">.</span>contentTextWrapper<span class=\"token punctuation\">,</span>\r\n    classes<span class=\"token punctuation\">.</span>seeMore<span class=\"token punctuation\">,</span>\r\n    intl<span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>O processo de adicionar Stories ao meu blog foi surpreendentemente simples, graças ao pacote de código aberto <code class=\"language-text\">react-insta-stories</code>.</p>\n<p>Eu estava adicionando Stories ao meu blog para melhorar a experiência do leitor? hahaha não. Eu me arrependo? Bem… não também. Num mundo onde somos constantemente bombardeados com novos recursos, atualizações e inovações, que até parece um episódio de Black Mirror.</p>\n<p>Então, aqui estamos. Meu blog agora tem Stories, uma adição completamente desnecessária, mas que não posso deixar de achar divertida. Espero que você goste desta adição completamente desnecessária, mas estranhamente satisfatória ao meu blog.</p>\n<p>Até a próxima, galera!</p>","fields":{"slug":"/2023/2023-09-04-meu-blog-tem-stories-agora-mas-nao-me-pergunte-por-que.pt-br/","path":"/blog/coding/meu-blog-tem-stories-agora-mas-nao-me-pergunte-por-que/","locale":"pt-br"},"readingTime":{"minutes":8.815},"frontmatter":{"date":"2023-09-04T00:00:00.000Z","title":"Meu blog tem Stories agora, mas não me pergunte por quê","categories":["coding"]}}},{"node":{"excerpt":"Quer alcançar os seus objetivos de fitness, como perder peso…","html":"<p>Quer alcançar os seus objetivos de fitness, como perder peso ou ganhar músculos? Tudo se resume a saber quantas calorias você queima em um dia, o que é chamado de Gasto Energético Diário Total (TDEE).</p>\n<p>Pense no TDEE como o número dourado que guia as suas escolhas de alimentação e treino. Você precisa conhecê-lo para descobrir quanto comer se quiser manter, ganhar alguns quilos ou emagrecer.</p>\n<p>Agora, existem várias ferramentas online que podem estimar o seu TDEE, mas obter dados do seu próprio corpo lhe dará o valor real.</p>\n<p>Eu entendo, calcular esses números pode ser chato, especialmente se a matemática não for a sua praia. Mas ei, a Google Fitness API está aqui para te ajudar nessa!</p>\n<p>Neste post, mostraremos como usar a Google Fitness API para calcular o seu TDEE e acompanhar o seu progresso ao longo do tempo.</p>\n<p>Claro, para que isso funcione, você precisa monitorar consistentemente o seu peso e ingestão de alimentos. Eu recomendo obter uma balança de bioimpedância, que pode medir o seu peso, percentual de gordura corporal e massa muscular e o aplicativo <a href=\"https://lifesum.com/\" target=\"_blank\" rel=\"noreferrer\">Lifesum</a> para rastrear a sua alimentação.</p>\n<h2 id=\"usando-a-google-fitness-api\" style=\"position:relative;\"><a href=\"#usando-a-google-fitness-api\" aria-label=\"usando a google fitness api permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando a Google Fitness API</h2>\n<p>Já entendeu o básico sobre o TDEE? Show, agora vamos mergulhar em como podemos obter essas informações usando a Google Fitness API. Essa ferramenta bacana permite que programadores obtenham dados do Google Fit – esse é o aplicativo que coleta informações de saúde do seu telefone, smartwatches e outros aplicativos.</p>\n<p>Para começar com a Google Fitness API, primeiro, vá ao Google Cloud Console e ative a Fitness API. Depois, precisaremos criar credenciais para o nosso projeto, para podermos acessar a API. Para obter mais detalhes, consulte o <a href=\"https://developers.google.com/fit/rest/v1/get-started?hl=pt-br\" target=\"_blank\" rel=\"noreferrer\">Guia de primeiros passos</a>.</p>\n<p>Uma vez que tudo esteja configurado, é só usar a API para colocar as mãos em alguns dados suculentos do Google Fit. Estamos falando de estatísticas de peso e alimentação, que nos ajudarão a acertar o cálculo do nosso TDEE.</p>\n<h2 id=\"recuperando-e-analisando-os-dados\" style=\"position:relative;\"><a href=\"#recuperando-e-analisando-os-dados\" aria-label=\"recuperando e analisando os dados permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recuperando e Analisando os Dados</h2>\n<p>Agora que temos a nossa Google Fitness API configurada e pronta para usar, é hora de começar a recuperar e analisar os dados de que precisamos para calcular o nosso TDEE. O primeiro passo é fazer uma solicitação à API, pedindo os nossos dados de peso e nutrição dos últimos 30 dias.</p>\n<p>Aqui está um exemplo de como essa solicitação pode ser feita:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> google <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'googleapis'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> auth <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> google<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span><span class=\"token function\">fromJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TOKEN_TYPE</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">client_id</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">CLIENT_ID</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">client_secret</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">CLIENT_SECRET</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">refresh_token</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">REFRESH_TOKEN</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  auth<span class=\"token punctuation\">.</span>scopes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token string\">'https://www.googleapis.com/auth/fitness.nutrition.read'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'https://www.googleapis.com/auth/fitness.body.read'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n  <span class=\"token keyword\">const</span> endDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> startDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  startDate<span class=\"token punctuation\">.</span><span class=\"token function\">setDate</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// past 30 days</span>\r\n  <span class=\"token keyword\">const</span> startTimeNs <span class=\"token operator\">=</span> startDate<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> endTimeNs <span class=\"token operator\">=</span> endDate<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> weightData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchDataForDataSource</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token string\">'derived:com.google.weight:com.google.android.gms:merge_weight'</span><span class=\"token punctuation\">,</span>\r\n    auth<span class=\"token punctuation\">,</span>\r\n    startTimeNs<span class=\"token punctuation\">,</span>\r\n    endTimeNs\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> fatPercentageData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchDataForDataSource</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token string\">'derived:com.google.body.fat.percentage:com.google.android.gms:merged'</span><span class=\"token punctuation\">,</span>\r\n    auth<span class=\"token punctuation\">,</span>\r\n    startTimeNs<span class=\"token punctuation\">,</span>\r\n    endTimeNs\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> nutritionData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchDataForDataSource</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token string\">'derived:com.google.nutrition:com.google.android.gms:merged'</span><span class=\"token punctuation\">,</span>\r\n    auth<span class=\"token punctuation\">,</span>\r\n    startTimeNs<span class=\"token punctuation\">,</span>\r\n    endTimeNs\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>A função <code class=\"language-text\">google.auth.fromJSON</code> é usada para criar um objeto de autenticação que pode ser utilizado para fazer solicitações à Google Fitness API. Em seguida, definimos os escopos para os quais queremos solicitar dados, que neste caso são <code class=\"language-text\">https://www.googleapis.com/auth/fitness.nutrition.read</code> e <code class=\"language-text\">https://www.googleapis.com/auth/fitness.body.read</code>. Depois disso, definimos a data de início e a data de término para a nossa solicitação, que são 30 dias atrás e hoje, respectivamente. Finalmente, chamamos a função <code class=\"language-text\">fetchDataForDataSource</code> três vezes, uma para os dados de peso, uma para os dados de percentual de gordura e uma para os dados de nutrição.</p>\n<p>Mas o que a função <code class=\"language-text\">fetchDataForDataSource</code> faz? Vamos dar uma olhada:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fitness <span class=\"token operator\">=</span> google<span class=\"token punctuation\">.</span><span class=\"token function\">fitness</span><span class=\"token punctuation\">(</span><span class=\"token string\">'v1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchDataForDataSource</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dataSourceId<span class=\"token punctuation\">,</span> auth<span class=\"token punctuation\">,</span> startTimeNs<span class=\"token punctuation\">,</span> endTimeNs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fitness<span class=\"token punctuation\">.</span>users<span class=\"token punctuation\">.</span>dataSources<span class=\"token punctuation\">.</span>datasets<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">userId</span><span class=\"token operator\">:</span> <span class=\"token string\">'me'</span><span class=\"token punctuation\">,</span>\r\n    dataSourceId<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">datasetId</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startTimeNs<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>endTimeNs<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    auth<span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com a API de fitness do <code class=\"language-text\">googleapis</code>, podemos fazer solicitações à Google Fitness API. Neste caso, estamos usando o método <code class=\"language-text\">users.dataSources.datasets.get</code> para obter dados de uma fonte de dados específica. Passamos o <code class=\"language-text\">userId</code> como <code class=\"language-text\">me</code> para obter dados do usuário atual, o <code class=\"language-text\">dataSourceId</code> que queremos obter dados, e o <code class=\"language-text\">datasetId</code>, que é uma combinação do horário de início e término em nanossegundos. Finalmente, passamos o objeto de autenticação que criamos anteriormente.</p>\n<h2 id=\"agregando-os-dados\" style=\"position:relative;\"><a href=\"#agregando-os-dados\" aria-label=\"agregando os dados permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Agregando os Dados</h2>\n<p>Vamos dar uma olhada nos dados que recebemos da Google Fitness API:</p>\n<h3 id=\"weight\" style=\"position:relative;\"><a href=\"#weight\" aria-label=\"weight permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Weight</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"minStartTimeNs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690662651313000000\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"maxEndTimeNs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1691008251313000000\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"dataSourceId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"derived:com.google.weight:com.google.android.gms:merge_weight\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"point\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"startTimeNanos\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690961397000000000\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"endTimeNanos\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690961397000000000\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"dataTypeName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.google.weight\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"originDataSourceId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"raw:com.google.weight:cn.fitdays.fitdays:\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">77.59</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"mapVal\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n        <span class=\"token punctuation\">}</span>\r\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"modifiedTimeMillis\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690963181330\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"fat-percentage\" style=\"position:relative;\"><a href=\"#fat-percentage\" aria-label=\"fat percentage permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fat Percentage</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"minStartTimeNs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690662651313000000\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"maxEndTimeNs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1691008251313000000\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"dataSourceId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"derived:com.google.body.fat.percentage:com.google.android.gms:merged\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"point\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"startTimeNanos\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690961397000000000\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"endTimeNanos\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690961397000000000\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"dataTypeName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.google.body.fat.percentage\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"originDataSourceId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"raw:com.google.body.fat.percentage:cn.fitdays.fitdays:\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"mapVal\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n        <span class=\"token punctuation\">}</span>\r\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"modifiedTimeMillis\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690963181468\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"nutrition\" style=\"position:relative;\"><a href=\"#nutrition\" aria-label=\"nutrition permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nutrition</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"minStartTimeNs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690662651313000000\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"maxEndTimeNs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1691008251313000000\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"dataSourceId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"derived:com.google.nutrition:com.google.android.gms:merged\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"point\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"startTimeNanos\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690961397000000000\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"endTimeNanos\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690961397000000000\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"dataTypeName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.google.nutrition\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"originDataSourceId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"raw:com.google.nutrition:com.sillens.shapeupclub:health_platform\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"mapVal\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"fat.total\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">16.349998474121094</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sodium\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"potassium\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"fat.unsaturated\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"fat.saturated\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">13.34999942779541</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"protein\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">5.25</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"carbs.total\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">60.45000076293945</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cholesterol\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"calories\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">412.5</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sugar\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">42.599998474121094</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n              <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dietary_fiber\"</span><span class=\"token punctuation\">,</span>\r\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token property\">\"fpVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n          <span class=\"token punctuation\">]</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"intVal\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"mapVal\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"stringVal\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Salted caramel cornetto\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"mapVal\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n        <span class=\"token punctuation\">}</span>\r\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"modifiedTimeMillis\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1690805813623\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Como você pode ver, os dados estão num formato que não é muito fácil de trabalhar. Precisamos analisar esses dados e agregá-los num formato utilizável.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> curatedWeightData <span class=\"token operator\">=</span> <span class=\"token function\">extractBodyData</span><span class=\"token punctuation\">(</span>weightData<span class=\"token punctuation\">,</span> <span class=\"token string\">'weight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> curatedFatPercentageData <span class=\"token operator\">=</span> <span class=\"token function\">extractBodyData</span><span class=\"token punctuation\">(</span>fatPercentageData<span class=\"token punctuation\">,</span> <span class=\"token string\">'fatPercentage'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> curatedNutritionData <span class=\"token operator\">=</span> <span class=\"token function\">aggregateNutritionData</span><span class=\"token punctuation\">(</span><span class=\"token function\">extractNutritionData</span><span class=\"token punctuation\">(</span>nutritionData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Após usar essas funções misteriosas, os seus dados ficarão assim:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>curatedWeightData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// [{ date: '02/08/2023', weight: 77.5999984741211 }]</span>\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>curatedFatPercentageData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// [{ date: '02/08/2023', fatPercentage: 20 }]</span>\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>curatedNutritionData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// [{ date: '02/08/2023', foods: ['Salted caramel cornetto'], protein: 5.25, fat: 16.349998474121094, carbs: 60.45000076293945, fiber: 0, sugar: 42.599998474121094 }]</span></code></pre></div>\n<p>Ok, agora vamos escrever as funções que fazem essa mágica, ou melhor, vamos pedir ao Chat GPT para fazer isso para nós.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">nanosToDateString</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nanos</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> milliseconds <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>nanos<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>milliseconds<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleDateString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'en-GB'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">extractBodyData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">jsonArray<span class=\"token punctuation\">,</span> type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> jsonArray<span class=\"token punctuation\">.</span>point<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dataPoint</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token function\">nanosToDateString</span><span class=\"token punctuation\">(</span>dataPoint<span class=\"token punctuation\">.</span>startTimeNanos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> dataPoint<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>fpVal<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> date<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>type<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E para a agregação de dados nutricionais:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">aggregateNutritionData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nutritionArray</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> aggregatedData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  nutritionArray<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nutrition</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> date<span class=\"token punctuation\">,</span> foodName<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>nutritionValues <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> nutrition<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>aggregatedData<span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      aggregatedData<span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        date<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">foods</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>foodName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token operator\">...</span>nutritionValues<span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n      aggregatedData<span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>foods<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>foodName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n      Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>nutritionValues<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>nutritionValues<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n          aggregatedData<span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> nutritionValues<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>aggregatedData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A última coisa a fazer é mesclar essas 3 matrizes em uma e classificá-la por data.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">mergeDataArrays</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>arrays</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> mergedData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  arrays<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">array</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    array<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> date<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>rest <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> item<span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>mergedData<span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        mergedData<span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> date<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>rest <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span>mergedData<span class=\"token punctuation\">[</span>date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> rest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>mergedData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">mergeDataArrays</span><span class=\"token punctuation\">(</span>curatedWeightData<span class=\"token punctuation\">,</span> curatedFatPercentageData<span class=\"token punctuation\">,</span> curatedNutritionData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// [{\"date\":\"02/08/2023\",\"weight\":77.5999984741211,\"fatPercentage\":20,\"foods\":[\"Salted caramel cornetto\"],\"protein\":5.25,\"fat\":16.349998474121094,\"carbs\":60.45000076293945,\"fiber\":0,\"sugar\":42.599998474121094}]</span></code></pre></div>\n<p><del>Tudo bem, é hora de usar esses dados para obter algumas informações.</del> Na verdade, precisamos de mais uma coisa antes de podermos fazer isso.</p>\n<h2 id=\"massa-muscular-e-composicao-de-gordura-corporal\" style=\"position:relative;\"><a href=\"#massa-muscular-e-composicao-de-gordura-corporal\" aria-label=\"massa muscular e composicao de gordura corporal permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Massa muscular e composição de gordura corporal</h2>\n<p>Antes de mergulhar nos cálculos, precisamos entender como o músculo e a gordura estão distribuídos no corpo.</p>\n<p>Eu queria descobrir quantas calorias existem em 1kg de músculo e 1kg de gordura, então comecei a procurar livros no <a href=\"https://www.google.com/books\" target=\"_blank\" rel=\"noreferrer\">Google Books</a> para encontrar a composição exata do tecido muscular e da gordura, e encontrei algumas informações em <a href=\"https://www.google.com/books/edition/The_Nutritionist/olIsBgAAQBAJ?hl=en&#x26;gbpv=1&#x26;pg=PA148&#x26;printsec=frontcover\" target=\"_blank\" rel=\"noreferrer\">The Nutritionist Food, Nutrition, and Optimal Health By Robert Wildman</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.71875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQoz3WRS4+iUBSE+xebuCBR4/PvTFy4cKkhKkZU5KmJROV1CQJyLxcQFAkyaXWc6emZ2n+nqk59IISWy6XjOOfzeTwe/3hoNBrFcRxFkeu6zEOLxcIwDIxxlmXFL31cr1eO4wzDgBDOZrPhcDgYDCaTSRiGURQBAEiSpCiKJElZlk+nU5IkRVHc7/cXzDAMAMDzPEmSeJ7nOI7n+SAI4jg+HA6NRqNarRIEQdO07/uXy+W38+12kyTJMAzXdS3Lwhj7vg8A8H3/CbdarXq9XqlU5vM5xphhGFEUdV2PougjTVOO4wAAjuNgjJ8nEULfYZqmMcbT6XS1WgmC4HneK7Zpmn/Cnuf90xkhJMvydrsVRfETfju7rvuGIYQY4yRJFEVpt9tv2Pd9lmUlSbIsKwzDz87fY0MI/9eZZdn1eg0hfMGCIPwV+w0ritLpdJrNZq1We8Z+fvs1VZZlm81G13XbtiGEeZ5nWeY4DkIojuPdbkcQRLlcLpVKFEUhhJ47v6YqikJVVQAAxtg0TU3TVFU1DCMMwyAIbNvu9/u9Xq/b7SqKghBK0/QLnOd5URRxHMuyrGna4aEoip5v3+/3CCHXdY/HY/FVPwEsxGsqnk8+zAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"muscle and fat composition\"\n        title=\"muscle and fat composition\"\n        src=\"/static/78e0682ff9af97a8ebc8b291b53f97a9/42a19/muscle-and-fat-composition.png\"\n        srcset=\"/static/78e0682ff9af97a8ebc8b291b53f97a9/e3135/muscle-and-fat-composition.png 256w,\n/static/78e0682ff9af97a8ebc8b291b53f97a9/06341/muscle-and-fat-composition.png 512w,\n/static/78e0682ff9af97a8ebc8b291b53f97a9/42a19/muscle-and-fat-composition.png 1024w,\n/static/78e0682ff9af97a8ebc8b291b53f97a9/775e3/muscle-and-fat-composition.png 1189w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Mas eu ainda precisava saber qual é o custo energético para construir esse 1kg de músculo e 1kg de gordura, então, para isso, perguntei ao ChatGPT (em inglês e traduzido para essa postagem).</p>\n<blockquote>\n<p>Olá. Qual é a composição exata em porcentagens de 1kg de músculo esquelético e 1kg de tecido adiposo? Além disso, forneça a fonte da informação. Por favor, me dê uma resposta curta, obrigado.</p>\n</blockquote>\n<blockquote>\n<p>Claro! Aqui está uma resposta curta para a composição geral de 1kg de músculo esquelético e 1kg de tecido adiposo:</p>\n<p>Músculo Esquelético (1kg):</p>\n<ul>\n<li>Água: ~75%</li>\n<li>Proteína: ~20%</li>\n<li>Gorduras: ~5%</li>\n<li>Outros (minerais, glicogênio, etc.): Quantidades vestigiais</li>\n</ul>\n<p>Tecido Adiposo (1kg):</p>\n<ul>\n<li>Lipídios: ~80-90%</li>\n<li>Água: ~10-20%</li>\n<li>Proteína: ~2%</li>\n<li>Outros (minerais, etc.): Quantidades vestigiais</li>\n</ul>\n<p>Por favor, note que esses valores podem variar dependendo de fatores como idade, sexo, dieta e saúde geral. A informação é baseada no entendimento científico geral e pode ser encontrada em vários livros de fisiologia e anatomia humana, como “Human Anatomy &#x26; Physiology” de Elaine N. Marieb e Katja Hoehn.</p>\n</blockquote>\n<blockquote>\n<p>E qual é a eficiência de síntese em porcentagem para construir 1 grama de proteína muscular e 1 grama de lipídios? Além disso, forneça a fonte da informação. Por favor, me dê uma resposta curta, obrigado.</p>\n</blockquote>\n<blockquote>\n<p>A eficiência de síntese para construir proteína muscular e lipídios varia amplamente dependendo de fatores como espécie, dieta, idade e saúde. No entanto, uma estimativa geral pode ser fornecida:</p>\n<ul>\n<li>Para proteína muscular, a eficiência é geralmente em torno de 20-25%. Isso significa que apenas cerca de 20-25% dos aminoácidos consumidos são incorporados à proteína muscular.</li>\n<li>Para lipídios, a eficiência de conversão de gorduras dietéticas pode ser maior, em torno de 90-95%.</li>\n</ul>\n<p>Esses números são estimativas aproximadas e podem variar significativamente. A informação é derivada do conhecimento geral em bioquímica nutricional e pode ser encontrada em livros como “Biochemical, Physiological, and Molecular Aspects of Human Nutrition” de Martha H. Stipanuk e Marie A. Caudill, e artigos científicos sobre o assunto. Sempre consulte pesquisas específicas ou um profissional da área para informações mais precisas adaptadas a uma situação particular.</p>\n</blockquote>\n<p>Legal. Vamos fazer alguns cálculos agora!</p>\n<h3 id=\"calculo-do-musculo\" style=\"position:relative;\"><a href=\"#calculo-do-musculo\" aria-label=\"calculo do musculo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cálculo do músculo</h3>\n<p>Agora que sabemos que um quilograma de músculo é composto por 20% de proteína e 5% de gordura. Com 1g de proteína tendo 4 calorias e 1g de gordura contendo 9 calorias, isso significa que 1kg de músculo tem 800 calorias de proteína e 450 de gordura, totalizando 1250 calorias.</p>\n<h3 id=\"calculo-de-gordura\" style=\"position:relative;\"><a href=\"#calculo-de-gordura\" aria-label=\"calculo de gordura permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cálculo de gordura</h3>\n<p>Quanto à gordura, um quilograma é composto por 85% de lipídios e 2% de proteína. Com 1g de lipídios tendo 9 calorias, 1g de proteína tendo 4 calorias, isso significa que 1kg de gordura tem 7650 calorias de lipídios e 80 calorias de proteína, totalizando 7730 calorias.</p>\n<h3 id=\"custo-de-sintese\" style=\"position:relative;\"><a href=\"#custo-de-sintese\" aria-label=\"custo de sintese permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Custo de síntese</h3>\n<p>Quando se trata de construir os componentes essenciais do nosso corpo, a eficiência varia para diferentes substâncias.</p>\n<p>Para proteínas, a eficiência do nosso corpo é de cerca de ~23%. Isso significa que para cada 1g de proteína, que tem 4kcal, precisamos de cerca de ~17kcal para produzi-la. Pense assim: 4kcal vão para os aminoácidos reais na proteína, e as outras 13kcal são a energia usada no processo de construção.</p>\n<p>Agora, os lipídios são uma história diferente. Nosso corpo é um pouco mais eficiente aqui, em ~93%. Então, para 1g de lipídios, que tem 9kcal, só leva cerca de 10kcal para produzi-lo. São 9kcal para os aminoácidos nos lipídios, e apenas 1kcal para a síntese.</p>\n<h3 id=\"calculando-o-custo-energetico\" style=\"position:relative;\"><a href=\"#calculando-o-custo-energetico\" aria-label=\"calculando o custo energetico permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Calculando o custo energético</h3>\n<p>Então, vamos entender todos esses números e ver o que eles significam para o custo energético de construir músculo e gordura.</p>\n<p>Para o músculo, temos 1kg com 200g de proteína e 50g de lipídios. Como leva cerca de 17kcal para fazer 1g de proteína e 10kcal para 1g de lipídios, o custo energético total para 1kg de músculo é:</p>\n<ul>\n<li>Proteína: 200 x 17 = 3400kcal</li>\n<li>Gordura: 50 x 10 = 500kcal</li>\n<li>Total Geral: 3400 + 500 = 3900kcal</li>\n</ul>\n<p>Agora, para a gordura corporal, com 1kg tendo 850g de lipídios e 20g de proteína, o custo energético total é:</p>\n<ul>\n<li>Lipídios: 850 x 10 = 8500kcal</li>\n<li>Proteína: 20 x 17 = 340kcal</li>\n<li>Total Geral: 8500 + 340 = 8840kcal</li>\n</ul>\n<p>Então, aí está! Com esses números, vou adicionar as seguintes constantes ao meu código:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token constant\">CALORIES_STORED_KG_FAT</span> <span class=\"token operator\">=</span> <span class=\"token number\">7730</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">CALORIES_BUILD_KG_FAT</span> <span class=\"token operator\">=</span> <span class=\"token number\">8840</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">CALORIES_STORED_KG_MUSCLE</span> <span class=\"token operator\">=</span> <span class=\"token number\">1250</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">CALORIES_BUILD_KG_MUSCLE</span> <span class=\"token operator\">=</span> <span class=\"token number\">3900</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Lembrete rápido de que essas são todas estimativas, e os números reais podem variar dependendo da composição do seu corpo, dieta e outros fatores. Além disso, eu não sou médico nem nutricionista, então, por favor, não tome isso como um conselho médico.</p>\n<h2 id=\"calculando-o-tdee\" style=\"position:relative;\"><a href=\"#calculando-o-tdee\" aria-label=\"calculando o tdee permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Calculando o TDEE</h2>\n<p>Agora que temos os nossos dados de peso e percentual de gordura analisados e agregados em um formato utilizável, podemos começar a calcular o nosso TDEE.</p>\n<p>Para calcular o seu TDEE, siga estas etapas:</p>\n<ol>\n<li>Obtenha o número total de calorias consumidas durante o período de 30 dias.</li>\n<li>Calcule a diferença de peso entre o início e o fim do período de 30 dias.</li>\n<li>Converta a diferença de peso em calorias multiplicando-a pelo número de músculo/gordura ganho/perdido.</li>\n<li>Subtraia o resultado da etapa 3 do total de calorias consumidas no período de 30 dias.</li>\n<li>Divida o resultado da etapa 4 por 30 para obter a sua ingestão média diária de calorias, que deve ser o seu TDEE.</li>\n</ol>\n<p>Aqui está o código para calcular o TDEE e mais usando o código:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">calculateStatistics</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dataArray</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> totalDays <span class=\"token operator\">=</span> dataArray<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n    totalFat<span class=\"token punctuation\">,</span>\r\n    totalFiber<span class=\"token punctuation\">,</span>\r\n    totalCarbs<span class=\"token punctuation\">,</span>\r\n    finalWeight<span class=\"token punctuation\">,</span>\r\n    totalProtein<span class=\"token punctuation\">,</span>\r\n    totalCalories<span class=\"token punctuation\">,</span>\r\n    initialWeight<span class=\"token punctuation\">,</span>\r\n    initialFatPercentage<span class=\"token punctuation\">,</span>\r\n    finalFatPercentage<span class=\"token punctuation\">,</span>\r\n    initialDate<span class=\"token punctuation\">,</span>\r\n    finalDate<span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">accumulateData</span><span class=\"token punctuation\">(</span>dataArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n    fatDifference<span class=\"token punctuation\">,</span>\r\n    weightDifference<span class=\"token punctuation\">,</span>\r\n    muscleDifference<span class=\"token punctuation\">,</span>\r\n    fatDifferencePercentage<span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">calculateWeightDifference</span><span class=\"token punctuation\">(</span>initialWeight<span class=\"token punctuation\">,</span> finalWeight<span class=\"token punctuation\">,</span> initialFatPercentage<span class=\"token punctuation\">,</span> finalFatPercentage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> muscleCalories<span class=\"token punctuation\">,</span> fatCalories <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">calculateMuscleAndFatCalories</span><span class=\"token punctuation\">(</span>muscleDifference<span class=\"token punctuation\">,</span> fatDifference<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> tdee <span class=\"token operator\">=</span> <span class=\"token function\">calculateTDEE</span><span class=\"token punctuation\">(</span>totalCalories<span class=\"token punctuation\">,</span> muscleCalories<span class=\"token punctuation\">,</span> fatCalories<span class=\"token punctuation\">,</span> totalDays<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">*From </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>initialDate<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> to </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>finalDate<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">*\\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Days Range: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>totalDays<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">TDEE: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tdee<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> kcal</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Average Calories: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>totalCalories <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> kcal</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Average Protein: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>totalProtein <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> g</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Average Carbs: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>totalCarbs <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> g</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Average Fat: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>totalFat <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> g</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Average Fiber: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>totalFiber <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> g</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Weight Difference: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>weightDifference <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'+'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>weightDifference<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> kg (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>initialWeight<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>finalWeight<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Fat Difference: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fatDifference <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'+'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fatDifference<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> kg</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Non-Fat Difference: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>muscleDifference <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'+'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>muscleDifference<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> kg</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Fat Percentage Difference: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fatDifferencePercentage <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'+'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fatDifferencePercentage<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">%  (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>initialFatPercentage<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>finalFatPercentage<span class=\"token operator\">?.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Esta função retorna uma <code class=\"language-text\">string</code> com detalhes para um período de 30 dias, incluindo o número de dias, TDEE, ingestão média diária de calorias, proteínas, carboidratos, gordura e fibras, bem como as diferenças de peso, gordura, não gordura e percentual de gordura entre o início e o fim do período.</p>\n<p>Quanto às funções ausentes <code class=\"language-text\">accumulateData</code>, <code class=\"language-text\">calculateWeightDifference</code> e <code class=\"language-text\">calculateTDEE</code>, aqui estão elas:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">accumulateData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dataArray</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> lastOccurrence <span class=\"token operator\">=</span> dataArray<span class=\"token punctuation\">[</span>dataArray<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> firstOccurrence <span class=\"token operator\">=</span> dataArray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> accumulator <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">totalCalories</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">totalProtein</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">totalCarbs</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">totalFat</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">totalFiber</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">initialWeight</span><span class=\"token operator\">:</span> firstOccurrence<span class=\"token operator\">?.</span>weight<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">finalWeight</span><span class=\"token operator\">:</span> lastOccurrence<span class=\"token operator\">?.</span>weight<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">initialFatPercentage</span><span class=\"token operator\">:</span> firstOccurrence<span class=\"token operator\">?.</span>fatPercentage<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">finalFatPercentage</span><span class=\"token operator\">:</span> lastOccurrence<span class=\"token operator\">?.</span>fatPercentage<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">initialDate</span><span class=\"token operator\">:</span> firstOccurrence<span class=\"token operator\">?.</span>date <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">finalDate</span><span class=\"token operator\">:</span> lastOccurrence<span class=\"token operator\">?.</span>date <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n  dataArray<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    accumulator<span class=\"token punctuation\">.</span>totalCalories <span class=\"token operator\">+=</span> data<span class=\"token punctuation\">.</span>caloriesConsumed<span class=\"token punctuation\">;</span>\r\n    accumulator<span class=\"token punctuation\">.</span>totalProtein <span class=\"token operator\">+=</span> data<span class=\"token punctuation\">.</span>protein<span class=\"token punctuation\">;</span>\r\n    accumulator<span class=\"token punctuation\">.</span>totalCarbs <span class=\"token operator\">+=</span> data<span class=\"token punctuation\">.</span>carbs<span class=\"token punctuation\">;</span>\r\n    accumulator<span class=\"token punctuation\">.</span>totalFat <span class=\"token operator\">+=</span> data<span class=\"token punctuation\">.</span>fat<span class=\"token punctuation\">;</span>\r\n    accumulator<span class=\"token punctuation\">.</span>totalFiber <span class=\"token operator\">+=</span> data<span class=\"token punctuation\">.</span>fiber<span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> accumulator<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">calculateWeightDifference</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">initialWeight<span class=\"token punctuation\">,</span> finalWeight<span class=\"token punctuation\">,</span> initialFatPercentage<span class=\"token punctuation\">,</span> finalFatPercentage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> weightDifference <span class=\"token operator\">=</span> finalWeight <span class=\"token operator\">-</span> initialWeight<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> initialFat <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>initialFatPercentage <span class=\"token operator\">*</span> initialWeight<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> finalFat <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>finalFatPercentage <span class=\"token operator\">*</span> finalWeight<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> fatDifference <span class=\"token operator\">=</span> finalFat <span class=\"token operator\">-</span> initialFat<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> muscleDifference <span class=\"token operator\">=</span> weightDifference <span class=\"token operator\">-</span> fatDifference<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> fatDifferencePercentage <span class=\"token operator\">=</span> finalFatPercentage <span class=\"token operator\">-</span> initialFatPercentage<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> weightDifference<span class=\"token punctuation\">,</span> fatDifference<span class=\"token punctuation\">,</span> muscleDifference<span class=\"token punctuation\">,</span> fatDifferencePercentage <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">calculateTDEE</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">totalCalories<span class=\"token punctuation\">,</span> muscleCalories<span class=\"token punctuation\">,</span> fatCalories<span class=\"token punctuation\">,</span> totalDays</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> caloriesDifference <span class=\"token operator\">=</span> fatCalories <span class=\"token operator\">+</span> muscleCalories<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>totalCalories <span class=\"token operator\">-</span> caloriesDifference<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Como você pode ver, a função <code class=\"language-text\">calculateStatistics</code> chama a função <code class=\"language-text\">accumulateData</code> para obter o total de calorias, proteínas, carboidratos, gordura e fibras consumidas durante o período de 30 dias, bem como o peso inicial e final e o percentual de gordura.</p>\n<p>Em seguida, ela chama a função <code class=\"language-text\">calculateWeightDifference</code> para calcular as diferenças de peso, gordura, não gordura e percentual de gordura entre o início e o fim do período.</p>\n<p>Finalmente, ela chama a função <code class=\"language-text\">calculateTDEE</code> para calcular o TDEE.</p>\n<h2 id=\"enviar-os-dados-para-o-telegram\" style=\"position:relative;\"><a href=\"#enviar-os-dados-para-o-telegram\" aria-label=\"enviar os dados para o telegram permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Enviar os dados para o Telegram</h2>\n<p>Após calcular o seu TDEE, você pode querer compartilhar essa informação com outras pessoas, como um personal trainer ou um amigo. Uma maneira fácil de fazer isso é enviando os dados para um grupo de chat no Telegram. Isso pode ser feito usando a API do Bot do Telegram.</p>\n<p>Aqui está um exemplo de trecho de código que envia o resultado do TDEE para um grupo de chat no Telegram:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token function\">calculateStatistics</span><span class=\"token punctuation\">(</span>agragatedData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">await</span> <span class=\"token function\">nodeFetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://api.telegram.org/bot</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TELEGRAM_BOT_ID</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/sendMessage</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  text<span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">chat_id</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">TELEGRAM_GROUP_ID</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">parse_mode</span><span class=\"token operator\">:</span> <span class=\"token string\">'markdown'</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Neste código, estamos usando o pacote <code class=\"language-text\">node-fetch</code> para fazer uma requisição HTTP POST ao método sendMessage da API do Bot do Telegram. Passamos o resultado do TDEE como o campo de texto no corpo da requisição, junto com o chat_id do grupo do Telegram para o qual queremos enviar a mensagem. Também definimos o campo <code class=\"language-text\">parse_mode</code> como <code class=\"language-text\">markdown</code> para habilitar a formatação na mensagem.</p>\n<p>Note que, para usar esse código, você precisará definir as variáveis de ambiente <code class=\"language-text\">TELEGRAM_BOT_ID</code> e <code class=\"language-text\">TELEGRAM_GROUP_ID</code> com os valores apropriados.</p>\n<h2 id=\"bonus\" style=\"position:relative;\"><a href=\"#bonus\" aria-label=\"bonus permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bônus</h2>\n<p>Você pode copiar o texto que obteve deste script e enviá-lo para o ChatGPT para obter ainda mais insights 👀.</p>\n<blockquote>\n<p>Olá. O que você acha desses dados do meu acompanhamento de saúde pessoal dos últimos 30 dias ou mais? Você pode me dar uma análise curta e concisa sobre o que estou fazendo bem e onde devo melhorar? Obrigado\r\n&#x3C;- Meus Dados em Texto -></p>\n</blockquote>\n<blockquote>\n<p>Claro! Com base nos dados que você forneceu, aqui está uma análise breve:</p>\n<p>O Que Você Está Fazendo Bem:\r\nEquilíbrio Calórico: A sua ingestão calórica média está muito próxima do seu Gasto Energético Diário Total (TDEE), o que sugere que você está mantendo seu peso efetivamente.\r\nPerda de Peso: Você perdeu 0,80 kg no último mês, o que é uma taxa de perda de peso saudável e sustentável, se esse for o seu objetivo.\r\nIngestão de Proteína: A sua ingestão média de proteína parece estar em uma boa faixa, especialmente se você está praticando atividades físicas que requerem reparo e crescimento muscular.</p>\n<p>Áreas para Melhoria:\r\nAumento da Porcentagem de Gordura: O aumento na porcentagem de gordura e na massa gorda pode ser uma preocupação se você estiver buscando reduzir a gordura corporal. Isso pode estar relacionado ao tipo de alimentos que você está consumindo ou ao equilíbrio de macronutrientes.\r\nIngestão de Fibras: Sua ingestão média de fibras está um pouco baixa. Aumentar a ingestão de fibras consumindo mais grãos integrais, frutas e vegetais pode auxiliar na digestão e pode ajudar no controle do peso.</p>\n<p>Lembre-se, esses insights são baseados nos dados fornecidos e nas diretrizes gerais. As necessidades individuais podem variar amplamente, então é sempre uma boa ideia consultar um profissional de saúde ou nutricionista para obter orientação personalizada.</p>\n</blockquote>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Pronto, agora você sempre saberá exatamente qual é o seu TDEE. Você pode usar essa informação para ajustar a sua dieta e rotina de exercícios para alcançar os seus objetivos de fitness, você pode até colocar este script num fluxo de trabalho do GitHub Actions para executá-lo automaticamente todos os dias e enviar os resultados para um grupo de chat no Telegram.</p>\n<p>Se você quiser ver o código completo, <a href=\"https://github.com/blopa/google-fit-telegram/\" target=\"_blank\" rel=\"noreferrer\">você pode encontrá-lo no meu GitHub</a>, que inclui um workflow do GitHub Action que executa o script diariamente e envia os resultados para um chat do Telegram, portanto, sinta-se à vontade para simplesmente clonar o repositório e usá-lo.</p>\n<p>Espero que você tenha achado este artigo útil. Se tiver alguma dúvida ou comentário, fique à vontade para <a href=\"/pt-br/contact\">entrar em contato</a> ou deixar o sua opinião na seção de comentários abaixo.</p>","fields":{"slug":"/2023/2023-08-02-usando-google-fitness-api-para-calcular-meu-tdee-e-mais.pt-br/","path":"/blog/coding/usando-google-fitness-api-para-calcular-meu-tdee-e-mais/","locale":"pt-br"},"readingTime":{"minutes":16.46},"frontmatter":{"date":"2023-08-02T00:00:00.000Z","title":"Usando Google Fitness API para calcular meu TDEE e mais","categories":["coding"]}}},{"node":{"excerpt":"Gatsby é um gerador de sites estáticos popular que é…","html":"<p>Gatsby é um gerador de sites estáticos popular que é construído com React, e é o que eu uso para criar este blog. Com seu sistema de plugins poderoso, ele permite que os desenvolvedores adicionem facilmente recursos aos seus sites.</p>\n<p>Uma característica que pode ser adicionada são os endpoints da API, que podem ser usados para servir dados JSON ao cliente.</p>\n<p>Neste post, vamos ver como adicionar endpoints da API ao Gatsby v3, modificando o arquivo <code class=\"language-text\">gatsby-node.js</code>.</p>\n<p>Primeiro post de 2023, vamos lá!!</p>\n<h2 id=\"o-problema\" style=\"position:relative;\"><a href=\"#o-problema\" aria-label=\"o problema permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O problema</h2>\n<p>Em um site feito com Gatsby, os dados usados para construir as páginas geralmente são provenientes de uma variedade de fontes, como arquivos <code class=\"language-text\">Markdown</code> ou um headless CMS.</p>\n<p>No meu caso, todos os meus posts vêm de arquivos <code class=\"language-text\">Markdown</code>, e eu tenho alguns scripts personalizados para corresponder a posts relacionados, obter comentários do post do blog, etc.</p>\n<p>Como todos os meus dados estão armazenados “offline”, se eu quiser acessá-los em outra aplicação, eu teria que praticamente raspar o meu próprio site e isso não é bom.</p>\n<h2 id=\"a-solucao\" style=\"position:relative;\"><a href=\"#a-solucao\" aria-label=\"a solucao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A solução</h2>\n<p>Se eu criar um ponto final de API para o meu blog, então posso expor todos os dados que atualmente já são públicos e exibidos como <code class=\"language-text\">HTML</code>, mas fornecer como dados “brutos” JSON.</p>\n<p>Para adicionar endpoints da API a um site feito com Gatsby, precisamos aproveitar o método de ciclo de vida <code class=\"language-text\">onPostBuild</code> no arquivo <code class=\"language-text\">gatsby-node.js</code>. Este método é chamado depois que o site foi construído e nos permite realizar ações adicionais, como criar arquivos JSON.</p>\n<p>Como eu faço muitos scripts personalizados em todas as minhas páginas, estamos usando uma variável global chamada <code class=\"language-text\">jsonFiles</code> que será preenchida dinamicamente com dados da função <code class=\"language-text\">onCreatePage</code>.</p>\n<p>Isso será usado para armazenar os dados que queremos usar para criar os arquivos JSON e, em seguida, percorrer cada caminho no objeto <code class=\"language-text\">jsonFiles</code> e usar a ação createPage para criar uma nova página para cada caminho.</p>\n<p>Aqui está um exemplo de como estou fazendo isso:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> writeFileSync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> jsonFiles <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreatePage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> page <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    jsonFiles<span class=\"token punctuation\">[</span>page<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> page<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onPostBuild</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>jsonFiles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>filePath<span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> fileFullPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>\r\n            __dirname<span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'public'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token operator\">...</span>filePath<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">part</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> part<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>fileFullPath<span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"consumindo-os-dados-dos-endpoints-da-api\" style=\"position:relative;\"><a href=\"#consumindo-os-dados-dos-endpoints-da-api\" aria-label=\"consumindo os dados dos endpoints da api permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consumindo os dados dos endpoints da API</h2>\n<p>Agora que os endpoints da API foram criados, o próximo passo é consumir os dados do lado do cliente. Isso pode ser feito usando a função <code class=\"language-text\">fetch()</code>.</p>\n<p>Aqui está um exemplo de como usar <code class=\"language-text\">fetch()</code> para obter os dados do ponto final para este post do blog:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://pablo.gg/pt-br/blog/coding/criando-api-endpoints -para-o-meu-blog-em-gatsby.json'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token comment\">// { comments: [], html: '&lt;p>..&lt;/p>', language: 'pt-br', path: 'blog-path', postHashId: 'hash', relatedPosts: [], title: 'Titulo' }</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Adicionar pontos finais de API a um site Gatsby é uma tarefa simples, mas pode aumentar as possibilidades do seu site.</p>\n<p>Em breve (espero) compartilharei o que planejo fazer com minha própria API 👀</p>\n<p>Isso é tudo que tenho para vocês hoje, até a próxima!</p>","fields":{"slug":"/2023/2023-01-22-criando-api-endpoints-para-o-meu-blog-em-gatsby.pt-br/","path":"/blog/coding/criando-api-endpoints-para-o-meu-blog-em-gatsby/","locale":"pt-br"},"readingTime":{"minutes":2.52},"frontmatter":{"date":"2023-01-22T00:00:00.000Z","title":"Criando API endpoints  para o meu blog em Gatsby","categories":["coding"]}}},{"node":{"excerpt":"No ano passado, eu escrevi um post sobre onde encontrar os…","html":"<p>No ano passado, <a href=\"/pt-br/blog/general/um-guia-para-pular-de-pedras-em-benagil/\">eu escrevi um post sobre onde encontrar os melhores locais para pular de pedras em Benagil</a>, Portugal, e essa viagem despertou em mim o desejo de fazer mais mergulhos em penhascos. Fiquei emocionado ao saber que Amsterdam também oferece muitas oportunidades para essa atividade emocionante.</p>\n<p>Seja você um mergulhador experiente ou apenas procurando uma atividade nova e excitante, Amsterdam tem muitas opções para todos os níveis de habilidade.</p>\n<p>Nesse post, fornecerei uma visão geral das diferentes opções para mergulhar de “pedras” em Amsterdam, bem como algumas considerações importantes sobre segurança.</p>\n<h2 id=\"pulando-de-canais-e-pontes\" style=\"position:relative;\"><a href=\"#pulando-de-canais-e-pontes\" aria-label=\"pulando de canais e pontes permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pulando de canais e pontes</h2>\n<p>Os canais e pontes de Amsterdam oferecem ótimos locais para mergulhar, com alturas que variam de 1 a 11 metros. O Pythonbrug e Het Stenen Hoofd são dois locais populares para esta atividade.</p>\n<p>Embora possa não ser estritamente legal, é uma atividade comum entre moradores e turistas. As águas frescas dos canais proporcionam uma pausa refrescante do calor do verão, e as vistas do topo das pontes são de tirar o fôlego.</p>\n<h2 id=\"mergulho-em-piscinas-cobertas\" style=\"position:relative;\"><a href=\"#mergulho-em-piscinas-cobertas\" aria-label=\"mergulho em piscinas cobertas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mergulho em piscinas cobertas</h2>\n<p>Se você preferir um ambiente mais controlado, também pode conferir as opções de mergulho interno em Amsterdam. O Noorderparkbad e o Sloterparkbad têm piscinas adequadas para mergulho, e o Sloterparkbad ainda oferece aulas especializadas por meio do clube Indoor Cliff Diving.</p>\n<p>Este clube é uma ótima maneira de aprender novas técnicas e melhorar as suas habilidades num ambiente interno seguro.</p>\n<h2 id=\"aulas-do-indoor-cliff-diving\" style=\"position:relative;\"><a href=\"#aulas-do-indoor-cliff-diving\" aria-label=\"aulas do indoor cliff diving permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Aulas do Indoor Cliff Diving</h2>\n<p>Durante a aula, você vai começar aprendendo as técnicas básicas de mergulho num trampolim antes de passar para a plataforma de mergulho, que varia de 3 a 10 metros. A plataforma é um ambiente seguro e controlado, permitindo que você se concentre em aperfeiçoar o seu mergulho sem o estresse adicional de fatores externos.</p>\n<p>À medida que avança na aula, terá a oportunidade de experimentar diferentes mergulhos e aumentar a altura da plataforma. Antes que você perceba, você estará mergulhando com confiança de alturas de até 10 metros!</p>\n<p>O mergulho interno não é apenas uma atividade emocionante e única, mas também uma ótima maneira de desafiar a si mesmo e ganhar confiança. Além disso, o ambiente interno significa que você pode aproveitar esta atividade o ano todo, independentemente do clima.</p>\n<p>Os instrutores experientes do Indoor Cliff Diving irão ensinar-lhe as técnicas adequadas para um mergulho bem-sucedido.</p>\n<h2 id=\"precos-e-horarios\" style=\"position:relative;\"><a href=\"#precos-e-horarios\" aria-label=\"precos e horarios permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Preços e horários</h2>\n<p>O clube Indoor Cliff Diving se reúne todas as sextas e domingos no Sloterparkbad e oferece uma variedade de aulas para todos os níveis de habilidade.</p>\n<p>Se você é um iniciante procurando mergulhar pela primeira vez ou um mergulhador experiente procurando aperfeiçoar sua técnica, há uma aula para você.</p>\n<p><a href=\"https://indoorcliffdiving.com/#pricing\" target=\"_blank\" rel=\"noreferrer\">Os preços das aulas dependem do pacote que você escolher</a>, mas são bem acessíveis e valem a experiência.</p>\n<h2 id=\"seguranca-primeiro\" style=\"position:relative;\"><a href=\"#seguranca-primeiro\" aria-label=\"seguranca primeiro permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Segurança primeiro</h2>\n<p>Não importa onde você escolha mergulhar em Amsterdam, é importante manter a segurança em mente. Sempre verifique a profundidade da água antes de pular e certifique-se de seguir todas as regras ou diretrizes definidas pelo local onde você está mergulhando.</p>\n<p>Também é uma boa ideia ter um amigo de confiança com você para ajudar a localizá-lo e garantir a sua segurança.</p>\n<p>Com um pouco de cautela e bom senso, o mergulhar em Amsterdam pode ser uma atividade emocionante e agradável.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Mergulhar em Amsterdam é uma atividade emocionante e única que oferece uma forma única de conhecer a cidade e uma variedade de opções para todos os níveis de habilidade.</p>\n<p>Caso você escolha pular dos canais ou participar de uma aula no clube Indoor Cliff Diving, espero que você se divirta muito.</p>","fields":{"slug":"/2022/2022-12-28-um-guia-para-pular-de-pedras-em-amsterdam.pt-br/","path":"/blog/general/um-guia-para-pular-de-pedras-em-amsterdam/","locale":"pt-br"},"readingTime":{"minutes":2.975},"frontmatter":{"date":"2022-12-28T00:00:00.000Z","title":"Um guia para pular de \"pedras\" em Amsterdam","categories":["general"]}}},{"node":{"excerpt":"Final-fucking-mente, após 3 anos sem evento presencial, a E…","html":"<p>Final-fucking-mente, após 3 anos sem evento presencial, a E3 está voltando em 2023 e eu não consigo conter a minha alegria.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.203125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEBQP/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAe7rzGgoEysupa1SEy//xAAfEAACAQMFAQAAAAAAAAAAAAABAgMAITMEEBESIkL/2gAIAQEAAQUCW4UhtvhcnFahvET9ZTIGqTI1A2//xAAXEQEAAwAAAAAAAAAAAAAAAAABABAR/9oACAEDAQE/AQvZ/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAECAQE/AXS//8QAGxAAAQUBAQAAAAAAAAAAAAAAAQACEBEhMXH/2gAIAQEABj8CwrHAxSbweQQEwgVSuBH/xAAcEAADAAMAAwAAAAAAAAAAAAAAAREhMUFRYXH/2gAIAQEAAT8hmlEUlI3BpkVp8ONeYM5OyZgW/sgs2scNwiWC4OWx/9oADAMBAAIAAwAAABDcFXH/xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAQ/9oACAEDAQE/EKC9I3//xAAXEQEAAwAAAAAAAAAAAAAAAAABABAR/9oACAECAQE/EHCFpZ//xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMXFBsf/aAAgBAQABPxAhsOJiiRwVmDfmQVAUF9CYuSaIG7qa+Zt5lGjNvPzEFNBd9JjiDAiZiYVi7w1gKlnswICM/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eu enquanto escrevia este post\"\n        title=\"Eu enquanto escrevia este post\"\n        src=\"/static/0e93743a85e03fab3fe678df24268bce/63217/e3_selfie.jpg\"\n        srcset=\"/static/0e93743a85e03fab3fe678df24268bce/db830/e3_selfie.jpg 256w,\n/static/0e93743a85e03fab3fe678df24268bce/8102f/e3_selfie.jpg 512w,\n/static/0e93743a85e03fab3fe678df24268bce/63217/e3_selfie.jpg 1024w,\n/static/0e93743a85e03fab3fe678df24268bce/d58d1/e3_selfie.jpg 1536w,\n/static/0e93743a85e03fab3fe678df24268bce/09658/e3_selfie.jpg 2048w,\n/static/0e93743a85e03fab3fe678df24268bce/869dc/e3_selfie.jpg 2464w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu enquanto escrevia este post</figcaption>\n  </figure></p>\n<p>Há alguns meses, foi o aniversário de 10 anos da minha primeira E3, e <a href=\"/pt-br/blog/games/aniversario-de-10-anos-da-minha-primeira-e3/\">escrevi extensivamente sobre toda a minha experiência</a> com eventos passados e o porque eu acho que ainda precisamos da E3.</p>\n<p>A minha principal razão foi que um evento focado em jogos, com todos os principais anúncios de jogos induz o hype em todos, e embora você <a href=\"https://en.wikipedia.org/wiki/Don%27t_Believe_the_Hype\" target=\"_blank\" rel=\"noreferrer\">não deva acreditar no hype</a>, neste caso , o hype é bom, ajuda os jogos a atingir um público mais amplo que de outra forma não conseguiria.</p>\n<p>Eu sei que estou certo porque a Gamescom este ano foi simplesmente a E3, mas na Europa. Eu até estava planejando ir para lá este ano, mas achei que não seria tão legal ir sozinho, etc, e acabei cancelando meus planos, e agora me arrependo miseravelmente.</p>\n<p>ANYWAY</p>\n<p>Então, quando a E3 vai acontecer?</p>\n<h2 id=\"as-datas\" style=\"position:relative;\"><a href=\"#as-datas\" aria-label=\"as datas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>As datas</h2>\n<p>A E3 2023 acontecerá de 13 a 16 de junho, quatro dias após o evento pela primeira vez - pelo menos nos 10 anos em que eu estou participando.</p>\n<p>Não apenas isso, mas dois desses quatro dias serão dedicados à imprensa e negócios, algo que a ESA provavelmente aprendeu com a Gamescom.</p>\n<p>Os outros dois dias, chamados de “Gamer Days”, serão abertos ao público, e você poderá comprar seus ingressos em breve.</p>\n<p>Óbvio que eu já atualizei o meu <a href=\"https://pablo.gg/pt-br/e3/\" target=\"_blank\" rel=\"noreferrer\">Contador para E3</a> com as datas certas. Um pouco mais de 8 meses pro evento mais foda de videogames do ano.</p>\n<p>Vejo vocês lá!</p>","fields":{"slug":"/2022/2022-09-27-datas-da-e3-2023-sao-reveladas.pt-br/","path":"/blog/games/datas-da-e3-2023-sao-reveladas/","locale":"pt-br"},"readingTime":{"minutes":1.36},"frontmatter":{"date":"2022-09-27T00:00:00.000Z","title":"Datas da E3 2023 são reveladas","categories":["games"]}}},{"node":{"excerpt":"O mercado imobiliário em Amsterdam é doideira, tão doideira…","html":"<p>O mercado imobiliário em Amsterdam é doideira, tão doideira que <a href=\"https://www-dutchnews-nl.translate.goog/news/2022/06/dont-come-unless-you-have-a-place-to-live-universities-warn-international-students/?_x_tr_sl=en&#x26;_x_tr_tl=pt&#x26;_x_tr_hl=en&#x26;_x_tr_pto=wapp\" target=\"_blank\" rel=\"noreferrer\">as universidades estão dizendo aos estudantes para não virem para Amsterdam, a menos que já tenham um lugar para morar aqui</a>, e as coisas estão só piorando.</p>\n<p>Os preços dos aluguéis e compra de imóveis estão subindo como se não houvesse amanhã e, como Amsterdam é um centro de tecnologia, sempre tem um(a) programador(a) do Booking.com com dinheiro suficiente para qualquer valor no imóvel. O que fazer então?</p>\n<p>Bom, se você for bem rápido, pode marcar uma visita na casa assim que ela for listada online e, em seguida, fazer uma oferta que seja boa o suficiente para o proprietário aceitá-la antes de outras pessoas poderem ofertar também.</p>\n<p>A melhor maneira de ficar sabendo assim que uma casa for listada online é pagando uma assinatura a uma dessas agências de aluguel, e elas informarão quando uma nova casa for listada no seu e-mail.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.765625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACyklEQVQoz0WSSU8TAQCFJzFevGhiCBcTvakXPZH4Fzh4wAuJ4lJDQjQhEMAFoRHBCNRoi8hearFAWwMIpaULVKEL3ehKOzOdTtsprZ2Zzj60wsGAQQ4mL3mX9+UlLw+ACPZUIM6COAOXeJQtZ2kRo/g9kitghSyKgST3P0awKCvm9isgzgD/MAbG6QzNJ9kyFNqNDwwEpFLv5IS/97WrvcM7roK5ClRkIIJO4AxcoIfGLHOr/jQnnsBpWoC4Q0siHyowu2hu077p8wV1PzyyBbkp7ApiQYTkwZPagzRbsdgiHa1fGiSfkxQPgCRvS+QGFRPN9x++15pTwmFW/K0LxGSmzTZtR/OU9GtAG6KOEYKK5NbjRSyGEF3d8z2y5Qy/D+gCqOTeo87mlhmLyxBqL/B7DlAvNz925Hbc7qbo2E2l6oE1at1IRxe9ZxFc9Us8DqF5lBVgkgUieeqbM+zOl2EiFnJd5dJyOzQ6bbwDJp6vgB/CLol7/kbW36C3Dz+brJqzv3OjPCqKKUoACRaASTbDCAh9mEyadN/POD11htVahaamZ+pNl7S+pndMpmns0ao33N1aR6N6ZUKjn3av+MzhBFLiTwZLFClUOIpFjLODF43G851N5+aUV5Y0Er387sLM06GpekVfo2P9ujNSXXTc4jxP4B3TegxFShwA4nSqVLEnzPq1SzvG6rz3Mq85S23dZmgnGG0tC/OukFmx3D+yWquZvaCaq/oZV/qwbIoWQIIBkBIXzJIv+l52tl2T9tQp1N1LE6+W9HLVhm0jrN2MmxAypfOtvNUPd34aX1xUe2Gbbw8DcQYiWCBFC9tQTqk16w2ej5NWrSXeO24dmLINji73j6y1SNVbUawgHhnC2GIEzYh/kqUDpCScvg04tQxfyZUPs0I5zQowTiMUFy9S22DG5k9EcjhMsijFpUociNMQQUMEcwr/BZKnGjZP1yudAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"home finder banner\"\n        title=\"home finder banner\"\n        src=\"/static/fa1bf554d6509ee52be1e8a65cbfc25e/42a19/home_finder_banner.png\"\n        srcset=\"/static/fa1bf554d6509ee52be1e8a65cbfc25e/e3135/home_finder_banner.png 256w,\n/static/fa1bf554d6509ee52be1e8a65cbfc25e/06341/home_finder_banner.png 512w,\n/static/fa1bf554d6509ee52be1e8a65cbfc25e/42a19/home_finder_banner.png 1024w,\n/static/fa1bf554d6509ee52be1e8a65cbfc25e/e8464/home_finder_banner.png 1536w,\n/static/fa1bf554d6509ee52be1e8a65cbfc25e/ac7a9/home_finder_banner.png 1920w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Isso é ótimo, mas como eu queria receber notificações no Telegram e não queria gastar dinheiro porque <code class=\"language-text\">#frugallife</code>, <a href=\"/pt-br/blog/coding/usando-nodejs-e-github-action-para-encontrar-uma-casa-no-fundanl/\">eu escrevi um script para visitar o funda.nl e encontrar uma casa para mim</a>.</p>\n<p>Isso funcionou muito bem para mim, mas para pessoas sem habilidades de programação, configurar uma conta no GitHub e mexer com o GitHub Actions não é simples, então decidi criar um <a href=\"https://github.com/WeRules/home-finder\" target=\"_blank\" rel=\"noreferrer\">projeto gratuito e de código aberto chamado Home Finder</a> (um nome muito criativo, eu sei) que usa GitHub Actions e Google Forms para ajudar qualquer pessoa a encontrar uma nova casa.</p>\n<h2 id=\"startup\" style=\"position:relative;\"><a href=\"#startup\" aria-label=\"startup permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Startup?</h2>\n<p>Você deve estar se perguntando por que eu chamo isso de Startup, bem, <a href=\"https://www.reddit.com/r/Amsterdam/comments/6kvofb/whats_your_experience_been_with_rental_or_room/\" target=\"_blank\" rel=\"noreferrer\">existem várias empresas que prestam serviços como esse por uma taxa mensal</a>, então sim, acho que você pode simplesmente:</p>\n<ol>\n<li>Clonar meus projetos</li>\n<li>Implementa-los em seu próprio site</li>\n<li>????</li>\n<li>Profit</li>\n</ol>\n<p>Por que estou deixando isso gratuito e de código aberto, você pergunta? Bom, programar é divertido e eu fico feliz de estar ajudando outras pessoas.</p>\n<h2 id=\"o-plano-de-negocios\" style=\"position:relative;\"><a href=\"#o-plano-de-negocios\" aria-label=\"o plano de negocios permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O plano de negócios</h2>\n<p>Pagar aluguel em Amsterdam já é caro pra caramba, e com <a href=\"https://www.cnnbrasil.com.br/business/precos-do-gas-natural-sobem-a-medida-que-crise-energetica-da-europa-se-agrava/\" target=\"_blank\" rel=\"noreferrer\">os preços de aquecimento subindo mais rápido que Dogecoin</a>, pagar um serviço extra para encontrar uma casa é um custo a mais que seria melhor se fosse evitado, mas hospedar um site com um banco de dados e um backend para fazer o scraping não é grátis, o Droplet mais barato do Digital Ocean custa U$5 por mês - ainda assim mais barato do que a maioria das agências de aluguel.</p>\n<p>Felizmente, <a href=\"https://docs.github.com/pt/billing/managing-billing-for-github-actions/about-billing-for-github-actions#included-storage-and-minutes\" target=\"_blank\" rel=\"noreferrer\">GitHub Actions tem um nível gratuito de 2000 horas</a> para qualquer conta do GitHub, o que resolve o problema de ter um script fazendo o scraping de outros sites, show. Mas como os usuários podem enviar seus dados para que o script possa fazer o scraping para eles?</p>\n<p><a href=\"https://blog.webjeda.com/google-form-customize/\" target=\"_blank\" rel=\"noreferrer\">Existe uma gambiarra para usar o Google Forms como um formulário em qualquer site</a>, usando qualquer layout que você quiser, e todos os dados enviados nesse formulário serão armazenados em uma planilha do Google, que posteriormente pode ser baixada através do script de scraping para obter os dados do usuário e procurar casas. Maravilha!</p>\n<p>Então essa é a stack da Startup: GitHub Actions, GitHub Pages, Google Spreadsheet e Google Forms.</p>\n<p>Mas antes de fazer qualquer código, comecei a pensar no modelo de negócios e nos casos de uso e cheguei ao seguinte:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEYUlEQVQ4yzWP2U8bZxTF55/rY6WqAULAILUkaiOqLmmTPqQ0qZTS0DRKAG+z2C5ObWK8jE1Igg2BxMvstsfY4/GCt8/M2J7NQ4CkD6VUrlrp6ujq6J7f0YU8rOZidYSQUULCWMPN6R5Wc/8/LlZHaQVldDenuVn9P5MzRg6rQyijYZmupJmSZnrSLZTsIZTqGZ1qGDf0kt00XwuSdZjWELKPUCrGqP5UdYs5xKgBtM5KPdW4uLg4P//r9PREHihbeYDSqpvVPG/qHqLrz+vr7FGI7fRU47XYRylljZZ9XN/NqJCX6W/ycpjrRrLdKK9s8vpTboT3cLozLaG0ipE9ogxasiobJ21ZCdAdlDOdlIaxOjR6mDGwkR470wJKxJFMDqN0mFT2y308LzuIUYmbHqBk30X3PZzuJuQ4D9aZLuSiB25Kwughmkpt8LZYZSVcsrqJICmCi7/PdfO02JQ2OAll9FGMMxFC/v11YSvbWWckyEVKrtctNPUqIqxGq0i4goRrcFS0xcU/ojm/n+AiefUJLblY1cUM0TTlz7pCAuKm1p3EEeTmTlAiHy5aN6touOzcZtBdBouISKTixKv2QMHuTJIYc+zmTpA0GzxYiVUdURGOVa1eyg85M0drLIzXVzYE2wZvBUm8uRP0U8uRMhwqOiOCI3hgRVOUMyk8zaGbNRivILgI4yKCi3Zonc1SjfhuNsH0dmM5WMk8L+8E7C/uOeKLj/E7zvhirIaEBUe46AyLto2iLZxzhIp2vALjIgyRYF+uv1u6ln2rnQ20xv3UWu1IfFZ2BfjVQG41VLTHqki0DEercELwlguJs3qJLcUCgjVWQaAUiIO28iZWea+bZ2fG5O7jrNrYrvmflhwhAQmW0KCAhNqwd+/xTtD3xGbb9vviibVAyRoUUIg5+KrG+3KZPYF5c9bvdBq1QY86EG/ki/MlYb5Ynsuw17nlR/QD38pvvyze/XL113t3F75ZWp3jha+h49alQc6X2ElmUsm3/F7x+WopsdQvff6+NzFsTiiNJf1Z8NzyfGB99eCH23cXLmHLS1u+lTI59k66Amnty23mUYGgeWJvkNkFuZuH3Bzz8lbjYLySWdPENMjdVHw/H/q3EvijbPLjfhE3hKxSvzoE05AJLL3aVDNpl1Mv8y+WdOZFi/1eZCeGYKxduCeQC2zqg2J+vJGNq9VlA3wol1w1YvOotGB2xyGzOyUL11spa2F7sZm9DnLfdtNekIG7pRvFJzOBHy9XC5NKbaqwjw3qn6nNj0DhYZu/0+Aeaq1JyARTSu3Txj7czs+zL2+A8rjWnpQKt5rEfTq4iCPzcvVKr/JTanO5V7MY7dkq5RjUrxWSC8PODDTsWIbgSoO4k9/7Qu+MmZ1ZE1iOjyaMzvgQWP5UZ0DJEvF+RySuyhWLVPmkTN4e1KeBMH3cnR6FTWAxwLjenjTBrNGxjHDtGbMzO/x3VxrTh/zYcXfKBBa9Na23Lo/oXYvRsfwDMsh076WO9ywAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"youre safe now jamstack\"\n        title=\"youre safe now jamstack\"\n        src=\"/static/067740f521cc1df37c8f23330fbb435c/42a19/youre_safe_now_jamstack.png\"\n        srcset=\"/static/067740f521cc1df37c8f23330fbb435c/e3135/youre_safe_now_jamstack.png 256w,\n/static/067740f521cc1df37c8f23330fbb435c/06341/youre_safe_now_jamstack.png 512w,\n/static/067740f521cc1df37c8f23330fbb435c/42a19/youre_safe_now_jamstack.png 1024w,\n/static/067740f521cc1df37c8f23330fbb435c/e8464/youre_safe_now_jamstack.png 1536w,\n/static/067740f521cc1df37c8f23330fbb435c/2eb59/youre_safe_now_jamstack.png 2048w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"por-que-nao-usar-o-firebase\" style=\"position:relative;\"><a href=\"#por-que-nao-usar-o-firebase\" aria-label=\"por que nao usar o firebase permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Por que não usar o Firebase?</h2>\n<p>Porque não.</p>\n<h2 id=\"a-programacao\" style=\"position:relative;\"><a href=\"#a-programacao\" aria-label=\"a programacao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A programação</h2>\n<p>Para construir este site, comecei com o meu framework JAMStack favorito, o Gatsby. Eu praticamente apenas <a href=\"https://github.com/blopa/Resume-Builder\" target=\"_blank\" rel=\"noreferrer\">copio</a> e <a href=\"https://github.com/blopa/gatsby-material-ui-blog-starter\" target=\"_blank\" rel=\"noreferrer\">colo</a> o mesmo código de um projeto de Gatsby que eu já tenho para outro, e desta vez não foi diferente.</p>\n<p>O melhor do Gatsby é que posso buscar os dados na parte <code class=\"language-text\">node.js</code> do Gatsby e filtrar quaisquer dados que não queira enviar para o frontend, como o e-mail do usuário e o tcharam, sem vazamento de dados. Para este projeto, não precisei fazer isso, mas faço para este blog - então, sempre que um usuário deixa um comentário com seu e-mail em um post desse blo, esse e-mail nunca aparece na compilação do frontend.</p>\n<p>Este projeto terá 2 partes diferentes, o site feito em Gatsby, que durante o seu build vai pegar <a href=\"https://github.com/WeRules/home-finder/blob/main/src/utils/gatsby-node-helpers.js#L18\" target=\"_blank\" rel=\"noreferrer\">os dados do formulário do Google Forms usando o Node Fetch</a> e o script que <a href=\"https://github.com/WeRules/home-finder-script/blob/main/scraper.js#L17\" target=\"_blank\" rel=\"noreferrer\">baixará os dados da planilha do Google</a> e converte-los para uma Array com o <a href=\"https://www.npmjs.com/package/xlsx\" target=\"_blank\" rel=\"noreferrer\">xlsx</a>.</p>\n<p>Eu também quero ter certeza de que não enviarei duas vezes a mesma casa para o mesmo usuário, e para isso precisarei de um banco de dados para persistir as casas que já foram enviadas para esse usuário, para isso usarei simplesmente um <code class=\"language-text\">db. json</code> com a seguinte estrutura:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"user@email.com\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"https://somelink.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"https://otherlink.com\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"user2@email.com\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"https://linklink.com\"</span><span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Para persistir esses dados no repositório, usarei a <a href=\"https://github.com/stefanzweifel/git-auto-commit-action\" target=\"_blank\" rel=\"noreferrer\">GitHub Action git-auto-commit-action</a>. Isso é problemático porque agora qualquer pessoa pode acessar esse repositório e ver todos os e-mails e links dos usuários, e eu não posso deixar isso assim, então esse repositório precisa ser privado, mas você pode clonar <a href=\"https://github.com/WeRules/home-finder-script\" target=\"_blank\" rel=\"noreferrer\">este repositório</a> para sua própria conta do GitHub, se desejar.</p>\n<h2 id=\"limitacoes\" style=\"position:relative;\"><a href=\"#limitacoes\" aria-label=\"limitacoes permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Limitações</h2>\n<p>Como não quero usar mais do que o nível gratuito do GitHub Actions, estarei executando o script a cada hora, isso deve ser suficiente para não ultrapassar o limite mensal - bem, depende do número de usuários, é claro.</p>\n<p>Eu também tive que escrever manualmente os scripts de scraping para <a href=\"https://github.com/WeRules/home-finder-script/blob/main/scraper.js#L133\" target=\"_blank\" rel=\"noreferrer\">vários sites imobiliários diferentes</a>, então não é como se você pudesse receber notificações de qualquer site em qualquer lugar da Holanda.</p>\n<p>É por isso que fiz esse projeto ser grátis e de código aberto, para que pessoas possam implementar suas próprias versões e alterar a frequência do script de scraping para atender às suas necessidades.</p>\n<p>Há também uma chance de que qualquer um dos sites possa bloquear o user agent de raspá-los; nesse caso, você precisa ficar de olho nele e alterar o user agent, se necessário.</p>\n<h2 id=\"fazendo-o-deploy-de-sua-propria-versao\" style=\"position:relative;\"><a href=\"#fazendo-o-deploy-de-sua-propria-versao\" aria-label=\"fazendo o deploy de sua propria versao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fazendo o deploy de sua própria versão</h2>\n<p>Para fazer o deploy da sua própria versão, você precisará clonar 2 repositórios do GitHub, o <a href=\"https://github.com/WeRules/home-finder\" target=\"_blank\" rel=\"noreferrer\">Home Finder</a> e o <a href=\"https://github.com/WeRules/home-finder-script\" target=\"_blank\" rel=\"noreferrer\">Home Finder Script</a>. Se você realmente não precisa da parte do frontend, basta clonar o repositório do script.</p>\n<h3 id=\"o-frontend\" style=\"position:relative;\"><a href=\"#o-frontend\" aria-label=\"o frontend permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O frontend</h3>\n<p>Para o projeto <a href=\"https://github.com/WeRules/home-finder\" target=\"_blank\" rel=\"noreferrer\">Home Finder</a>, você precisará seguir as seguintes etapas:</p>\n<ol>\n<li>Clone o projeto usando o botão <code class=\"language-text\">Use this template</code> no GitHub e certifique-se de que o projeto permaneça público, caso contrário você não poderá fazer o deploy no GitHub Pages.</li>\n<li>Altere o <a href=\"https://github.com/WeRules/home-finder/blob/b79635bf04ed9161c425b37df0d95f5f80c9f449/gatsby-config.js#L13\" target=\"_blank\" rel=\"noreferrer\">siteUrl</a> e o <a href=\"https://github.com/WeRules/home-finder/blob/b79635bf04ed9161c425b37df0d95f5f80c9f449/gatsby-config.js#L6\" target=\"_blank\" rel=\"noreferrer\">pathPrefix</a> no Gatsby, para que o GitHub Actions possa fazer o deploy do projeto em <code class=\"language-text\">usuario.github.io/home-finder</code> corretamente.</li>\n<li>Crie um <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfNXZrkvG-in6kurmGRQt4SOt2xyDOautibKpC4PAeQElzrgQ/viewform\" target=\"_blank\" rel=\"noreferrer\">Formulários Google como este</a> com exatamente os mesmos nomes e tipos de campo.</li>\n<li>Obtenha o ID do formulário do Google Forms, por exemplo, <code class=\"language-text\">1FAIpQLSfNXZrkvG-in6kurmGRQt4SOt2xyDOautibKpC4PAeQElzrgQ</code> e adicione-o ao seu <a href=\"https://docs.github.com/pt/actions/reference/encrypted-secrets\" target=\"_blank\" rel=\"noreferrer\">secret do repositório</a> com o nome <code class=\"language-text\">GATSBY_GOOGLE_FORM_ID</code>.</li>\n<li>Envie suas alterações para o branch <code class=\"language-text\">main</code> e o site será buildado automaticamente ao dar push com git.</li>\n</ol>\n<h3 id=\"o-backend\" style=\"position:relative;\"><a href=\"#o-backend\" aria-label=\"o backend permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O backend</h3>\n<p>Para o projeto <a href=\"https://github.com/WeRules/home-finder-script\" target=\"_blank\" rel=\"noreferrer\">Home Finder Script</a>, você precisará seguir as seguintes etapas:</p>\n<ol>\n<li>Clone o projeto usando o botão <code class=\"language-text\">Use this template</code> no GitHub e certifique-se de alterar o projeto para privado, caso contrário você pode vazar dados do usuário.</li>\n<li>Atualize o <code class=\"language-text\">template.html</code> para usar o URL do seu próprio site\n<ol>\n<li>ou se você so quiser usar o script sem o site, você pode simplesmente remover o link no rodapé do e-mail.</li>\n</ol>\n</li>\n<li>Obtenha a planilha do Google do formulário criado anteriormente e certifique-se de <a href=\"https://support.google.com/a/users/answer/9308870\" target=\"_blank\" rel=\"noreferrer\">publicar a planilha do Google na web</a> e disponibilizá-la para qualquer pessoa com a ligação também.\n<ol>\n<li>ou se você so quiser usar o script sem o site, qualquer planilha do Google servirá, mas a planilha precisa ter os mesmos campos de cabeçalho que o formulário do Google Forms.</li>\n</ol>\n</li>\n<li>Obtenha o <code class=\"language-text\">ID</code> e o <code class=\"language-text\">Grid ID</code> da planilha do Google, por exemplo, <a href=\"https://docs.google.com/spreadsheets/d/1jRMEvfI6OsWUwnaHgH5UwnoikZA0a3s8wPnCortNJ_A/edit#gid=0\" target=\"_blank\" rel=\"noreferrer\">para esta planilha</a>, o <code class=\"language-text\">ID </code> é <code class=\"language-text\">1jRMEvfI6OsWUwnaHgH5UwnoikZA0a3s8wPnCortNJ_A</code> e o <code class=\"language-text\">Grid ID</code> é <code class=\"language-text\">0</code>.</li>\n<li>Adicione 5 novos <a href=\"https://docs.github.com/pt/actions/reference/encrypted-secrets\" target=\"_blank\" rel=\"noreferrer\">secret do repositório</a>:\n<ol>\n<li><code class=\"language-text\">EMAIL_USER</code>: O e-mail do Gmail que será usado para enviar e-mails.</li>\n<li><code class=\"language-text\">EMAIL_PASSWORD</code>: A senha da conta do Gmail. É altamente recomendável que você <a href=\"https://support.google.com/mail/answer/185833?hl=pt-BR\" target=\"_blank\" rel=\"noreferrer\">crie uma senha de aplicativo</a> para isso.</li>\n<li><code class=\"language-text\">GOOGLE_SPREADSHEET_ID</code>: O <code class=\"language-text\">ID</code> da planilha do Google.</li>\n<li><code class=\"language-text\">GOOGLE_SPREADSHEET_GID</code>: O <code class=\"language-text\">Grid ID</code> da Planilha Google.</li>\n<li><code class=\"language-text\">USER_AGENT</code>: O user-agent a ser usado pelo script scraper. Você pode usar <a href=\"https://www.whatismybrowser.com/detect/what-is-my-user-agent/\" target=\"_blank\" rel=\"noreferrer\">o seu próprio user-agent</a> se quiser.</li>\n</ol>\n</li>\n<li>Atualize <a href=\"https://github.com/WeRules/home-finder-script/blob/main/.github/workflows/run-task.yml#L5\" target=\"_blank\" rel=\"noreferrer\">a frequência do cron job</a> para atender às suas necessidades.</li>\n<li>Envie suas alterações para o branch <code class=\"language-text\">main</code> e o script será executado automaticamente conforme as configurações do cron job.</li>\n</ol>\n<h2 id=\"como-usar-o-site\" style=\"position:relative;\"><a href=\"#como-usar-o-site\" aria-label=\"como usar o site permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Como usar o site</h2>\n<p>Vá para a <a href=\"https://werules.github.io/home-finder/pt-br/form\" target=\"_blank\" rel=\"noreferrer\">página do formulário no site Home Finder</a>, e preencha o formulário com seu e-mail e todos os links dos sites imobiliários com seus parâmetros de pesquisa, por exemplo <a href=\"https://www.funda.nl/en/huur/amsterdam/beschikbaar/0-2000/40+woonopp/2+slaapkamers/1-dag/\" target=\"_blank\" rel=\"noreferrer\">https://www.funda.nl/en/huur/amsterdam/beschikbaar/0-2000/40+woonopp/2+slaapkamers/1-dag/</a> e clique em enviar. Depois disso, basta aguardar o script encontrar novas casas e enviá-las diretamente para o seu e-mail.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.04687499999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVQoz5WOz0vDMBiGs9687OT/6kVED20duE1mxZP4Z3gqaBlanHofDBFtl/4Ky5JsSb6MTeIuFlHWh4eP9/Lxvmj/ZtC+Pm8FHgpc59JvBZ5z1XEuPNQ//kune9LuH+0NDpAXhW4UHoa3fhz1Xh/Pnh96L/b6o6E/Gp5+6z9Z3Tja6sdRN77vxHfoYzzBb+/JeCIKsmICKNOU6Rkzc75iwlAOlNkwF5v1elMH5YRm5SwnFBckzao0qxJcJVmZ4HKakzS3eZoTXJCFVFLrnyIhuDEGQBsD/wmg6mitEcYZAOgdgF8gzrnWWjXHNifJp5RLO3yn+toQVFaEC8UXIJbQFCSlUgq2Nn3+AvUADjHqpB6FAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"home finder form page\"\n        title=\"home finder form page\"\n        src=\"/static/bc9c639baec65c912d862fee2d78adae/42a19/home_finder_form_page.png\"\n        srcset=\"/static/bc9c639baec65c912d862fee2d78adae/e3135/home_finder_form_page.png 256w,\n/static/bc9c639baec65c912d862fee2d78adae/06341/home_finder_form_page.png 512w,\n/static/bc9c639baec65c912d862fee2d78adae/42a19/home_finder_form_page.png 1024w,\n/static/bc9c639baec65c912d862fee2d78adae/b0f6f/home_finder_form_page.png 1042w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Atualmente os sites suportados pelo meu projeto são: <a href=\"https://funda.nl\" target=\"_blank\" rel=\"noreferrer\">funda.nl</a>, <a href=\"https://vbo.nl\" target=\"_blank\" rel=\"noreferrer\">vbo.nl</a>, <a href=\"https://huislijn.nl\" target=\"_blank\" rel=\"noreferrer\">huislijn.nl</a>, <a href=\"https://zah.nl\" target=\"_blank\" rel=\"noreferrer\">zah.nl</a>, <a href=\"https://pararius.nl\" target=\"_blank\" rel=\"noreferrer\">pararius.nl</a>, <a href=\"https://jaap.nl\" target=\"_blank\" rel=\"noreferrer\">jaap.nl</a> e <a href=\"https://hoekstraenvaneck.nl\" target=\"_blank\" rel=\"noreferrer\">hoekstraenvaneck.nl</a>, então vá em frente e acesse esses sites, adicione seus filtros e adicione-os ao <a href=\"https://werules.github.io/home-finder/pt-br/\" target=\"_blank\" rel=\"noreferrer\">Home Finder</a>.</p>\n<p><strong>Lembre-se que</strong> este site é apenas <strong>metade do trabalho</strong>, você será notificado quando uma nova casa for anunciada, mas cabe a você agir rápido para ser o primeiro a reservar uma visita para aquela casa.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Com uma combinação de GitHub Actions, criatividade e algumas gambiarras, você pode fazer praticamente qualquer coisa sem gastar nenhum dinheiro inicialmente e se você ver que o seu projeto está dando certo, migrar ele para um servidor próprio com possibilidade de aguentar demandas maiores de usuários.</p>\n<p>Se você tiver uma boa ideia, faça o deploy dela no GitHub Pages, use o GitHub Actions, use o Google Spreadsheet (ok ok, ou Firebase) e inicie seu projeto a partir daí, se você usar mais do que o nível gratuito, provavelmente é um bom momento para começar a dimensionar, e talvez pensando em gerar alguma receita ou encontrar parceiros ou investidores para sua ideia.</p>\n<p>Boa sorte, e se você está procurando uma casa na Holanda, não se esqueça de usar o <a href=\"https://werules.github.io/home-finder/pt-br/\" target=\"_blank\" rel=\"noreferrer\">Home Finder</a> e recomendá-lo aos seus amigos.</p>\n<p>Nos vemos na próxima.</p>","fields":{"slug":"/2022/2022-09-13-criando-uma-startup-com-github-actions-e-google-forms.pt-br/","path":"/blog/coding/criando-uma-startup-com-github-actions-e-google-forms/","locale":"pt-br"},"readingTime":{"minutes":8.45},"frontmatter":{"date":"2022-09-13T00:00:00.000Z","title":"Criando uma Startup com GitHub Actions e Google Forms","categories":["coding"]}}},{"node":{"excerpt":"Há alguns meses atrás, eu publiquei um post no meu blog…","html":"<p>Há alguns meses atrás, eu publiquei um post no meu blog sobre <a href=\"/pt-br/blog/coding/como-acessar-o-estado-do-redux-de-um-production-build-usando-o-console-do-browser/\">como acessar o state do Redux em um build de produção utilizando o console do navegador</a>. No entanto, com o lançamento recente do React 18, essa técnica não funciona mais.</p>\n<p>Neste blog post, vamos explorar o motivo pelo qual ela deixou de funcionar e como criar um script que ainda permita acessar o state do Redux em produção.</p>\n<h2 id=\"o-que-mudou\" style=\"position:relative;\"><a href=\"#o-que-mudou\" aria-label=\"o que mudou permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O que mudou?</h2>\n<p>No React 17, havia uma propriedade chamada <code class=\"language-text\">_reactRootContainer</code> no container do React, mas essa propriedade não existe mais no React 18. Em vez disso, <a href=\"https://github.com/facebook/react/blob/a724a3b578dce77d427bef313102a4d0e978d9b4/packages/react-dom/src/client/ReactDOMComponentTree.js#L40\" target=\"_blank\" rel=\"noreferrer\">como podemos ver no código-fonte do React</a>, o container do React agora possui uma propriedade prefixada com <code class=\"language-text\">__reactContainer</code> e um número aleatório no final.</p>\n<p>Para encontrar o container do React, podemos procurar por elementos DOM que possuem uma propriedade começando com <code class=\"language-text\">__reactContainer</code>. Primeiro, precisamos encontrar todos os elementos DOM que podem ser potencialmente o container do React.</p>\n<p>A maioria dos aplicativos React usa um <code class=\"language-text\">id</code> HTML para definir o container e, em seguida, usa a função <code class=\"language-text\">getElementById()</code> para recuperá-lo. Portanto, para obter todos os elementos com um “id” no documento, podemos usar <code class=\"language-text\">document.querySelectorAll(\"*[id ]\")</code>.</p>\n<p>Para encontrar todos os containers do React na página, podemos executar o seguinte script:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> internalRoots <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*[id]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">keyName</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> keyName<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'__reactContainer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">at</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> el<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Pronto! Agora tudo o que temos a fazer é encontrar o <code class=\"language-text\">_internalRoot</code> e pronto, né? Né?!?!</p>\n<h2 id=\"nao\" style=\"position:relative;\"><a href=\"#nao\" aria-label=\"nao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Não</h2>\n<p>Na verdade, descobrir a primeira parte foi relativamente simples. Como não estou muito familiarizado com o código-fonte do React, tentei explorar todas as propriedades disponíveis do container, mas acabei optando pelo caminho mais fácil, ainda que preguiçoso.</p>\n<p><img src=\"/6a9e8f39c841ed588e5798fba7412e92/element-diving.gif\" alt=\"\"></p>\n<p>Já que para obter o state do Redux usamos a função <code class=\"language-text\">getState()</code>, tudo o que precisamos fazer é percorrer a árvore de variáveis do container do React em busca dela.</p>\n<p>Felizmente, <a href=\"https://gist.github.com/mindplay-dk/1843c267fc633688059dfa5e3b07d0dd\" target=\"_blank\" rel=\"noreferrer\">já existe um Gist do GitHub para isso</a>, então basta adaptá-lo para o nosso caso, examinando uma variável específica em vez da <code class=\"language-text\">window</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> stores <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// code from https://gist.github.com/mindplay-dk/1843c267fc633688059dfa5e3b07d0dd</span>\r\ninternalRoots<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">root</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> seen <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">search</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>seen<span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        seen<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>name <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'getState'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                stores<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>obj<span class=\"token operator\">?.</span>hasOwnProperty<span class=\"token operator\">?.</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> obj<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">search</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">search</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Pronto, e daí podemos acessar os states com <code class=\"language-text\">[...stores].map((store) => store.getState())</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.0625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVQozx2S32tcRRzF758i/Q980zd9C/igFmraRtJak8bE/GBDi0UNsbSb2JD2pWGtIoVIoL9AQcEnLaFVow9pbRqjMWuyye7evTPznbkzc+f33b1Xtm/n5RzO53AiQki9XpdSlmUpZSbjDkOIMpZlMlOq2Wy3mu1WGzXbBJgQUmaZRnGr1Y47CY4QwvsHDSllnnedtS7kzgfnfB5yKWWCEFDgShtrQwh5CN4H50MIwRgTMZ4lhCMQxoayLIte0esVIe+WZWmMTdOUYYZamGBIuQSurTUqU1obrU303Q8/bjx6+Puv63fu37v3YPXxxsbO7oERYv3RTxt/PDbaJjsdvIcIBoThBRCjL/pLqaLNJ38+23r+9NnW5tOt7e3N3fref42WEqJxuLd/8K/ONNnHuIkpYZRRjEGIzFjjnFdKRb1eT2cyBF8Uvf5ESnW7uVRKSuVDbo1F/yTx8zbeRzjG/QCaSiE0T41SUfAhZsq4blmUWmtrXVmWznutdVEU1ji0m+BDzBgDSjkXBCgA5YwbraOVB98uPWysfb96e2156fr8ra+Xb9Zu3Lm7dvubuz+v/+K9RzsdckhI35JiQoFyAIaB9gd77Y23z42ffuvEyyNjg+PDp6fPvDk+MTk6OTs4PHrx0sfWWFLH+AgDoQQ4IgwAGEuFEM656NOpyo0ri+dPnnr/3PnF5VptfuHKpU8uVCqzkxPXFqpWG/R3kvzVAQQIUwIZwoQQIADa6Oh6dXpsbGiuMjr/2Vyt9tWtlS/OjEycnPr8xIfV6sqaNS7ejuGIAE1ZmiqlOecy07r/Ghu9+97A0NnXB46/enXxamV2Zmp8+Ozl1YEvO68s7U7db3W9Ew0ECIBxxrjiqWR9JYX03kcXRodmhgcnPhiZnLk4PfvRS8eOnXrn+FJ17trC5Zu12lGH//akk8R9Ts4lF1kqpOCCcyGE/B8w0X/4WbfnOgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"redux state on instagram\"\n        title=\"redux state on instagram\"\n        src=\"/static/532aa2000a29f36e8c59da4250cfcb2f/42a19/redux-state-on-instagram.png\"\n        srcset=\"/static/532aa2000a29f36e8c59da4250cfcb2f/e3135/redux-state-on-instagram.png 256w,\n/static/532aa2000a29f36e8c59da4250cfcb2f/06341/redux-state-on-instagram.png 512w,\n/static/532aa2000a29f36e8c59da4250cfcb2f/42a19/redux-state-on-instagram.png 1024w,\n/static/532aa2000a29f36e8c59da4250cfcb2f/92844/redux-state-on-instagram.png 1032w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Você pode copiar e colar o script completo abaixo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> internalRoots <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*[id]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">keyName</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> keyName<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'__reactContainer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">at</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> el<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> stores <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// code from https://gist.github.com/mindplay-dk/1843c267fc633688059dfa5e3b07d0dd</span>\r\ninternalRoots<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">root</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> seen <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">search</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>seen<span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        seen<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>name <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'getState'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                stores<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>obj<span class=\"token operator\">?.</span>hasOwnProperty<span class=\"token operator\">?.</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> obj<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">search</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">search</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>stores<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">store</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Para concluir, neste post, exploramos o motivo pelo qual o método anterior para acessar o state do Redux em um build de produção deixou de funcionar no React 18 e apresentamos uma solução atualizada que permite acessar o state do Redux em produção.</p>\n<p>Apesar de ter sido um desafio descobrir o novo método, com a ajuda de um script já existente e um pouco de adaptação, conseguimos encontrar uma solução viável.</p>\n<p>Espero que este post tenha sido útil e que você consiga utilizá-lo em seus futuros projetos.</p>","fields":{"slug":"/2022/2022-08-21-como-acessar-o-state-do-redux-de-um-build-de-producao-do-react-18.pt-br/","path":"/blog/coding/como-acessar-o-state-do-redux-de-um-build-de-producao-do-react-18/","locale":"pt-br"},"readingTime":{"minutes":2.915},"frontmatter":{"date":"2022-08-21T00:00:00.000Z","title":"Como acessar o state do Redux de um build de produção do React 18","categories":["coding"]}}},{"node":{"excerpt":"Eu me lembro da primeira vez que planejei ir para a E3 com…","html":"<p>Eu me lembro da primeira vez que planejei ir para a E3 com alguns amigos, em 2009. Parecia um sonho distante, apenas a ideia de ir para a E3 já era emocionante o suficiente e me deixava super animado. Naquela época, eu ainda não sabia que a E3 era um evento apenas para a imprensa e que eu nunca poderia simplesmente comprar um ingresso e ir. Claro que, eventualmente, consegui ir para a E3, mas como?</p>\n<p>Sempre fui apaixonado por videogames, especialmente pelos jogos da Nintendo, então quando o maior blog brasileiro sobre a Nintendo no Brasil, o Nintendo Blast, estava recrutando novos escritores, tive que me inscrever e, para minha surpresa, fui aceito.</p>\n<p>Depois de entrar no blog, comecei a escrever posts e fazer vídeos para o canal do YouTube deles, e alguns anos depois, recebi um e-mail de um dos editores do blog dizendo que estavam procurando pessoas para viajar para Los Angeles para cobrir a E3. Não acreditei que isso estava realmente acontecendo. Apertei o botão de aplicar tão rápido que quase quebrei meu mouse.</p>\n<p>Claro que, como o Nintendo Blast era movido por trabalho voluntário, eu mesmo teria que arcar com todos os custos da viagem, mas eles me ofereceriam o que nenhum dinheiro poderia comprar: um ingresso para a E3!</p>\n<p>Primeiro, tive que conseguir um visto para entrar nos EUA, o que é um processo bastante burocrático, mas felizmente meu visto foi aprovado, o hotel e as passagens foram reservados e nossos crachás de imprensa foram emitidos, e tudo o que eu tinha que fazer era esperar até o dia da viagem. Estava tão ansioso que tive problemas para dormir por meses.</p>\n<h2 id=\"primeira-vez-em-los-angeles\" style=\"position:relative;\"><a href=\"#primeira-vez-em-los-angeles\" aria-label=\"primeira vez em los angeles permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Primeira vez em Los Angeles</h2>\n<p>Ir para a E3 teve um efeito colateral inesperado: me apaixonar por Los Angeles. Sim, eu sei que é super clichê, mas LA não é apenas a casa da E3, mas também de muitos picos famosos de skate que vi em vídeos de skate durante toda a minha vida, e poder visitar esses picos na vida real foi muito emocionante, cheguei até a comprar um deck da Plan B enquanto estava lá, só para saber como era comprar um deck no estado que foi o berço do skate. Praticamente todos os cantos do centro de LA são picos famosos de skate em algum vídeo dos anos 90.</p>\n<p>Essa também foi minha primeira vez nos EUA, então pela primeira vez experimentei refeições extra grandes no McDonald’s, fiz compras na Target, recebi as notas gigantes da CVS, fui a uma GameStop, comprei produtos da Old Spice, fui ao White Castle, e como um fã de Forest Gump, finalmente fui a um restaurante Bubba Gump.</p>\n<p>Éramos um grupo de 7 jovens entusiastas prestes a cobrir o maior evento de videogames do mundo e, embora tivéssemos muitas coisas que queríamos fazer em LA, não tínhamos tempo a perder, pois a E3 estava começando 2 dias depois que desembarcamos.</p>\n<h2 id=\"uma-ajudinha-dos-veteranos\" style=\"position:relative;\"><a href=\"#uma-ajudinha-dos-veteranos\" aria-label=\"uma ajudinha dos veteranos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Uma ajudinha dos veteranos</h2>\n<p>Éramos uma equipe pequena, mas felizmente estávamos no mesmo hotel que alguns editores veteranos da Nintendo World, a revista oficial da Nintendo no Brasil.</p>\n<p>Eu lia a Nintendo World desde os 10 anos de idade, e estar lá com essas lendas foi surreal. Eles até escolheram alguns de nós para escrever artigos na revista, infelizmente não fui escolhido, mas só a chance de ser escolhido já era uma das maiores conquistas da minha vida até então.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 132.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMCBAUB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAD/9oADAMBAAIQAxAAAAFk7Cy+kSmprCw1zFHn/8QAHhAAAQQBBQAAAAAAAAAAAAAAAgABAxIhBBETICL/2gAIAQEAAQUCIarjwEQkzPYpjCkWnxM+4j6TH0//xAAZEQEAAgMAAAAAAAAAAAAAAAAAERMBUWH/2gAIAQMBAT8BlOdrF3H/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEhD/2gAIAQIBAT8ByUP/xAAiEAACAgEBCQAAAAAAAAAAAAAAAQIRUSISEyAhMjNBYYH/2gAIAQEABj8C1RR2zoj9JbyK0tUSjtVY78vI45KnzXtFY4P/xAAeEAACAgICAwAAAAAAAAAAAAABEQAhMUEQYYGRof/aAAgBAQABPyFpkeVDl9mYwP8AuU3iw1CljXkw4MewdILKNSgEjdaogAESoL4V8f/aAAwDAQACAAMAAAAQoOi9/8QAGREBAQADAQAAAAAAAAAAAAAAAQARQWHw/9oACAEDAQE/EM3d5McSxn//xAAaEQEBAAIDAAAAAAAAAAAAAAABABEhMVFh/9oACAECAQE/EACwdT6jTm//xAAcEAEBAAIDAQEAAAAAAAAAAAABEQAhMUFxUWH/2gAIAQEAAT8QJutMitmpqVyN9groe8Y1IL0UaO+z3Gu/pkTzvt4xLqLZC0rZrg/MrzaRVQTBGG8iIH1+76xwZeIeOcnww0eIfuAQ0YjqYhXRn//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Nintendo World #159\"\n        title=\"Nintendo World #159\"\n        src=\"/static/1bd637a064f5ba27be82ffab40d2d631/63217/nintendo_world_159.jpg\"\n        srcset=\"/static/1bd637a064f5ba27be82ffab40d2d631/db830/nintendo_world_159.jpg 256w,\n/static/1bd637a064f5ba27be82ffab40d2d631/8102f/nintendo_world_159.jpg 512w,\n/static/1bd637a064f5ba27be82ffab40d2d631/63217/nintendo_world_159.jpg 1024w,\n/static/1bd637a064f5ba27be82ffab40d2d631/d58d1/nintendo_world_159.jpg 1536w,\n/static/1bd637a064f5ba27be82ffab40d2d631/d7bd3/nintendo_world_159.jpg 1933w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Nintendo World #159</figcaption>\n  </figure></p>\n<p>Em seguida, tivemos algumas rodadas de reuniões sobre como fazer as coisas na E3, o que acabou sendo super útil e usei em todas as outras edições desde então.</p>\n<h2 id=\"espere-quando-comeca-a-e3\" style=\"position:relative;\"><a href=\"#espere-quando-comeca-a-e3\" aria-label=\"espere quando comeca a e3 permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Espere, quando começa a E3?</h2>\n<p>Ahhh, a confusão. Toda E3 era a mesma coisa, eu via um artigo online dizendo “E3 começa nesta data X bla bla bla” e alguns dias antes, boom conferências da Sony/Microsoft/Nintendo, o quê? Por quê? Depois disso, os próximos dias eram cheios de vídeos de hands-on e posts sobre apresentações secretas de jogos que ainda não tinham gameplay mostrado ao público, etc.</p>\n<p>A questão é que as conferências não fazem oficialmente parte da E3, quer dizer, mais ou menos.</p>\n<p>A E3 é um evento organizado pela ESA que reúne comerciantes e imprensa em um enorme centro de convenções onde as empresas de jogos podem mostrar seus produtos ao mundo, e durante esses dias, todo o mundo dos jogos está de olho na E3, e por isso, todas as grandes empres agendam uma grande coletiva de imprensa alguns dias antes da E3, para que todos os comerciantes e imprensa saibam o que esperar do evento.</p>\n<p>Para nós, que assistimos às conferências da E3 em casa, parece que o evento começa quando as conferências começam e termina após a última conferência. No entanto, o que realmente importa são os anúncios de jogos. Foi uma surpresa para mim descobrir que a conferência da Sony estava localizada a muitos quilômetros do LACC.</p>\n<p>Eu achei que todas as conferências aconteciam na E3. Eu sei que parece bobagem, mas foi um choque para mim e, nos anos seguintes, vi muitos outros participantes da E3 terem a mesma confusão.</p>\n<h2 id=\"as-conferencias\" style=\"position:relative;\"><a href=\"#as-conferencias\" aria-label=\"as conferencias permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>As conferências</h2>\n<p>Para chegar às famosas conferências da E3, você precisa ser convidado, pelo menos de forma convencional. Mesmo que você não tenha sido convidado, muitas pessoas da imprensa ainda iriam ao local da conferência na esperança de que alguns lugares estivessem disponíveis, e em todas as E3 que eu fui, sempre consegui entrar nas conferências. E mesmo se eu não conseguisse, a adrenalina de não saber se eu conseguiria e todos os telefonemas e contatos tentando conseguir um convite de última hora para entrar já faziam valer a pena a aventura. Infelizmente eu não sabia de tudo isso na minha primeira E3, então nem tentei, e foi o último ano que a Nintendo teve uma conferência convencional da E3.</p>\n<p>As conferências da E3 são normalmente agendadas em horários e locais específicos, para que as pessoas em Los Angeles possam ir de uma conferência para outra e chegar a tempo. Por exemplo, um dos dias de conferências começaria com a Microsoft de manhã cedo, depois a Ubisoft, depois uma pausa para o almoço e, finalmente, a Sony.</p>\n<p>Quase todas as conferências ofereciam algum tipo de brinde aos participantes, como pulseiras, camisetas, action figures, etc. Muitos desses itens podiam ser encontrados por centenas de dólares no eBay no mesmo dia. Eu, é claro, ainda tenho todos eles e ainda uso pelo menos uma camiseta da E3 toda semana.</p>\n<p>Os locais das conferências sempre foram em lugares famosos de Los Angeles, como a conferência da Bethesda de 2015, que foi no mesmo local dos Oscars, na Hollywood Blvd. A Sony e a Microsoft costumam estar sempre no mesmo local, a LA Memorial Sports Arena e o Galen Center, respectivamente.</p>\n<h2 id=\"o-evento\" style=\"position:relative;\"><a href=\"#o-evento\" aria-label=\"o evento permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O evento</h2>\n<p>A E3 geralmente acontece de terça a quinta-feira, com duração de 3 dias no total, e vou te falar, se você quiser ver tudo, 3 dias não é suficiente. Estar lá é ótimo, mas perdemos muitas coisas. O LA Convention Center é enorme e você passará metade do seu tempo andando de um estande para outro.</p>\n<p>Durante a cobertura do evento, dividimos nossa equipe em times de duas a três pessoas, e todos agendamos horários para entrevistas, apresentações, e demos de jogos com várias empresas diferentes, então o nosso objetivo era chegar na feira a tempo de cumprir todos os nossos compromissos. Marcar horários com antecedência é uma ótima maneira de pular as filas, que às vezes podem durar horas, e como mencionei antes, 3 dias não são suficientes para ver tudo, então “perder” tempo em filas pode custar não só o seu precioso tempo, mas também impedi-lo de jogar algum jogo.</p>\n<p>No meu primeiro ano, eu estava um pouco perdido e não sabia exatamente o que fazer, mas ainda assim, joguei muitos jogos de WiiU e PS3, incluindo ZombiU, Nintendo Land, LittleBigPlanet Karting e PlayStation All-Stars Battle Royale, apenas para citar alguns. Meu jogo favorito daquele ano na verdade não era jogável: Dead Space 3. Foi nesse ano que comecei a me interessar por Dead Space e nessa E3 eu ganhei uma toca do Isaac Clarke que eu uso até hoje.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.203125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAV66GDeAwHLrUJlt0jgf/8QAHhABAAEEAgMAAAAAAAAAAAAAAgEAAwQTERIUIjP/2gAIAQEAAQUCxQLqjjY0u+sePgL31qUkrdByEeyN/wCU1tfH/8QAFxEBAQEBAAAAAAAAAAAAAAAAAAECEf/aAAgBAwEBPwFxU2//xAAZEQEAAgMAAAAAAAAAAAAAAAAAAQIREjH/2gAIAQIBAT8BZV41l//EAB8QAAICAQQDAAAAAAAAAAAAAAABAhExEBIhQSIycf/aAAgBAQAGPwLyVUhOLVX0S47JbMoaJfSUVhlx4Llli09j/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBcWH/2gAIAQEAAT8hS1i52hgadUVHelIlIqwta+yjnFHPs4je57iL7mMPMZmDTJtX5BrAwWyf/9oADAMBAAIAAwAAABB0Jr//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFx/9oACAEDAQE/EDW5mjkABf/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QMnDdRR2//8QAIBABAAMAAgAHAAAAAAAAAAAAAQARITFBUWGBkaHB8P/aAAgBAQABPxDia9cyFPhALEZ4YGvvkQAAI8dsu4v5RaF/HUC2s5GD+MvRXmjfcIv5iGHnH1jgiVcaPPcOOwg1eYvnCEBT6QAIBqBRhwM//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Toca do Dead Space\"\n        title=\"Toca do Dead Space\"\n        src=\"/static/ab69ba0d7bcc1956e599f91a725c55b5/6c4e2/dead_space_beenie.jpg\"\n        srcset=\"/static/ab69ba0d7bcc1956e599f91a725c55b5/db830/dead_space_beenie.jpg 256w,\n/static/ab69ba0d7bcc1956e599f91a725c55b5/8102f/dead_space_beenie.jpg 512w,\n/static/ab69ba0d7bcc1956e599f91a725c55b5/6c4e2/dead_space_beenie.jpg 612w\"\n        sizes=\"(max-width: 612px) 100vw, 612px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Toca do Dead Space</figcaption>\n  </figure></p>\n<p>O LA Convention Center é enorme, e tem duas áreas principais onde é possível encontrar vários estandes de diferentes empresas e também algumas outras salas de reunião onde as empresas geralmente têm suas áreas VIP com apresentações e demos.</p>\n<p>As duas áreas principais da E3 estão conectadas por uma enorme área aberta ao público, repleta de atividades e jogos exclusivos para serem jogados. Caminhar de uma área principal para a outra pode levar cerca de 10 minutos, por isso era importante marcar horários próximos uns dos outros para não ficar preso na área aberta ao público durante muito tempo.</p>\n<p>Há também uma sala especial para a imprensa, equipada com computadores de alta velocidade para que os jornalistas possam editar seus artigos e vídeos rapidamente e divulgar todas as notícias para o mundo. Além disso, há uma sala de relaxamento especial, onde podemos descansar e até mesmo almoçar de graça por volta do meio-dia. É incrível.</p>\n<p>Durante nosso tempo “livre”, podemos explorar e encontrar coisas interessantes para cobrir. Tenho que admitir que passei a maior parte do meu tempo livre no estande da Nintendo, tentando jogar o máximo de jogos possíveis e colecionar o máximo de brindes possíveis. Ah, sim, uma das outras coisas incríveis da E3 é receber muitos brindes incríveis de graça, como chaveiros, camisetas, etc.</p>\n<h2 id=\"os-brindes\" style=\"position:relative;\"><a href=\"#os-brindes\" aria-label=\"os brindes permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Os brindes</h2>\n<p>Um dos aspectos mais incríveis da E3 são os brindes, não apenas porque são oferecidos de graça, mas também porque consegui-los é uma experiência muito divertida e emocionante, assim como entrar nas conferências.</p>\n<p>Cada estande tem seus próprios brindes e maneiras de obtê-los, que mudam a cada ano. Na minha primeira E3, no estande da Nintendo, cada minijogo que jogávamos no Nintendo Land nos rendia um broche correspondente e o objetivo era colecionar todos eles, o que consegui fazer.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwAEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABzOS6uVHR/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIAAwQQERL/2gAIAQEAAQUCoStpagOsdOIynwTP/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAS/9oACAEDAQE/AZK//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EABwQAAEEAwEAAAAAAAAAAAAAAAABAjFREBEhIv/aAAgBAQAGPwJXKR28bsd6IP/EABkQAAIDAQAAAAAAAAAAAAAAAAERACFBMf/aAAgBAQABPyEoK0UsgOgQVwpWqKOtvIWxiioJ3H//2gAMAwEAAgADAAAAEDT/AP/EABcRAAMBAAAAAAAAAAAAAAAAAAABEUH/2gAIAQMBAT8Q2SKf/8QAFxEBAAMAAAAAAAAAAAAAAAAAARARMf/aAAgBAgEBPxAGXH//xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhQTFx0f/aAAgBAQABPxAwQkXUvi7ypHUXDcTuJ7BXcTIg9itRon7j2hs4Ehm1BoN+mf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Broches do Nintendo Land\"\n        title=\"Broches do Nintendo Land\"\n        src=\"/static/bcbc5e01cc243731110599099965072c/63217/nintendo_land_swags.jpg\"\n        srcset=\"/static/bcbc5e01cc243731110599099965072c/db830/nintendo_land_swags.jpg 256w,\n/static/bcbc5e01cc243731110599099965072c/8102f/nintendo_land_swags.jpg 512w,\n/static/bcbc5e01cc243731110599099965072c/63217/nintendo_land_swags.jpg 1024w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Broches do Nintendo Land</figcaption>\n  </figure></p>\n<p>Os brindes da E3 são uma das coisas mais incríveis do evento, não apenas porque são gratuitos, mas porque tentar conseguir os brindes é uma experiência divertida e emocionante, assim como entrar nas conferências. Cada estande tem seus próprios brindes e maneiras de obtê-los, que mudam a cada ano. Em minha primeira E3, no estande da Nintendo, recebíamos um broche para cada mini-jogo que jogávamos no Nintendo Land, e o objetivo era colecionar todos. Alguns brindes exigiam que você jogasse contra outros participantes do evento e os ganhasse, como a camisa do Smash de 2014. Eu sou péssimo no Smash, mas sortudamente meu amigo Danilo, do site Hyrule Legends, jogou e ganhou uma camisa para mim.</p>\n<p>Alguns brindes bastava pedir e eles seriam dados, mas às vezes eles se esgotavam rapidamente e era preciso esperar até o dia seguinte para tentar conseguir um. Para um colecionador como eu, esses brindes são sempre bem-vindos, mas os melhores são os que podemos usar no dia a dia, como mencionei anteriormente, quase toda semana uso uma camiseta diferente que ganhei de graça na E3. A minha favorita é provavelmente a camiseta Lego Dimensions de 2015, que na verdade não era um brinde, mas era a camiseta que o pessoal do estande da Warner estava usando, e de alguma forma consegui convencê-los a me dar uma.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.734375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAkABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAUB/8QAFwEAAwEAAAAAAAAAAAAAAAAAAgMEAf/aAAwDAQACEAMQAAABzWojvrQAs1/PiwNq5O3lxKVd0Ts//8QAHRAAAQQCAwAAAAAAAAAAAAAAAgABAxIRIjEyM//aAAgBAQABBQLL5qSciZ6YI2qo4BILbGQGOyflRxkcb9lD4//EABYRAAMAAAAAAAAAAAAAAAAAAAARIP/aAAgBAwEBPwEU/wD/xAAZEQACAwEAAAAAAAAAAAAAAAAAAQIQEjH/2gAIAQIBAT8BNqnKNPp//8QAHRAAAgEEAwAAAAAAAAAAAAAAAAECEBEhMRIiYf/aAAgBAQAGPwKmzseibbyO+jArSsOkWuI6Rwf/xAAdEAACAgIDAQAAAAAAAAAAAAAAAREhMWFBUZGB/9oACAEBAAE/IU7K+yPf0jDstiVibSgUiViS8TsSrsDjfTJZUUYH9hMpCRyP6ElaWD//2gAMAwEAAgADAAAAEK8Aw3vf/8QAGBEBAQEBAQAAAAAAAAAAAAAAAQAxIRH/2gAIAQMBAT8QHl7Y5GbEZf/EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QTsm5JsBRmHV//8QAHRABAAMAAwEBAQAAAAAAAAAAAQARITFBcVGBsf/aAAgBAQABPxAAW1lqSc6mrVhxjlxg1aV370WX7BVTSulnUGMuICuZfdbWgGy3J3INMk8nCrIWevyIBei/s0IIN1Nt3b8jeyggYwFv2m8s/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"T-shirt Lego Dimensions\"\n        title=\"T-shirt Lego Dimensions\"\n        src=\"/static/74aa085aa80943dabfc4ce90ce0cddea/63217/lego_dimensions_shirt.jpg\"\n        srcset=\"/static/74aa085aa80943dabfc4ce90ce0cddea/db830/lego_dimensions_shirt.jpg 256w,\n/static/74aa085aa80943dabfc4ce90ce0cddea/8102f/lego_dimensions_shirt.jpg 512w,\n/static/74aa085aa80943dabfc4ce90ce0cddea/63217/lego_dimensions_shirt.jpg 1024w,\n/static/74aa085aa80943dabfc4ce90ce0cddea/b37e7/lego_dimensions_shirt.jpg 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">T-shirt Lego Dimensions</figcaption>\n  </figure></p>\n<p>Brindes como essa camiseta são chamados de <em>ultimate swags</em> (pelo menos é assim que eu os chamo), são itens que não estão realmente disponíveis como brindes, mas que você consegue adquiri-los de alguma forma, como tentei fazer com a garrafa de água para o pessoal do estande na E3 de 2012, mas não consegui. No entanto, no ano seguinte, tentei durante todos os três dias da feira e acabei conseguindo uma no último dia.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.203125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABYBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAABTKKVGJZLJ+yzGVOEkT//xAAbEAADAAMBAQAAAAAAAAAAAAABAgMEERIyIf/aAAgBAQABBQJkpqSl2tPT5Tlp4yOK1kHdjwYa6Y/beZeaUbv/xAAWEQADAAAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8BK//EABcRAAMBAAAAAAAAAAAAAAAAAAAQESL/2gAIAQIBAT8BplU//8QAHhAAAgIBBQEAAAAAAAAAAAAAAAERIRICEDFCYUH/2gAIAQEABj8C4cLw0xbTLWJguzH1ZLZLvwvl7Jk/R2f/xAAcEAEBAQADAAMAAAAAAAAAAAABEQAhMUFRYaH/2gAIAQEAAT8hEK1KvTKHeGajdPMxtPBXElA9S6ClnxvsLxjaQ91dCNwB2Pe5fuwQHDf/2gAMAwEAAgADAAAAECjFPf/EABgRAAIDAAAAAAAAAAAAAAAAAAABEBEx/9oACAEDAQE/EEWMj//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QbUWNGUf/xAAdEAEAAwEAAwEBAAAAAAAAAAABABEhMUFRYZFx/9oACAEBAAE/EKpKSoe6r/Cc3+6WVpKcYHH9mtsEKAN38gxK3QV/D7caCUG25O7JaXDJpsb645CIHieIMg6cmRaMtB4sA9ZP/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Garrafa de água da equipe do estande\"\n        title=\"Garrafa de água da equipe do estande\"\n        src=\"/static/72c94af053f2053c72db23db62ec96e3/63217/nintendo_staff_water_bottle.jpg\"\n        srcset=\"/static/72c94af053f2053c72db23db62ec96e3/db830/nintendo_staff_water_bottle.jpg 256w,\n/static/72c94af053f2053c72db23db62ec96e3/8102f/nintendo_staff_water_bottle.jpg 512w,\n/static/72c94af053f2053c72db23db62ec96e3/63217/nintendo_staff_water_bottle.jpg 1024w,\n/static/72c94af053f2053c72db23db62ec96e3/d58d1/nintendo_staff_water_bottle.jpg 1536w,\n/static/72c94af053f2053c72db23db62ec96e3/09658/nintendo_staff_water_bottle.jpg 2048w,\n/static/72c94af053f2053c72db23db62ec96e3/78fc5/nintendo_staff_water_bottle.jpg 2736w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Garrafa de água da equipe do estande</figcaption>\n  </figure></p>\n<p>No final de cada dia da E3, eu e meus amigos nos reuníamos para um bom jantar e conversávamos sobre todos os brindes que coletamos e como os conseguimos. É claro que também falávamos sobre todos os jogos que jogamos e como foi o dia em geral para nós também.</p>\n<p>Eu geralmente reservava meu último dia quase sem compromissos, para poder andar por aí e tentar pegar todos os brindes que perdi nos outros dias e jogar novamente os jogos que mais gostei. Então, depois do último dia, eu e meus amigos reuníamos todos os nossos brindes e compras relacionadas a jogos em cima da cama do hotel para uma foto épica.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAMAAv/aAAwDAQACEAMQAAABj0WEvNXLP//EABsQAQACAgMAAAAAAAAAAAAAAAIAAQMREiEy/9oACAEBAAEFAsQWkJ2Ziauhd8n6/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AcR//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQACEf/aAAgBAgEBPwF1PBv/xAAbEAACAgMBAAAAAAAAAAAAAAAAMQERAhAhUf/aAAgBAQAGPwJMpeFZM7JOv//EABoQAQACAwEAAAAAAAAAAAAAAAEAIRExkWH/2gAIAQEAAT8hWR4RANzSYGRqeTI8jN6lnb2f/9oADAMBAAIAAwAAABBAL//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QWSmqf//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCA8DP/xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMXGhYf/aAAgBAQABPxDaAXLSE8xktcDnrzG4TxCvcQtpK9mKVphtPuHd06NjP//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Brindes da E3 2017\"\n        title=\"Brindes da E3 2017\"\n        src=\"/static/cde3a8668d9d6f594f53d323de0fcdf3/63217/e3_swags_2017.jpg\"\n        srcset=\"/static/cde3a8668d9d6f594f53d323de0fcdf3/db830/e3_swags_2017.jpg 256w,\n/static/cde3a8668d9d6f594f53d323de0fcdf3/8102f/e3_swags_2017.jpg 512w,\n/static/cde3a8668d9d6f594f53d323de0fcdf3/63217/e3_swags_2017.jpg 1024w,\n/static/cde3a8668d9d6f594f53d323de0fcdf3/33266/e3_swags_2017.jpg 1440w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Brindes da E3 2017</figcaption>\n  </figure></p>\n<h2 id=\"a-comida\" style=\"position:relative;\"><a href=\"#a-comida\" aria-label=\"a comida permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A comida</h2>\n<p>Na E3, havia várias opções para se alimentar. Se você era da imprensa, poderia conseguir um almoço de graça na sala de imprensa. Caso contrário, poderia optar por pagar valores mais altos em lanchonetes no centro de convenções.</p>\n<p>No entanto, se tivesse sorte, talvez nem precisasse parar para comer, pois alguns estandes ofereciam lanches para os jogadores. Foi assim que eu me alimentei na maior parte da E3 - jogando e comendo lanches. Afinal, por que interromper o jogo para comer quando estava na maior convenção de jogos do mundo?</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFCgngNYiBP/8QAHBAAAQQDAQAAAAAAAAAAAAAAAgABAxMREiEi/9oACAEBAAEFAo8M4nzdTB5uVpr/xAAXEQADAQAAAAAAAAAAAAAAAAAAARFB/9oACAEDAQE/AVNIf//EABURAQEAAAAAAAAAAAAAAAAAAAAh/9oACAECAQE/AVf/xAAdEAEAAgAHAAAAAAAAAAAAAAABABEQEjFBUWGx/9oACAEBAAY/Akun2G/PWGYjYLNZ/8QAHhAAAgIABwAAAAAAAAAAAAAAAAERQSExUYGRofD/2gAIAQEAAT8hZoZFJxyNlW7EJE6pZjd4sXEHqj//2gAMAwEAAgADAAAAEKc//8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEhEVH/2gAIAQMBAT8QVpBjp//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQIBAT8QNxP/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFR0f/aAAgBAQABPxBwyOJivWHMQDGFbRzDYMxrWooVGY9DuDrmEjAZwdSv6DP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Snacks da CD Projekt Red\"\n        title=\"Snacks da CD Projekt Red\"\n        src=\"/static/1fa57646e94beba38a37da61486bffb9/63217/e3_booth_food.jpg\"\n        srcset=\"/static/1fa57646e94beba38a37da61486bffb9/db830/e3_booth_food.jpg 256w,\n/static/1fa57646e94beba38a37da61486bffb9/8102f/e3_booth_food.jpg 512w,\n/static/1fa57646e94beba38a37da61486bffb9/63217/e3_booth_food.jpg 1024w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Snacks da CD Projekt Red</figcaption>\n  </figure></p>\n<h2 id=\"conhecendo-seus-herois\" style=\"position:relative;\"><a href=\"#conhecendo-seus-herois\" aria-label=\"conhecendo seus herois permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conhecendo seus heróis</h2>\n<p>Esta é possivelmente uma das melhores coisas da E3, se você for muito sortudo, poderá conhecer as pessoas que fazem os jogos que você ama.</p>\n<p>Há várias maneiras de fazer isso. Se você for parte da imprensa, pode marcar uma entrevista ou uma demonstração de um jogo com eles. Outra opção é simplesmente caminhar pelo evento e encontrá-los por acaso.</p>\n<p>Foi assim que conheci Hideo Kojima e, em outra ocasião, cruzei com Shigeru Miyamoto saindo do banheiro e consegui um autógrafo dele! Desculpe por isso, Miyamoto 😅</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.203125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIEAwH/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAP/2gAMAwEAAhADEAAAAd5FQLpCFvRFrvjmMV//xAAbEAACAgMBAAAAAAAAAAAAAAABAgASAwQQM//aAAgBAQABBQKq5Ay1aazhJmYsbHg84O//xAAYEQACAwAAAAAAAAAAAAAAAAAAARAREv/aAAgBAwEBPwFOjc//xAAYEQACAwAAAAAAAAAAAAAAAAAAEgEQEf/aAAgBAgEBPwFdEm//xAAbEAACAwADAAAAAAAAAAAAAAABAgAQESBBUf/aAAgBAQAGPwLU7mE1jEgRmG5PKbj/AP/EAB4QAQACAQUBAQAAAAAAAAAAAAEAESExQVFhcYGx/9oACAEBAAE/ITKli/kvCXsbnsErWWHHBxA77Jwvghm0o6lKxV1/ImY4aSp//9oADAMBAAIAAwAAABD8+sz/xAAZEQACAwEAAAAAAAAAAAAAAAAAEQEQIVH/2gAIAQMBAT8QSF4Tlf/EABkRAAMAAwAAAAAAAAAAAAAAAAABESFBUf/aAAgBAgEBPxDI9D6CVRD/xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMUFhUXHBgf/aAAgBAQABPxA0F1gWdo9poIFaNu7iQiTze4fVhKr8i32ziymeCsHyA8D4VHTOCu3RHhk3Kqixn9liXca9zJXEPE//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eu e Kojima\"\n        title=\"Eu e Kojima\"\n        src=\"/static/a303cab53d35091c02dfabe70b84abec/63217/me_and_kojima.jpg\"\n        srcset=\"/static/a303cab53d35091c02dfabe70b84abec/db830/me_and_kojima.jpg 256w,\n/static/a303cab53d35091c02dfabe70b84abec/8102f/me_and_kojima.jpg 512w,\n/static/a303cab53d35091c02dfabe70b84abec/63217/me_and_kojima.jpg 1024w,\n/static/a303cab53d35091c02dfabe70b84abec/d58d1/me_and_kojima.jpg 1536w,\n/static/a303cab53d35091c02dfabe70b84abec/09658/me_and_kojima.jpg 2048w,\n/static/a303cab53d35091c02dfabe70b84abec/b6833/me_and_kojima.jpg 3672w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu e Kojima</figcaption>\n  </figure></p>\n<p>Uma das maneiras mais emocionantes de conhecer os criadores de jogos que amamos é esperando na entrada do LACC bem cedo de manhã. É uma oportunidade única de ver todos eles passando por lá, embora muitas vezes eles estejam com pressa devido a suas agendas lotadas e acompanhados por seguranças.</p>\n<p>Mas às vezes eles não estão tão ocupados e têm tempo para dar um pouco de amor a nós, meros mortais. Foi assim que conheci o Miyamoto pela primeira vez e consegui meu 3DS Zelda Edition autografado por ele, que agora é o meu item de colecionador favorito em minha coleção.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABY4SqUYFw/8QAGxABAQABBQAAAAAAAAAAAAAAAQIABBITIzL/2gAIAQEAAQUCdUVB55ayRp297Fw//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BJ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAMAAwEAAAAAAAAAAAAAAAABEQIhkaH/2gAIAQEABj8CnozV6KCjtRHif//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExYVH/2gAIAQEAAT8hYaqVDxl79lngYxSGWfJ1qGzUQGs7P//aAAwDAQACAAMAAAAQzz//xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAEDAQE/EGmEP//EABYRAQEBAAAAAAAAAAAAAAAAAAEQYf/aAAgBAgEBPxBxn//EABsQAQEAAwEBAQAAAAAAAAAAAAERACExcWGB/9oACAEBAAE/EDqVtk38wVZIEZIgnPt7nIV1ML+O/cI4Ryp7g0HGtFhT0HEBmWhjW5//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eu e Miyamoto\"\n        title=\"Eu e Miyamoto\"\n        src=\"/static/a128a6cbf2e50686858bbbd3aaf528ce/63217/me_and_miyamoto.jpg\"\n        srcset=\"/static/a128a6cbf2e50686858bbbd3aaf528ce/db830/me_and_miyamoto.jpg 256w,\n/static/a128a6cbf2e50686858bbbd3aaf528ce/8102f/me_and_miyamoto.jpg 512w,\n/static/a128a6cbf2e50686858bbbd3aaf528ce/63217/me_and_miyamoto.jpg 1024w,\n/static/a128a6cbf2e50686858bbbd3aaf528ce/d58d1/me_and_miyamoto.jpg 1536w,\n/static/a128a6cbf2e50686858bbbd3aaf528ce/09658/me_and_miyamoto.jpg 2048w,\n/static/a128a6cbf2e50686858bbbd3aaf528ce/08826/me_and_miyamoto.jpg 3264w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu e Miyamoto</figcaption>\n  </figure></p>\n<p>Depois de conseguir o autógrafo do Miyamoto, compartilhei minha experiência com alguns amigos e eles também tentaram nos dias seguintes, conseguindo autógrafos de seus próprios heróis.</p>\n<p>Eles também contaram sobre isso para outros amigos e, ao longo dos anos, um grande grupo de brasileiros, que nem se conheciam, começou a se reunir para esperar pelos heróis durante o evento e tirar fotos e pedir autógrafos.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 820px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.828125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVQozwGTA2z8AP////7+/vf39f3+/f///8LTzqO5rmKFc5eipK+w14CDaNbIOYipo06EaJKrn8PC0c3O1drb6Pb28////wD///+5usN3eKfNyqHDvqAudkN7l4w4hlsbTVJLQ8ptam3eyTxginwJdkFkkX9eW8BVW7PDv3nLxVf09v8A////xsLYLj2imJw2v7MFJXAtF19RJW5HIHNDJk6EVH1if6QgNm9BIXJKVIZtREu0rqy+5NoXy8aE////AP///4OymxIuVEZ7N1u1KBaORVylIpCeD5aXEVeWNjmxUwenTRWiRiCfQhmhPxybTFiiRKmgEF6aXbjSwgDC4cwem0BAYzcTn01WtTnC0hablD6KXj+1cEq+iV2knlxZmSk1skQVr1IctFEfukwglkRUYEEyYitjoXEAUrlwHJM8aGhOqsEg//8AlZNMFRqpq5Fnsn9YnWdLVCohai8Xz8gJm8scSK04Iq5IKqlKdG9KHpI8ltGpACOnTi+VObGdLMqUOfPsAEtRh0ZIqbOhZoZmRHg+L3k1KKyaa9rTJP/5AP/xALTLC3p4RmqETBitSdPg1AAZlT4jo0ilxxXKnC/CpSCUmoN4dKiPWjZ7RzWRZkSlk1pzdFy1sDX//gDj6gOKlDaWbU4PljdSr29tZGUAd62GF6lHNaVXlrAfu4gxvak4PEaBY0Rrdk4wb29GTk4vBwkLdHJK0L4MZrkqbHdQboldi5V5PEowCgkLAPj5+JSvlpq8nhCYQXuXMb+DO8K2JX12VV06LwAAAAkIBm9hQXdJMFF1IHV5TGZiN4WFWuGNkp5mR1w/LQCflIlVMCRYTT5CnFgTsDp1kTywb0jMthmZbTZtQzZzUDhrNyg2UyZVfkJMajNvKB+SQTGPVjepakjGh4AAs6ahXkM6dl1P7/TtUa90GqVJXnkvo2ZEsnZQomlLm2BFel0+Z2Y4cIlje7+VuMScdEQ8rINlnW1UmFtGAMzFwjgeEwEAAGlrbbyrl5aljXLAh2yFNZ5nSYteRalvUHtVOneeedjw4////9fc1DFBNURLNWBhSlVJNgDa19SflIsxJR8FAQBmRETh1tf////U5eGie160c1C4elinb0zNubH////LraxzGxt6TD9VPjIyKiFNMiQA////2NHMcFhJ39rX7u3s/////Pz7////u5V/tXFMu31avn1aq2hEwqaV9vT2kjtCjCcimUk7jD0xnmBFH7i1SJv1hZIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hue Hue BR\"\n        title=\"Hue Hue BR\"\n        src=\"/static/64fd508b9c457acf6fdb28cacade5271/0bbcd/hue_hue_br.png\"\n        srcset=\"/static/64fd508b9c457acf6fdb28cacade5271/e3135/hue_hue_br.png 256w,\n/static/64fd508b9c457acf6fdb28cacade5271/06341/hue_hue_br.png 512w,\n/static/64fd508b9c457acf6fdb28cacade5271/0bbcd/hue_hue_br.png 820w\"\n        sizes=\"(max-width: 820px) 100vw, 820px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Hue Hue BR</figcaption>\n  </figure></p>\n<p>Desde que a E3 foi aberta ao público, todas as pessoas famosas e aquelas que trabalham na feira têm um acesso diferente ao evento, então, infelizmente, não é mais possível usar esse “truque”.</p>\n<h2 id=\"festas-da-e3\" style=\"position:relative;\"><a href=\"#festas-da-e3\" aria-label=\"festas da e3 permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Festas da E3</h2>\n<p>Eu acordava cedo todos os dias da E3, às 6h da manhã, para chegar ao centro de convenções cedo e evitar filas para jogar alguns dos novos títulos. Eu continuava jogando até por volta das 18h, quando o evento encerrava naquele dia. Depois disso, eu precisava reunir meus equipamentos e encontrar meus amigos, então já eram por volta das 20h quando eu finalmente estava pronto para ir para a cama - a menos, é claro, que houvesse uma festa para participar.</p>\n<p>Algumas dessas festas eram exclusivas para a imprensa, outras eram abertas para qualquer entusiasta de jogos em LA. Algumas eram pagas, outras eram gratuitas. Algumas ofereciam comida e bebida grátis, enquanto outras tinham brindes. Havia um tipo de festa para todos e eu sempre ficava feliz em participar.</p>\n<p>A melhor parte dessas festas era poder conhecer novas pessoas e sair com meus amigos, conversar sobre o dia e ficar empolgado com todas as novidades sobre jogos que viriam no próximo ano.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAgMF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgME/9oADAMBAAIQAxAAAAHOkti/OFQaP//EABsQAQACAgMAAAAAAAAAAAAAAAIBAwAEERIU/9oACAEBAAEFAgEzBtcZS+mvVHpq5z//xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIDEv/aAAgBAwEBPwF2NSNn/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEh/9oACAECAQE/AZiP/8QAHBABAAICAwEAAAAAAAAAAAAAAQIRAAMQIjEy/9oACAEBAAY/AlDzHp48bZVdVkdklGK/PH//xAAaEAADAQEBAQAAAAAAAAAAAAAAAREhMXGx/9oACAEBAAE/Ibu/okD8MUhXXKZto8fpzGVaU0f/2gAMAwEAAgADAAAAEBj/AP/EABYRAAMAAAAAAAAAAAAAAAAAAAEQUf/aAAgBAwEBPxA8if/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EAsP/8QAHRAAAgIDAAMAAAAAAAAAAAAAAREAITFBUWFxgf/aAAgBAQABPxATegrZbC6VX2GQR5nAZCOxGaAq05WnGGKfoX5jN7jZzecjkLGs9Ln/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"festa do PC Game Show\"\n        title=\"festa do PC Game Show\"\n        src=\"/static/9b7cb544792f5e0a25356d10bd77cf9c/63217/pc_game_show_party.jpg\"\n        srcset=\"/static/9b7cb544792f5e0a25356d10bd77cf9c/db830/pc_game_show_party.jpg 256w,\n/static/9b7cb544792f5e0a25356d10bd77cf9c/8102f/pc_game_show_party.jpg 512w,\n/static/9b7cb544792f5e0a25356d10bd77cf9c/63217/pc_game_show_party.jpg 1024w,\n/static/9b7cb544792f5e0a25356d10bd77cf9c/d58d1/pc_game_show_party.jpg 1536w,\n/static/9b7cb544792f5e0a25356d10bd77cf9c/97b1a/pc_game_show_party.jpg 1576w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">festa do PC Game Show</figcaption>\n  </figure></p>\n<h2 id=\"dias-pos-e3\" style=\"position:relative;\"><a href=\"#dias-pos-e3\" aria-label=\"dias pos e3 permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dias pós E3</h2>\n<p>Na minha primeira E3, não tivemos tempo para explorar tudo o que Los Angeles oferecia, como passear pelo píer de Santa Monica, visitar lojas de jogos retrô, como a Game Dude, conhecer a Universal Studios, a Calçada da Fama em Hollywood e o Hollywood Sinal. Ficamos apenas uma semana lá, o suficiente para participar das conferências, da E3 e um dia extra para fazer compras, mas apenas isso.</p>\n<p>Em todas as minhas outras viagens à E3, fiquei pelo menos duas semanas. O suficiente para participar da E3 e ainda explorar o que mais LA tem a oferecer.</p>\n<p>Então, todo ano, depois que a E3 terminava, eu e meus amigos ainda tínhamos uma semana inteira para fazer coisas, procurar jogos em promoção, comer junk food e fazer outras atividades turísticas. Uma vez até fomos para Las Vegas durante um fim de semana, foi incrível!</p>\n<h2 id=\"voltando-para-casa\" style=\"position:relative;\"><a href=\"#voltando-para-casa\" aria-label=\"voltando para casa permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Voltando para casa</h2>\n<p>A despedida da E3 sempre foi um momento triste, especialmente durante minha primeira viagem a LA, que foi a viagem mais divertida que já tive.</p>\n<p>Voltar para casa sempre foi um pouco triste, mas pelo menos eu sabia que voltaria para Los Angeles no próximo ano para a E3. Ou pelo menos era o que eu pensava até 2019 😅.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAgMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAZc5zElsVKj/xAAZEAEBAQEBAQAAAAAAAAAAAAACAQADEhP/2gAIAQEAAQUCXRSlpGrpu59aKfGq7//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEv/aAAgBAwEBPwGSv//EABYRAQEBAAAAAAAAAAAAAAAAAAEDEP/aAAgBAgEBPwEoZ//EABwQAAEEAwEAAAAAAAAAAAAAAAABESGRAjEyof/aAAgBAQAGPwIjFLOUshRpc34f/8QAHBABAAIBBQAAAAAAAAAAAAAAAQARMVGBkaHR/9oACAEBAAE/ISqcRo7yfAwNbBWrmQUBTekS49J//9oADAMBAAIAAwAAABCsz//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCrX//EABcRAQEBAQAAAAAAAAAAAAAAAAEAETH/2gAIAQIBAT8Q6Rsb/8QAHhABAQABBAMBAAAAAAAAAAAAAREAITFBcVGx0eH/2gAIAQEAAT8QtS7KuNDkMimIE/HBJJTTVxs8vmEPB1iB2RGye8LNyEn0z//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Te vejo na E3 2020\"\n        title=\"Te vejo na E3 2020\"\n        src=\"/static/33c1a52743b117b1d6186b1c79d76504/63217/e3_see_you_next_year.jpg\"\n        srcset=\"/static/33c1a52743b117b1d6186b1c79d76504/db830/e3_see_you_next_year.jpg 256w,\n/static/33c1a52743b117b1d6186b1c79d76504/8102f/e3_see_you_next_year.jpg 512w,\n/static/33c1a52743b117b1d6186b1c79d76504/63217/e3_see_you_next_year.jpg 1024w,\n/static/33c1a52743b117b1d6186b1c79d76504/d58d1/e3_see_you_next_year.jpg 1536w,\n/static/33c1a52743b117b1d6186b1c79d76504/09658/e3_see_you_next_year.jpg 2048w,\n/static/33c1a52743b117b1d6186b1c79d76504/e7f75/e3_see_you_next_year.jpg 2592w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Te vejo na E3 2020</figcaption>\n  </figure></p>\n<p><a href=\"https://www.techtudo.com.br/noticias/2020/03/e3-2020-maior-feira-de-jogos-e-cancelada-por-conta-do-coronavirus.ghtml\" target=\"_blank\" rel=\"noreferrer\">Yeah…</a></p>\n<h2 id=\"a-e3-ainda-e-relevante\" style=\"position:relative;\"><a href=\"#a-e3-ainda-e-relevante\" aria-label=\"a e3 ainda e relevante permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A E3 ainda é relevante?</h2>\n<p>A E3, a grande convenção de jogos, tem sido um evento polêmico nos últimos anos. Alguns defendem que ela é necessária, enquanto outros argumentam que seu valor diminuiu com o tempo. Eu acho que precisamos da E3 de volta, e aqui estão alguns motivos pelos quais concordo com isso.</p>\n<p>Em primeiro lugar, é verdade que a E3 enfrentou sérios desafios nos últimos anos. O evento, que já havia começado a perder relevância, foi finalmente aberto ao público em 2017, mas não estava preparado para receber tantas pessoas. Isso resultou em filas intermináveis para entrar no evento e assistir às apresentações. Além disso, houve um grande vazamento de dados da E3 de 2019, o que prejudicou ainda mais a imagem do evento.</p>\n<p>No entanto, apesar de todos esses problemas, ainda acho que a E3 é importante. Isso se deve ao fato de que ela é uma ferramenta poderosa para criar buzz e aumentar a expectativa em torno dos lançamentos de jogos. Durante a E3, todos os entusiastas de jogos estão de olho no que está acontecendo, e é uma semana em que podemos esperar ansiosamente pelos lançamentos futuros.</p>\n<p>Sem a E3, ficamos sem ter uma ideia do que esperar da indústria de games no ano seguinte. Mesmo sem a E3, a maioria das empresas ainda usou a época da E3 de 2020 para anunciar seus novos jogos, mas sem o grande evento presencial, não foi a mesma coisa. Por exemplo, por que ainda há anúncios de filmes na Comic Con? Por que eles mostram trailers na Comic Con semanas antes de lançarem no YouTube? A expectativa de finalmente assistir ao trailer, sabendo que outras pessoas já o viram, lendo reações e comentários, é a mesma coisa que acontece na E3.</p>\n<p>Eu fui à Gamescom em 2019 e foi um evento incrível, mas quase todos os jogos que estavam lá já tinham sido anunciados e as apresentações eram as mesmas da E3. Então, apesar de ser um evento até três vezes maior do que a E3, não trouxe a mesma hype.</p>\n<h2 id=\"e-agora\" style=\"position:relative;\"><a href=\"#e-agora\" aria-label=\"e agora permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>E agora?</h2>\n<p>Ainda não está claro se o E3 2023 vai acontecer ou não, mas com a pandemia provavelmente chegando ao fim em breve, há uma boa chance de que a Electronic Software Association (ESA) consiga trazer o E3 de volta no próximo ano. Se isso acontecer, conte comigo! Eu sempre aguardo ansiosamente por participar do E3, pois não é só uma oportunidade de jogar jogos incríveis e conhecer novas pessoas, mas também uma chance de ter uma viagem incrível com meus amigos. Pode ser difícil para nós nos reunirmos, já que todos temos agendas cheias e moramos em países diferentes.</p>\n<p>O E3 é um evento especial para a comunidade de jogos, e é uma pena que tenha sido cancelado em 2020 e 2021 devido à pandemia. Mas tenho grandes expectativas de que ele volte em 2023, e estou ansioso para experimentar toda a emoção e hype que vem com ele. Desde os grandes anúncios de jogos até as demonstrações práticas, não há nada como estar no E3 pessoalmente.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHmWjUMyX//xAAaEAEBAQADAQAAAAAAAAAAAAABAgADESEx/9oACAEBAAEFAg9IFJlytbj6nP3/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAHBAAAQQDAQAAAAAAAAAAAAAAEQABAhADISJB/9oACAEBAAY/AmKDS8W8grqJr//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUXH/2gAIAQEAAT8hoAJfsBarOvIHfx1ExvhRAi8ObDSn/9oADAMBAAIAAwAAABBY/wD/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EMU//8QAHBABAQADAAMBAAAAAAAAAAAAAREAITFhceHw/9oACAEBAAE/EGA7cUlL2esKCNPOL8yQi8jiGggXn6YF1KFpFxQMN2HDP//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Time Nintendo Blast\"\n        title=\"Time Nintendo Blast\"\n        src=\"/static/98cc107e7213fa6b104251307e7d5c8a/63217/nintendo_blast_crew.jpg\"\n        srcset=\"/static/98cc107e7213fa6b104251307e7d5c8a/db830/nintendo_blast_crew.jpg 256w,\n/static/98cc107e7213fa6b104251307e7d5c8a/8102f/nintendo_blast_crew.jpg 512w,\n/static/98cc107e7213fa6b104251307e7d5c8a/63217/nintendo_blast_crew.jpg 1024w,\n/static/98cc107e7213fa6b104251307e7d5c8a/d58d1/nintendo_blast_crew.jpg 1536w,\n/static/98cc107e7213fa6b104251307e7d5c8a/09658/nintendo_blast_crew.jpg 2048w,\n/static/98cc107e7213fa6b104251307e7d5c8a/49580/nintendo_blast_crew.jpg 3648w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Time Nintendo Blast</figcaption>\n  </figure></p>\n<p>Vamos torcer para que a E3 volte em 2023 e nos vemos lá!</p>","fields":{"slug":"/2022/2022-06-01-aniversario-de-10-anos-da-minha-primeira-e3.pt-br/","path":"/blog/games/aniversario-de-10-anos-da-minha-primeira-e3/","locale":"pt-br"},"readingTime":{"minutes":17.03},"frontmatter":{"date":"2022-06-01T00:00:00.000Z","title":"Aniversário de 10 anos da minha primeira E3","categories":["games"]}}},{"node":{"excerpt":"Eu constantemente escrevo sobre programação e compartilho…","html":"<p>Eu constantemente escrevo sobre programação e compartilho trechos de código nos meus posts, e copiar e colar código é uma habilidade essencial para qualquer programador, e como selecionar um texto e pressionar <code class=\"language-text\">CTRL + C</code> então <code class=\"language-text\">CTRL + V</code> é muito trabalhoso, eu decidi adicionar um botão de cópia a todos os meus códigos para facilitar a vida de todos os meus colegas programadores da internet.</p>\n<h2 id=\"possiveis-solucoes\" style=\"position:relative;\"><a href=\"#possiveis-solucoes\" aria-label=\"possiveis solucoes permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Possíveis soluções</h2>\n<p>A maneira correta de fazer isso é criar um plugin para acessar o processo de geração de HTML do Gatsby e acessar o objeto que contém o código na estrutura de dados AST. Existe um <a href=\"https://thundermiracle.medium.com/add-copy-button-to-your-gatsbyjs-blogs-code-block-a2711364a229\" target=\"_blank\" rel=\"noreferrer\">tutorial muito bom</a> feito pelo <a href=\"https://thundermiracle.medium.com/\" target=\"_blank\" rel=\"noreferrer\">@thundermiracle</a> sobre como fazer isso.</p>\n<p>Claro, eu decidi fazer isso do jeito preguiçoso e com gambiarras, que é alterando a string HTML na função <code class=\"language-text\">createPages</code> no arquivo <code class=\"language-text\">gatsby-node.js</code>.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O código</h2>\n<p>Dentro do loop que cria as páginas dos posts, eu adicionei o seguinte código no arquivo <code class=\"language-text\">gatsby-node.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> actions<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"> /* some graphQL query */ </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">edge</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> alternativeHtml <span class=\"token operator\">=</span> <span class=\"token function\">generateAlternativeHtml</span><span class=\"token punctuation\">(</span>edge<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        actions<span class=\"token punctuation\">.</span><span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/PostTemplate.jsx</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> alternativeHtml <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Para a função <code class=\"language-text\">generateAlternativeHtml</code>, usarei o pacote <a href=\"https://www.npmjs.com/package/jsdom\" target=\"_blank\" rel=\"noreferrer\">jsdom</a> para analisar a string HTML e convertê-la em um objeto DOM e usar o método <code class=\"language-text\">querySelectorAll</code> para encontrar todos os nodes com código no post e adicione o botão de cópia a eles.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">generateAlternativeHtml</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">html</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> dom <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JSDOM</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> document <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> codeSnippets <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.gatsby-highlight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    codeSnippets<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">codeSnippet</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        wrapper<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copy-code-block'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// add your own css styles here, css classes, etc.</span>\r\n        <span class=\"token keyword\">const</span> copyButton <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        copyButton<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'Copy'</span><span class=\"token punctuation\">;</span>\r\n        codeSnippet<span class=\"token punctuation\">.</span><span class=\"token function\">insertAdjacentHTML</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">afterend</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> copyButton<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora todos os nodes de código terão um botão de cópia, mas o botão não faz nada. Para resolver isso, vou adicionar eventos <code class=\"language-text\">onclick</code> aos botões de cópia para quando o botão for clicado, copiar o código. Isso precisa ser feito na parte <code class=\"language-text\">React</code> do código com um <code class=\"language-text\">useEffect</code> no arquivo <code class=\"language-text\">PostTemplate.jsx</code>.</p>\n<p>Para copiar o código usarei o pacote <a href=\"https://www.npmjs.com/package/clipboard-copy\" target=\"_blank\" rel=\"noreferrer\">clipboard-copy</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> copy <span class=\"token keyword\">from</span> <span class=\"token string\">'clipboard-copy'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogPostTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> alternativeHtml <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pageContext<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> codeSnippets <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.copy-code-block button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        codeSnippets<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">elementWrapper</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            codeSnippet<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> codeSnippet <span class=\"token operator\">=</span> elementWrapper<span class=\"token punctuation\">.</span>parentElement<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.gatsby-highlight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">const</span> code <span class=\"token operator\">=</span> codeSnippet<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">copy</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>section<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>markdownRemark<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> alternativeHtml <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Feito! Super gambiarrado, but hey, it works! :)</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Essa solução adiciona um pouco de sobrecarga ao processo Static Site Generator e alguma manipulação de DOM no cliente, mas é uma boa solução por enquanto. Se você está procurando uma solução rápida e fácil, este é o melhor jeito de fazer.</p>\n<p>É isso pessoal, espero que esse post tenha sido útil para você.</p>","fields":{"slug":"/2022/2022-05-05-adicionando-botao-para-copiar-code-snippets-no-gatsby-gambiarra.pt-br/","path":"/blog/coding/adicionando-botao-para-copiar-code-snippets-no-gatsby-gambiarra/","locale":"pt-br"},"readingTime":{"minutes":2.38},"frontmatter":{"date":"2022-05-05T00:00:00.000Z","title":"Adicionando botão para copiar code snippets no Gatsby (gambiarra)","categories":["coding"]}}},{"node":{"excerpt":"Webpack é o bundler de módulos mais popular para JavaScript…","html":"<p>Webpack é o <em>bundler</em> de módulos mais popular para JavaScript, é uma ferramenta para agrupar módulos em um único arquivo e mais.</p>\n<p>Uma coisa que sempre me deixou curioso foi como ele resolve os <em>imports</em> dinâmicos, quer dizer, eu sabia que não era mágica, mas não sabia como funcionava, e sempre esquecia de pesquisar depois… até agora.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1007px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.67187499999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABNklEQVQY022QXW6DMBCEuU1VAokxxMTBib22sdeGQP7al6oX6Al6/IpQ0aqqNNqX0czufkkBmDVmtdcph5TDaq8X5cLmws7uv0oKiPmhpToWEHJhFyPlQCEc+jtV+Lv0u+sxk8r0RCJzY+3PzA1ZY9aHNmvM5uhYe2ritXbDnEk55MISFTYSqY5EYlL7cdsOFCJzQ+3HpXvnR/fyvvPjsb8T6anCtbCZsKXpiMLKnogKSY0X5oat7anutu60hDme5fBKIZQ6ljoWCol0ubAUIlFh2qwwmbxHkuoouvtqP51dKNy5YR8urD1tbZ81Zj47E3bnRwqR47k0XUIklrZv4o1InIGlHEodK9OV02OeQvgDOeXwxGTKIeF4IQrzxj6QwoJ01ubofmKNea6Plb/ePj7D6xtr+y/liXJ/sFdToQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Mágica?\"\n        title=\"Mágica?\"\n        src=\"/static/e6e021a037da7763c8f6affd02c34110/b82a7/webpack-magic.png\"\n        srcset=\"/static/e6e021a037da7763c8f6affd02c34110/e3135/webpack-magic.png 256w,\n/static/e6e021a037da7763c8f6affd02c34110/06341/webpack-magic.png 512w,\n/static/e6e021a037da7763c8f6affd02c34110/b82a7/webpack-magic.png 1007w\"\n        sizes=\"(max-width: 1007px) 100vw, 1007px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Mágica?</figcaption>\n  </figure></p>\n<h2 id=\"como-funciona-o-import-de-arquivos\" style=\"position:relative;\"><a href=\"#como-funciona-o-import-de-arquivos\" aria-label=\"como funciona o import de arquivos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Como funciona o import de arquivos</h2>\n<p>Sempre que você importar um arquivo em seu código, o Webpack irá procurá-lo na pasta do projeto e copiá-lo para a pasta de <code class=\"language-text\">build</code> com um novo nome, então o Webpack substituirá o código que importa esse arquivo em seu arquivo JavaScript pelo <em>path</em> para o arquivo recém-copiado.</p>\n<p>Aqui está um exemplo super simplificado:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// import on your app.js file</span>\r\n<span class=\"token keyword\">import</span> utils <span class=\"token keyword\">from</span> <span class=\"token string\">'./helpers/utils.js'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// import on the bundled file</span>\r\n<span class=\"token keyword\">import</span> utils <span class=\"token keyword\">from</span> <span class=\"token string\">'./build/09wdj0wjd.bundle.0.js'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"o-que-e-um-import-dinamico\" style=\"position:relative;\"><a href=\"#o-que-e-um-import-dinamico\" aria-label=\"o que e um import dinamico permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O que é um import dinâmico?</h2>\n<p>Às vezes você não quer que o browser baixe o arquivo imediatamente, você quer carregá-lo apenas quando for necessário, e para isso, você pode usar um <em>import</em> dinâmico.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nbutton<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'Click me'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// when the button is clicked, a dynamic import will happen</span>\r\nbutton<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./helpers/utils.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Dynamic import'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>É possível usar <em>import</em> dinâmicos com praticamente qualquer arquivo, por isso é bastante útil para imagens ou arquivos de áudio grandes, por exemplo.</p>\n<p>Mas o que acontece quando você quer importar um arquivo com um <em>path</em> variável?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fileName <span class=\"token operator\">=</span> <span class=\"token string\">'image.jpg'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nbutton<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'Click me'</span><span class=\"token punctuation\">;</span>\r\nbutton<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./assets/images/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fileName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Como o Webpack sabe qual arquivo copiar para a pasta <code class=\"language-text\">build</code>? Bem, existe uma maneira de dizer ao Webpack para ignorar o <em>import</em> e deixar o browser resolve-lo como quiser com o comentário <code class=\"language-text\">/* webpackIgnore: true */</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token string\">'assets/images/image.jpg'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// the browser will resolve this import and fail if the file doesn't exist</span>\r\n<span class=\"token keyword\">const</span> module <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token comment\">/*webpackIgnore: true*/</span> path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Isso é bem maneiro, mas de alguma forma também é possível não fazer isso e deixar o Webpack descobrir o <em>path</em> para o arquivo. Mas como?</p>\n<p><img src=\"/6061b99ae0d312b222b91b3f265dbe9e/magic.gif\" alt=\"Magic\"></p>\n<h2 id=\"o-truque-de-magica\" style=\"position:relative;\"><a href=\"#o-truque-de-magica\" aria-label=\"o truque de magica permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O truque de mágica</h2>\n<p>Na verdade, não é tão complicado, mas vem com algumas ressalvas. Por exemplo, se você importar um arquivo com um <em>path</em> variável, pelo menos uma parte desse <em>path</em> precisa ser explícito no código, por exemplo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// this works</span>\r\n<span class=\"token keyword\">const</span> fileName <span class=\"token operator\">=</span> <span class=\"token string\">'image.jpg'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">let</span> module <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./assets/images/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fileName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// this doesn't work</span>\r\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token string\">'./assets/images/image.jpg'</span><span class=\"token punctuation\">;</span>\r\nmodule <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Por que isso? A maneira como o Webpack faz isso é analisando o <em>path</em> da string interpolada durante o processo de compilação, e ele obterá a parte explícita da string, neste exemplo <code class=\"language-text\">assets/images/</code>, e então copiará todos os arquivos dessa pasta para a pasta <code class=\"language-text\">build</code>.</p>\n<p>O Webpack faz isso de uma maneira muito inteligente também, se o <em>import</em> incluir a extensão do arquivo, ele copiará apenas os arquivos com essa extensão, por exemplo <code class=\"language-text\">import(`./assets/images/${fileName}.png`)</code> só copiará arquivos <code class=\"language-text\">PNG</code>.</p>\n<p>Como o Webpack faz isso analisando a string no <em>import</em>, ele não é capaz de saber quais arquivos copiar quando o <em>path</em> inteiro é uma variável sem uma parte explícita.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>O Webpack pode ter uma configuração complicada e, às vezes, pode parecer feitiçaria, mas é uma ferramenta muito poderosa com muitos recursos e, se você se aprofundar o suficiente, descobrirá que sua implementação não é tão complicada.</p>\n<p>Se você quiser saber mais sobre o Webpack, você pode conferir a <a href=\"https://webpack.js.org/\" target=\"_blank\" rel=\"noreferrer\">documentação oficial</a>, e você pode ler mais sobre <a href=\"https://webpack.js.org/api/module-methods/\" target=\"_blank\" rel=\"noreferrer\"><strong>Module Methods</strong> aqui</a> e <a href=\"https://webpack.js.org/guides/code-splitting/#dynamic-imports\" target=\"_blank\" rel=\"noreferrer\"><strong>Dynamic Imports</strong> aqui</a>.</p>","fields":{"slug":"/2022/2022-04-11-como-o-webpack-resolve-imports-dinamicos-com-paths-variaveis.pt-br/","path":"/blog/coding/como-o-webpack-resolve-imports-dinamicos-com-paths-variaveis/","locale":"pt-br"},"readingTime":{"minutes":2.96},"frontmatter":{"date":"2022-04-11T00:00:00.000Z","title":"Como o Webpack resolve imports dinâmicos com paths variáveis","categories":["coding"]}}},{"node":{"excerpt":"Se você quer alugar ou comprar uma casa na Holanda, é melhor…","html":"<p>Se você quer alugar ou comprar uma casa na Holanda, é melhor se preparar porque não é uma tarefa fácil, especialmente se você estiver procurando em Amsterdam.</p>\n<p>Candidatar-se para alugar ou comprar uma casa é como uma entrevista de emprego ou como obter um visto para outro país. Você precisa fornecer seus contracheques, contrato de trabalho, recomendações de proprietários anteriores e muito mais.</p>\n<p>Não só isso, mas muitas vezes você nem tem a chance de ir ver a casa, porque eles já têm tantos pedidos de pessoas querendo ir ver a casa que eles não precisam aceitar mais. Às vezes, dentro de 2 dias após a casa ser listada no <a href=\"https://funda.nl/\" target=\"_blank\" rel=\"noreferrer\">Funda.nl</a>, eles já não estão agendando visitas.</p>\n<p>Se você pelo menos conseguir marcar uma visita, verá a casa com muitas outras pessoas e <a href=\"https://dutchreview.com/traveling/cities/amsterdam/an-amsterdam-apartment-with-fair-rent-queue-stretches-around-the-block/\" target=\"_blank\" rel=\"noreferrer\">às vezes até fazer fila para isso</a>.</p>\n<p>Por causa disso, eu tive que abrir constantemente o Funda.nl e verificar novas casas, para que assim que uma nova casa estivesse disponível eu pudesse marcar uma visita.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 857px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSUlEQVQoz2WQ60tTYQDG91f0B4i57Vze97xnO26zmwSGIllqNGGrkPBajlnWpg6ZWE4r0lo3IlIqocgv9VVEKFSUcLqFY+u4tjw7Z5d2ds42bxUZXoLMH8/XH8/Do5BWN6TVDUHOCXIums7IPzefvXiJaKTT6TSIYGigQYBCCEBII5JGJAVJDMN3UPBSjpdygrwWk9ejUi6+su4P8xcbWquqqo8a6MN6pNXSDKPV0oiCJNoOBOSuLMhyPPs7IIzNhRyJ7K+EvBbm2OdDttMV5UUM0iNQqKGL9LQWgS2ZAjS15f9tlteT2c3JYP/4vHpZ3vRLgocfCmbcF1rPH2SOw+JSHCJMrcIw/J/s7lZE4qOplYmpkGns04Hx8FSd60HnLddlR1d9W4epyXbuUnu59QbUHcJUSpwg8L0oQtHr79+Y3o7UeOZrveKTM+Zm56myvlqzvbzkXkvDU2tdk7m2qKZJnZ9HEOT/cjjRPVCv7a3MD0Y6uWTXq5kRa/8d50N3W5/L4b7f0NFrbOkuaekBOAYA3CfHeyZmrvp8jf6A08/aZ1njPN/n5Qe9/CAruXvcjUqmuPDIMUhBktzXnFnLXPOkLZO+pe+iIImBGMunhIScionJVFb8FuPLTlSolQUQAmKbPXLaM3xy9GPz9OLch9eRlDchfY6KXk5c4MSFSNIj/fjyeNiuKsgzMJRGg2hag+Nbb+8crigduG171H7FZbnbX/lu8eZc2PaVs7CcdWk77LJlevFstdGgVBKAIklAAEBCAAGABEH8AX6ULwUbFNkZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"funda scraper\"\n        title=\"funda scraper\"\n        src=\"/static/82fc245c2e60c74dd352f6bb36dfa4f4/87817/funda-scraper.png\"\n        srcset=\"/static/82fc245c2e60c74dd352f6bb36dfa4f4/e3135/funda-scraper.png 256w,\n/static/82fc245c2e60c74dd352f6bb36dfa4f4/06341/funda-scraper.png 512w,\n/static/82fc245c2e60c74dd352f6bb36dfa4f4/87817/funda-scraper.png 857w\"\n        sizes=\"(max-width: 857px) 100vw, 857px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"partiu-automatizar\" style=\"position:relative;\"><a href=\"#partiu-automatizar\" aria-label=\"partiu automatizar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Partiu automatizar!</h2>\n<p>O bom do Funda.nl é que eles possuem uma grande variedade de filtros para a busca, e esses filtros ficam salvos na URL. Nice!</p>\n<p>Por exemplo, <a href=\"https://www.funda.nl/en/huur/amsterdam/beschikbaar/0-2000/40+woonopp/2+slaapkamers/1-dag/\" target=\"_blank\" rel=\"noreferrer\">este link</a> listará todas as casas publicadas desde 1 dia atrás, com 2 quartos, no mínimo 40m² e no máximo €2000 de aluguel.</p>\n<p>Os resultados nesta página estão listados em um elemento HTML <code class=\"language-text\">li</code> com uma classe <code class=\"language-text\">search-result</code>, com isso dá para obter todos os elementos com o <code class=\"language-text\">document.querySelectorAll('.search-result')</code> e dentro de cada um dos desses elementos, posso obter o link para a casa com <code class=\"language-text\">element.querySelectorAll('a').[0].href</code>.</p>\n<p>Agora com o <code class=\"language-text\">puppeteer.js</code> eu posso automatizar um processo de ir a essa URL e verificar se alguma casa nova apareceu e salvá-la em um arquivo. Como este é um script Node.js, usarei o <code class=\"language-text\">jsdom</code> para trabalhar com os elementos DOM.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> writeFileSync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> puppeteer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'puppeteer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> jsdom <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jsdom'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">runTask</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token string\">'https://www.funda.nl/en/huur/amsterdam/beschikbaar/0-2000/40+woonopp/2+slaapkamers/1-dag/'</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">headless</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">waitUntil</span><span class=\"token operator\">:</span> <span class=\"token string\">'domcontentloaded'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> htmlString <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">content</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> dom <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">jsdom<span class=\"token punctuation\">.</span>JSDOM</span><span class=\"token punctuation\">(</span>htmlString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.search-result'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> element <span class=\"token keyword\">of</span> result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    urls<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>element<span class=\"token operator\">?.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?.</span>href<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'urls.json'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">runTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora eu posso simplesmente executar <code class=\"language-text\">node script.js</code> e terei todas as URLs em um arquivo <code class=\"language-text\">urls.json</code>.</p>\n<h2 id=\"enviando-novas-urls-para-o-telegram\" style=\"position:relative;\"><a href=\"#enviando-novas-urls-para-o-telegram\" aria-label=\"enviando novas urls para o telegram permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Enviando novas URLs para o Telegram</h2>\n<p>Em vez de salvar as URLs em um arquivo <code class=\"language-text\">urls.json</code>, quero que essas URLs sejam enviadas para um grupo do Telegram usando um bot, para isso precisarei usar o <code class=\"language-text\">node-fetch</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> nodeFetch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node-fetch'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">runTask</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> element <span class=\"token keyword\">of</span> result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">nodeFetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://api.telegram.org/bot</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">BOT_API</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/sendMessage</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> element<span class=\"token operator\">?.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?.</span>href<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">chat_id</span> <span class=\"token operator\">:</span> <span class=\"token constant\">CHAT_ID</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">parse_mode</span> <span class=\"token operator\">:</span> <span class=\"token string\">'markdown'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">runTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Isso é ótimo, mas não é muito útil porque não quero ter que executar o script manualmente, então partiu corrigir isso.</p>\n<h2 id=\"usando-o-github-actions\" style=\"position:relative;\"><a href=\"#usando-o-github-actions\" aria-label=\"usando o github actions permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando o GitHub Actions</h2>\n<p>GitHub Actions é ótimo, eu uso o tempo todo para tarefas como testes e builds do meu blog, mas também pode ter <a href=\"https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule\" target=\"_blank\" rel=\"noreferrer\">scripts rodando periódicamente</a> usando <code class=\"language-text\">cron</code>.</p>\n<p>Para este script, preciso usar <a href=\"https://github.com/actions/checkout\" target=\"_blank\" rel=\"noreferrer\">actions/checkout</a> para fazer o checkout do meu código e <a href=\"https://github.com/stefanzweifel/git-auto-commit-action\" target=\"_blank\" rel=\"noreferrer\">stefanzweifel/git-auto-commit-action</a> para persistir uma lista das URLs que já foram enviadas ao Telegram.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run Task\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*/30 * * * *\"</span>\r\n\r\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\r\n\r\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2.4.0\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">ref</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.head_ref <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Running\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          npm cache clean --force\r\n          npm install\r\n          npm run task</span>\r\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">CHAT_ID</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.CHAT_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">BOT_API</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.BOT_API <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> stefanzweifel/git<span class=\"token punctuation\">-</span>auto<span class=\"token punctuation\">-</span>commit<span class=\"token punctuation\">-</span>action@v4\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">commit_message</span><span class=\"token punctuation\">:</span> Update db.json\r\n          <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main</code></pre></div>\n<p>E é isso! Agora, sempre que uma nova casa estiver listada na minha URL, receberei uma mensagem no Telegram 🎉.</p>\n<h2 id=\"bonus\" style=\"position:relative;\"><a href=\"#bonus\" aria-label=\"bonus permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bonus</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 547px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 107.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEEElEQVQ4y23USWwbVRgH8AjEqXZsOV4SK4snY88be2Y89sy82Tz2jGefccZ2SJyQRApr2SGiRJVoVKgqLkSQYlrRqi1BiAviwAEEHMsBQZWITeWGRBOpwIkThRa4gONEpRV/vcO7/PTpPX3fNxCJRsOhULZQgHW9rNRKkgwAwACGYRgAIJvNopM5dBJDEHTi9gwNDQ1EIpFwOJzNZgVBYPcCIeR6gRBCnueJPEMWIA7oDJJB/pN4PL6PURQVRXHPcDRNQwgFQehXyGT65za5j6PRaCgUomm60+k0Gg3f91utpmVZrutpqkaS5MTEnexOTBCE73me6/qeZ9u2bdm1mqppGsdxCIKgKDp5kP/BFEU2pgLdsEzLUdV6TVWJQiGXzcZisXh8KJlMjIyMjI6OptPpg//K3MIFnJqf9h5a9JYXnMMPdlafX9k41T177kL39Jlu9/T6+qsrK886ltKZneZYii3TZZpMJBI9fCgUIvOlh+ftw4vGXIt5YEl56YVHL54/s7219edff1/d2f32uyvn3nzt6SeWj6w8aZl1RRYUGaZSqf3KeUBN6cJCu+aoZGATjyxWH7vf7W6cvP77Hzdu3Pzx6u7bm28FvtEMfMvUaxUo8n0ciYbCoTwoyixlVai5QJ0N5IZNtqfY+XvFrcuXfvn5p7WjzyzM+romqKrqeoFcUauVWiqZPHhzvlSFRQ3iywvtwK52Wna9VtQq2Im1x4+vHRXYHM8CSRJtr+147VKZF6Xq8PBwHx8qFLiaooiw6Nqmo2vTrXZdN+RqfWZm5r6FJQbKgqKzUFZ13/Q7DFRYTkwmkwORSK8yDkocJ1AUSTM8y3GQF3TTKRbJbvf1Cxc3dct1/GlRMYLZ5YrmjyGgxErJROKgt1ECxzCQQwiSwHCixMm2487OLXx+ZeeTS5clkcdxkpDbgIIIiqfSYwgKEn08OBjOThaKNC1WFNO0JZ73DM2x7dXj61/+8Ov2zm9n3v3QdIJINJYF1CSKxqLhzPj4LYxkcIbhqppp6npNgmpFMAzj5VOb31y7+fXu9Q8++/65FzeaM0tQrALOl402lOuxWOzgw/JlkijQBOboNR5yZYZRasaxV85/+tW1j7d33vnoi9WTbzy1ekLRp8ZzJWX6SEZaHorvdVgkGsmhJGT0IlkCIJfDsFwOA3ieKpY5QS5zAsMJRZohKJousxiWG0MwBAW93h4cHLzn7rvygG4GbdO0TNM0TMOyTMMwTNNwHUfTNFVVe4NmW5qm0jQ9PjaayUz0cCqdZqrVQp4JgsD1eiMZBFO2bXue12w2W62W04vr+w1d10VRhBBKksSybA9jDHvsvfdxoiSJkiiKgiBUKhVBEPfuPM/3br1lRBD9wc71noUBgP+7w/4B5DorbrXMqwIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Agora corre pra marcar uma visita na casa!\"\n        title=\"Agora corre pra marcar uma visita na casa!\"\n        src=\"/static/b167f6a479ff3551a706ec1719572d7d/25257/telegram-funda-message-with-stats.png\"\n        srcset=\"/static/b167f6a479ff3551a706ec1719572d7d/e3135/telegram-funda-message-with-stats.png 256w,\n/static/b167f6a479ff3551a706ec1719572d7d/06341/telegram-funda-message-with-stats.png 512w,\n/static/b167f6a479ff3551a706ec1719572d7d/25257/telegram-funda-message-with-stats.png 547w\"\n        sizes=\"(max-width: 547px) 100vw, 547px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Agora corre pra marcar uma visita na casa!</figcaption>\n  </figure></p>\n<p>Existe uma <a href=\"https://github.com/nikitaindik/funda-neighbourhoods\" target=\"_blank\" rel=\"noreferrer\">extensão para Chrome de código aberto muito boa</a> que adiciona muitos dados novos ao Funda.nl sobre a casa, então copiei algumas partes do código desse projeto para adicione informações extras às casas enviadas para o Telegram.</p>\n<p>Você pode <a href=\"https://github.com/blopa/funda-scraper\" target=\"_blank\" rel=\"noreferrer\">clonar este projeto no GitHub</a>, adicionar sua própria lista de URLs do Funda.nl e o script será executado automaticamente a cada 30 minutos para verificar novas casas e enviá-las para o Telegram.</p>\n<p>Até a próxima, pessoal!</p>","fields":{"slug":"/2022/2022-03-12-usando-nodejs-e-github-action-para-encontrar-uma-casa-no-fundanl.pt-br/","path":"/blog/coding/usando-nodejs-e-github-action-para-encontrar-uma-casa-no-fundanl/","locale":"pt-br"},"readingTime":{"minutes":3.625},"frontmatter":{"date":"2022-03-12T00:00:00.000Z","title":"Usando Node.js e GitHub Action para encontrar uma casa no Funda.nl","categories":["coding"]}}},{"node":{"excerpt":"EDIT: Isso só funciona para o React 17 ou inferior, para o…","html":"<p><em><strong>EDIT: Isso só funciona para o React 17 ou inferior, <a href=\"/pt-br/blog/coding/como-acessar-o-state-do-redux-de-um-build-de-producao-do-react-18/\">para o React 18 veja esse post</a>.</strong></em></p>\n<p>Às vezes você quer debugar o state do Redux em produção, mas o <a href=\"https://github.com/zalmoxisus/redux-devtools-extension\" target=\"_blank\" rel=\"noreferrer\">redux-devtools</a> só está habilitado para development, o que fazer numa situação dessas?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1012px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC90lEQVQozx2S22tcVRyFz//iq+CTPhT0RR/ESKEq1kSDCSQYlWpjTMZLTbTGIQmReGkSU0GiJrbgWKitaBpKffHSUJRKOzXBmtiZM+fs62/fzz77zJmR6eN6+BYL1hdhjPf29owxnU4HAFSzSRFinGmtpZR3mnGzheMEHTQRYYKBwCm+00hjxOJWEsVxnCRpnocQCu99yIP3ufd5URQcoBWjOKGEcpBaSA1CUAaEcaW11DriAJRSEAKkYpxzDgCCcwihEEIqEEkr+a/RQAhxDkJIY611znuvtY6uXL509dof31/88ezm+vbWxVv1m51O17msKNoAglGWYsKlIIQKIXQPzLLMh6Kw1kT1+o0Ukf2Dg+t/XmM4NgqKoh1CURRt65zWWnCppTHWamO5tJnPTC85rU3UKUsphfd5WXZASmttCIVSSgjp8zyzWVKP092EpBhhRpkC0VtgjDHaRDZ0lS+73W5RtPMQMu/LsgyhMMa0yzIzjtzGNCGMMsaZEEJKrbQ21mbeR+curFXnp5cW319ZXanVvt3Z+bVWO3P1lytb25e3Lm0H79N6klyP8b8YtzAlhHOhlXJKeueiUx9VXhk5OjoyPDg4MDc9sf7Z0oczr5147sGpkSfO1zbzLMe7KdpHnAGlTEmplJJSSsatNtHq6S9PfjD/xfpXb4yPvXlsaGlxfudM9efKfZXH71mrTnQ7neRGTBqYckYZp1wAKMaAcWlcFq1Upz599/jyyYnjY8/3H3nkheH+9068vvn2kbnhQ2vV8dzn+O8UNxCljDJAmBFKWc8FcM5Fny/NLi9Mz89Mnju7fvTJvrfGR2cmXxp66tFvFis/fL1sjMO3UvRPSjDFhGMMGGNyt6AHL8xMvDj8zMdz71z4bmN2cnSkv6/y8rOHH37gk6mh+vnTWZajmy1yG3MKd+1TjDHo3SV78MbqwuDTh6enjv31+0+/bW28Otg3Pjbw0P33Djx2qHZq1jm/v9tMWghTyrngAEJKDsJlXhvzP7EptDiqnUkUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"redux state on instagram\"\n        title=\"redux state on instagram\"\n        src=\"/static/7063c62ea526ac52ef9bd28c860aecb6/9d874/redux-state-on-instagram.png\"\n        srcset=\"/static/7063c62ea526ac52ef9bd28c860aecb6/e3135/redux-state-on-instagram.png 256w,\n/static/7063c62ea526ac52ef9bd28c860aecb6/06341/redux-state-on-instagram.png 512w,\n/static/7063c62ea526ac52ef9bd28c860aecb6/9d874/redux-state-on-instagram.png 1012w\"\n        sizes=\"(max-width: 1012px) 100vw, 1012px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"tldr\" style=\"position:relative;\"><a href=\"#tldr\" aria-label=\"tldr permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TL;DR</h2>\n<p>Rode o script abaixo no browser.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> internalRoot <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*[id]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> el<span class=\"token operator\">?.</span>_reactRootContainer<span class=\"token operator\">?.</span>_internalRoot<span class=\"token operator\">?.</span>current<span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>_reactRootContainer<span class=\"token operator\">?.</span>_internalRoot<span class=\"token operator\">?.</span>current<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>internalRoot<span class=\"token operator\">?.</span>pendingProps<span class=\"token operator\">?.</span>store <span class=\"token operator\">||</span> internalRoot<span class=\"token operator\">?.</span>stateNode<span class=\"token operator\">?.</span>store <span class=\"token operator\">||</span> internalRoot<span class=\"token operator\">?.</span>memoizedState<span class=\"token operator\">?.</span>element<span class=\"token operator\">?.</span>props<span class=\"token operator\">?.</span>store<span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>getState<span class=\"token operator\">?.</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"acessando-todos-os-states-do-redux\" style=\"position:relative;\"><a href=\"#acessando-todos-os-states-do-redux\" aria-label=\"acessando todos os states do redux permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Acessando todos os states do Redux</h2>\n<p>Recentemente eu tive que debugar um problema em produção que eu precisava para acessar o state do Redux, então me deparei com <a href=\"https://til-engineering.nulogy.com/Accessing-Redux-Store-Without-Redux-DevTools/\" target=\"_blank\" rel=\"noreferrer\">esta solução</a>, que precisava que a extensão <a href=\"https://github.com/facebook/react-devtools\" target=\"_blank\" rel=\"noreferrer\">React DevTools</a> fosse instalada no browser, eu testei e realmente funcionou, mas depois fiquei pensando como isso poderia ser feito sem o uso de extensões.</p>\n<p>Após pesquisar um pouco, encontrei <a href=\"https://stackoverflow.com/a/57909332/4307769\" target=\"_blank\" rel=\"noreferrer\">esta solução</a> no Stack Overflow, o que me levou a criar o seguinte script:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Traverse a dom element</span>\r\n<span class=\"token keyword\">const</span> stores <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">traverse</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">let</span> store <span class=\"token operator\">=</span>\r\n    element<span class=\"token operator\">?.</span>memoizedState<span class=\"token operator\">?.</span>element<span class=\"token operator\">?.</span>props<span class=\"token operator\">?.</span>store\r\n    <span class=\"token operator\">||</span> element<span class=\"token operator\">?.</span>pendingProps<span class=\"token operator\">?.</span>store\r\n    <span class=\"token operator\">||</span> element<span class=\"token operator\">?.</span>stateNode<span class=\"token operator\">?.</span>store<span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    stores<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">.</span>child<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">traverse</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">.</span>child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Find the root element for React</span>\r\n<span class=\"token keyword\">const</span> reactRoot <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"*[id]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> el<span class=\"token operator\">?.</span>_reactRootContainer<span class=\"token operator\">?.</span>_internalRoot<span class=\"token operator\">?.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> internalRoot <span class=\"token operator\">=</span> reactRoot<span class=\"token punctuation\">.</span>_reactRootContainer<span class=\"token punctuation\">.</span>_internalRoot<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Traverse the root react element to find all Redux States in the app</span>\r\n<span class=\"token function\">traverse</span><span class=\"token punctuation\">(</span>internalRoot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Após executar este script, todos os states Redux estarão disponíveis na variável <code class=\"language-text\">stores</code>, e você pode acessá-los via <code class=\"language-text\">[...stores].map((store) => store.getState())</code>.</p>\n<p>Nos vemos na próxima, galera!</p>","fields":{"slug":"/2022/2022-02-20-como-acessar-o-estado-do-redux-de-um-production-build-usando-o-console-do-browser.pt-br/","path":"/blog/coding/como-acessar-o-estado-do-redux-de-um-production-build-usando-o-console-do-browser/","locale":"pt-br"},"readingTime":{"minutes":1.21},"frontmatter":{"date":"2022-02-20T00:00:00.000Z","title":"Como acessar o state do Redux em produção usando o console do browser","categories":["coding"]}}},{"node":{"excerpt":"Quando eu estava trabalhando nos videos dos meus Game…","html":"<p>Quando eu estava trabalhando nos videos dos meus Game Devlogs, eu ficava pensando se seria possível criar automaticamente videos dos meus códigos, que dai ficaria bem mais fácil para criar os meus vídeos, mas como não achei nada relacionado a isso na internet, eu meio que desisti dessa idéia.</p>\n<p>Até que algumas semanas atrás eu estava mexendo com <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" target=\"_blank\" rel=\"noreferrer\">AST</a> e renderizando componentes em <code class=\"language-text\">React</code> usando <code class=\"language-text\">Node.js</code> e <code class=\"language-text\">Babel</code> e eu percebi que seria possível usar a função <code class=\"language-text\">renderToStaticMarkup</code> para renderizar um HTML com os meus códigos em um headless browser com o Puppeteer e fazer uma gravação dessa página.</p>\n<p>O objetivo é conseguir criar um vídeo como o do GIF abaixo.</p>\n<p><img src=\"/63cbac7ef35f31c0b11e205782860106/code-to-video-v1.gif\" alt=\"\"></p>\n<h2 id=\"partiu-programar\" style=\"position:relative;\"><a href=\"#partiu-programar\" aria-label=\"partiu programar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Partiu programar</h2>\n<p>Vou começar criando um arquivo <code class=\"language-text\">script.js</code> onde vou executar pela linha de comando.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@babel/register'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> readFileSync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> puppeteer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'puppeteer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> PuppeteerScreenRecorder <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'puppeteer-screen-recorder'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Utils</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> generateHtml <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./utils'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Constants</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">SCALE</span> <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateVideo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">filePath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// TODO</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// get node script param</span>\r\n<span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span>\r\n    process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token string\">'./examples/Test.jsx'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">generateVideo</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Esse código vai usar <code class=\"language-text\">ES Modules</code>, então eu preciso instalar o pacote <a href=\"https://www.npmjs.com/package/esm\" target=\"_blank\" rel=\"noreferrer\">esm</a> para eu poder rodar o meu script com o comando <code class=\"language-text\">node -r esm src/script.js my_file.js</code>.</p>\n<p>Para a função <code class=\"language-text\">generateVideo</code>, seguirei o <a href=\"https://github.com/puppeteer/puppeteer/blob/v13.0.1/docs/api.md#class-puppeteer\" target=\"_blank\" rel=\"noreferrer\">exemplo de básico do Puppeteer</a> para abrir um headless browser e, em seguida, começar a gravar a sessão com o <a href=\"https://github.com/prasanaworld/puppeteer-screen-recorder#example\" target=\"_blank\" rel=\"noreferrer\">puppeteer-screen-recorder</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateVideo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">filePath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// load file content</span>\r\n    <span class=\"token keyword\">const</span> code <span class=\"token operator\">=</span> <span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">encoding</span><span class=\"token operator\">:</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> lines <span class=\"token operator\">=</span> code<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// Puppeteer config</span>\r\n    <span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">headless</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">args</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'--window-size=1920,1080'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">defaultViewport</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">1920</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">1080</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// open a new empty page</span>\r\n    <span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">followNewTab</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">fps</span><span class=\"token operator\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">ffmpeg_Path</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">videoFrame</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">1920</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">1080</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">aspectRatio</span><span class=\"token operator\">:</span> <span class=\"token string\">'16:9'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> recorder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PuppeteerScreenRecorder</span><span class=\"token punctuation\">(</span>\r\n        page<span class=\"token punctuation\">,</span>\r\n        config\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// start recording</span>\r\n    <span class=\"token keyword\">await</span> recorder<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./output.mp4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;p>Hello World&lt;/p>'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForTimeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> recorder<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Esse código vai abrir uma aba no headless browser, definir o HTML da página para <code class=\"language-text\">&lt;p>Hello World&lt;/p></code> e gravar um vídeo de um segundo. Não é bem isso que eu quero, mas estou chegando lá.</p>\n<h2 id=\"renderizando-um-componente-em-react\" style=\"position:relative;\"><a href=\"#renderizando-um-componente-em-react\" aria-label=\"renderizando um componente em react permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Renderizando um componente em React</h2>\n<p>Agora eu vou criar uma função para renderizar o meu componente em <code class=\"language-text\">React</code>. Essa função vai receber como parâmetro o meu código e retornar um HTML com a sintaxe do código toda colorida pelo <a href=\"https://prismjs.com/\" target=\"_blank\" rel=\"noreferrer\">Prism.js</a>.</p>\n<p>Com a função <code class=\"language-text\">Prism.highlight</code> eu pego o HTML com a sintaxe do código colorida e passo para o meu componente em <code class=\"language-text\">React</code>, que então vai adicionar outras tags de HTML e o CSS. Para renderizar esse componente em <code class=\"language-text\">React</code>, vou usar a função <code class=\"language-text\">renderToStaticMarkup</code>, que vai transformar o componente em uma string de HTML. Na real eu nem precisava usar o <code class=\"language-text\">React</code> para esse projeto, mas como tudo começou com eu mexendo com <code class=\"language-text\">React</code> e <code class=\"language-text\">Babel</code>, eu deixei como está.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderToStaticMarkup <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/server'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">JSDOM</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'jsdom'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> readFileSync <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'fs'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Prism.js</span>\r\n<span class=\"token keyword\">import</span> Prism <span class=\"token keyword\">from</span> <span class=\"token string\">'prismjs'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> loadLanguages <span class=\"token keyword\">from</span> <span class=\"token string\">'prismjs/components/'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// My custom React component</span>\r\n<span class=\"token keyword\">import</span> CodeHighlighter <span class=\"token keyword\">from</span> <span class=\"token string\">'./CodeHighlighter.jsx'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> styling <span class=\"token operator\">=</span> <span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token string\">'./node_modules/prism-themes/themes/prism-material-dark.css'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">encoding</span><span class=\"token operator\">:</span> <span class=\"token string\">'utf8'</span> <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateHtml</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token parameter\">code<span class=\"token punctuation\">,</span>\r\n    currentLine<span class=\"token punctuation\">,</span>\r\n    totalLines<span class=\"token punctuation\">,</span>\r\n    language</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">loadLanguages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>language<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> codeHtml <span class=\"token operator\">=</span> Prism<span class=\"token punctuation\">.</span><span class=\"token function\">highlight</span><span class=\"token punctuation\">(</span>\r\n        code<span class=\"token punctuation\">,</span>\r\n        Prism<span class=\"token punctuation\">.</span>languages<span class=\"token punctuation\">[</span>language<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        language\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// get HTML string</span>\r\n    <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token function\">renderToStaticMarkup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>CodeHighlighter\r\n            codeHtml<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>codeHtml<span class=\"token punctuation\">}</span>\r\n            totalLines<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>totalLines<span class=\"token punctuation\">}</span>\r\n            currentLine<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>currentLine<span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> window <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JSDOM</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> document <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> window<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// Add Prism.js styling to the HTML document</span>\r\n    <span class=\"token keyword\">const</span> style <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'style'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    style<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> styling<span class=\"token punctuation\">;</span>\r\n    document<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>style<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>outerHTML<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Além da variável <code class=\"language-text\">code</code>, a função <code class=\"language-text\">generateHtml</code> também recebe <code class=\"language-text\">currentLine</code> e <code class=\"language-text\">totalLines</code> como parâmetros. A variável <code class=\"language-text\">currentLine</code> será usada para destacar a linha de código atual, e <code class=\"language-text\">totalLines</code> para mostrar os números das linhas à esquerda.</p>\n<h2 id=\"o-componente-em-react\" style=\"position:relative;\"><a href=\"#o-componente-em-react\" aria-label=\"o componente em react permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O componente em React</h2>\n<p>A implementação básica do <code class=\"language-text\">CodeHighlighter</code> eu simplesmente retornarei uma tag <code class=\"language-text\">code</code> com o atributo <code class=\"language-text\">dangerouslySetInnerHTML</code> definido para o HTML do Prism.js.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">SCALE</span> <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">CodeHighlighter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\r\n    codeHtml<span class=\"token punctuation\">,</span>\r\n    totalLines<span class=\"token punctuation\">,</span>\r\n    currentLine<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>html lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>body\r\n                style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">1920</span> <span class=\"token operator\">/</span> <span class=\"token constant\">SCALE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">1080</span> <span class=\"token operator\">/</span> <span class=\"token constant\">SCALE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token string\">'#272822'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">transform</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">scale(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">SCALE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">transformOrigin</span><span class=\"token operator\">:</span> <span class=\"token string\">'0% 0% 0px'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>div\r\n                    style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token string\">'20px 0 0 2px'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>pre\r\n                        style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                            <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                    <span class=\"token operator\">></span>\r\n                        <span class=\"token operator\">&lt;</span>code\r\n                            style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                                <span class=\"token literal-property property\">fontFamily</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace\"</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                            dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                                <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> codeHtml<span class=\"token punctuation\">,</span>\r\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>pre<span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> CodeHighlighter<span class=\"token punctuation\">;</span></code></pre></div>\n<p>O código acima ainda está faltando o destaque da linha de código atual e os números das linhas, para isso usarei a variável <code class=\"language-text\">totalLines</code> para criar os números da linhas, e <code class=\"language-text\">currentLine</code> para criar uma <code class=\"language-text\">div</code> com largura total da página e movê-la para cima ou para baixo com a propriedade <code class=\"language-text\">margem-top</code> do CSS. Verifique o código completo para este componente <a href=\"https://github.com/blopa/code-video-creator/blob/fc6836c497d5dd0a13a00f1f779fd2d482ebc611/src/CodeHighlighter.jsx\" target=\"_blank\" rel=\"noreferrer\">no GitHub</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">SCALE</span> <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">CodeHighlighter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\r\n    codeHtml<span class=\"token punctuation\">,</span>\r\n    totalLines<span class=\"token punctuation\">,</span>\r\n    currentLine<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// add the line numbers</span>\r\n    <span class=\"token keyword\">const</span> lines <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>totalLines<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>span\r\n            key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span>\r\n            style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">8</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>totalLines<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>html lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>style\r\n                dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                    <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n                    body { color: white; }\r\n                </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>body\r\n                style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">1920</span> <span class=\"token operator\">/</span> <span class=\"token constant\">SCALE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">1080</span> <span class=\"token operator\">/</span> <span class=\"token constant\">SCALE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token string\">'#272822'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">transform</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">scale(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">SCALE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">transformOrigin</span><span class=\"token operator\">:</span> <span class=\"token string\">'0% 0% 0px'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>div\r\n                    style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token string\">'20px 0 0 2px'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>div\r\n                        style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                            <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">4</span> <span class=\"token operator\">*</span> <span class=\"token constant\">SCALE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">'#44463a'</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">zIndex</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">marginTop</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">16</span> <span class=\"token operator\">*</span> currentLine<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>div\r\n                        style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                            <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'grid'</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token string\">'0 5px 0 2px'</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">'#DD6'</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                    <span class=\"token operator\">></span>\r\n                        <span class=\"token punctuation\">{</span>lines<span class=\"token punctuation\">}</span>\r\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span>pre\r\n                        style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                            <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                    <span class=\"token operator\">></span>\r\n                        <span class=\"token operator\">&lt;</span>code\r\n                            style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                                <span class=\"token literal-property property\">fontFamily</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace\"</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                            dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                                <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> codeHtml<span class=\"token punctuation\">,</span>\r\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>pre<span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> CodeHighlighter<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora eu posso pegar a string desse HTML, com toda a sintaxe de código colorida e números de linhas, e colocar como o HTML do headless browser pelo Puppeteer.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token function\">generateHtml</span><span class=\"token punctuation\">(</span>\r\n    code<span class=\"token punctuation\">,</span>\r\n    <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    lines<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'javascript'</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"mostrando-o-codigo-linha-por-linha\" style=\"position:relative;\"><a href=\"#mostrando-o-codigo-linha-por-linha\" aria-label=\"mostrando o codigo linha por linha permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mostrando o código linha por linha</h2>\n<p>Por enquanto, estou colocando todo o código no componente <code class=\"language-text\">React</code> de uma vez só, mas idealmente, o código deve ser mostrado linha por linha, e para isso irei percorrer a array de linhas e, em seguida, adicionar linha por linha a uma nova array e passá-la para a função <code class=\"language-text\">generateHtml</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">let</span> codeToParse <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> scrollThreshold <span class=\"token operator\">=</span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> line <span class=\"token keyword\">of</span> lines<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    codeToParse<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token function\">generateHtml</span><span class=\"token punctuation\">(</span>\r\n        codeToParse<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        index<span class=\"token punctuation\">,</span>\r\n        lines<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> scrollThreshold<span class=\"token punctuation\">,</span>\r\n        language\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForTimeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    index <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Isso funciona, mas o problema é que se o código for muito longo, o browser precisa rolar para baixo para seguir as novas linhas, e para isso eu preciso usar a variável <code class=\"language-text\">index</code> do meu loop para acompanhar a linha atual e usar a função <code class=\"language-text\">page.evaluate()</code> do Puppeteer para rolar a página para baixo usando a função <code class=\"language-text\">window.scrollTo()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">let</span> prevPosY <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> basePosY <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">let</span> codeToParse <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> scrollThreshold <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> line <span class=\"token keyword\">of</span> lines<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    codeToParse<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// get full page HTML</span>\r\n    <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token function\">generateHtml</span><span class=\"token punctuation\">(</span>\r\n        codeToParse<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        index<span class=\"token punctuation\">,</span>\r\n        lines<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> scrollThreshold<span class=\"token punctuation\">,</span>\r\n        language\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// set page HTML</span>\r\n    <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> diff <span class=\"token operator\">=</span> index <span class=\"token operator\">-</span> scrollThreshold<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> posY <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token punctuation\">(</span>basePosY <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">16</span> <span class=\"token operator\">*</span> diff<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token constant\">SCALE</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token number\">0</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// scroll down or up if needed</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevPosY <span class=\"token operator\">!==</span> posY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">posY</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">scrollTo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> posY<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">behavior</span><span class=\"token operator\">:</span> <span class=\"token string\">'smooth'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> posY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForTimeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    prevPosY <span class=\"token operator\">=</span> posY<span class=\"token punctuation\">;</span>\r\n    index <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Você pode acessar o código completo desta postagem do blog no meu repositório GitHub na hash <a href=\"https://github.com/blopa/code-video-creator/tree/d595cf30cec13021fb857f9acb83a853e26610d7\" target=\"_blank\" rel=\"noreferrer\">d595cf30cec13021fb857f9acb83a853e26610d7</a> do <code class=\"language-text\">git</code>.</p>\n<p>O projeto começou com o código desse post, mas agora cresceu um pouco mais, e o código atual no branch <code class=\"language-text\">main</code> do repositório tem um efeito de digitação para cada letra, que faz o vídeo ficar bem mais maneiro. Sinta-se à vontade para mergulhar no código fonte na página do projeto <a href=\"https://github.com/blopa/code-video-creator/\" target=\"_blank\" rel=\"noreferrer\">code-video-creator</a>.</p>\n<p><img src=\"/7b9e49e1375d50b5c5e0ca29e78a0a62/code-to-video-v2.gif\" alt=\"\"></p>\n<p>Espero que esse post tenha sido útil para você. Deixe um comentário se tiver alguma dúvida e até a próxima!</p>","fields":{"slug":"/2022/2022-01-04-crie-videos-dos-seus-codigos-de-programacao-com-esse-script-de-nodejs.pt-br/","path":"/blog/coding/crie-videos-dos-seus-codigos-de-programacao-com-esse-script-de-nodejs/","locale":"pt-br"},"readingTime":{"minutes":6.95},"frontmatter":{"date":"2022-01-04T00:00:00.000Z","title":"Crie videos dos seus códigos de programação com esse script de Node.js","categories":["coding"]}}},{"node":{"excerpt":"No Phaser 3, é possível pré-carregar os assets do jogo na…","html":"<p>No Phaser 3, é possível pré-carregar os assets do jogo na função <code class=\"language-text\">preload</code>, para eles estarem prontos para uso quando a função <code class=\"language-text\">create</code> iniciar. Mas e se você precisar esperar por um request de uma API antes de carregar um asset?</p>\n<p>Infelizmente, não é possível fazer com que a função <code class=\"language-text\">preload</code> seja <code class=\"language-text\">async</code> para forçá-la a esperar por funções assincronias, mas existem maneiras de contornar isso.</p>\n<h2 id=\"usando-o-rex-await-loader-plugin\" style=\"position:relative;\"><a href=\"#usando-o-rex-await-loader-plugin\" aria-label=\"usando o rex await loader plugin permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando o Rex Await Loader Plugin</h2>\n<p><a href=\"https://github.com/rexrainbow\" target=\"_blank\" rel=\"noreferrer\">rexrainbow</a> é um grande desenvolvedor que traz muito para a comunidade Phaser, como um site <a href=\"https://rexrainbow.github.io/phaser3-rex-notes/docs/site/\" target=\"_blank\" rel=\"noreferrer\">cheio de exemplos de Phaser</a> e um monte de ótimos <a href=\"https://github.com/rexrainbow/phaser4-rex-plugins\" target=\"_blank\" rel=\"noreferrer\">plugins para o Phaser</a>.</p>\n<p>O <a href=\"https://rexrainbow.github.io/phaser3-rex-notes/docs/site/awaitloader/\" target=\"_blank\" rel=\"noreferrer\">Rex Await Loader Plugin</a> pode ser carregado no contexto global do jogo, basta adiciona-lo no atributo <code class=\"language-text\">plugins</code> na configuração do Phaser.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> AwaitLoaderPlugin <span class=\"token keyword\">from</span> <span class=\"token string\">'phaser3-rex-plugins/plugins/awaitloader-plugin.js'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token operator\">...</span>config<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">global</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'rexAwaitLoader'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">plugin</span><span class=\"token operator\">:</span> AwaitLoaderPlugin<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">start</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Então na função <code class=\"language-text\">preload</code> da game scene:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path/to/image.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">rexAwait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">successCallback<span class=\"token punctuation\">,</span> failureCallback</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'localhost'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// do stuff then call the success callback</span>\r\n            <span class=\"token function\">successCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path/to/image2.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"usando-o-phaser-loader\" style=\"position:relative;\"><a href=\"#usando-o-phaser-loader\" aria-label=\"usando o phaser loader permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando o Phaser Loader</h2>\n<p>Para evitar o carregamento de plugins externos, também existe a opção de usar o Phaser Loader nativo, conforme <a href=\"https://phaser.discourse.group/t/loading-audio/1306/4\" target=\"_blank\" rel=\"noreferrer\">descrito pelo usuário yannick</a> no <a href=\"https://phaser.discourse.group\" target=\"_blank\" rel=\"noreferrer\">Discourse do Phaser</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">asyncLoader</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">loaderPlugin</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        loaderPlugin<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'filecomplete'</span><span class=\"token punctuation\">,</span> resolve<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'loaderror'</span><span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        loaderPlugin<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">doStuff</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">await</span> <span class=\"token function\">asyncLoader</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path/to/image2.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path/to/image.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">doStuff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path/to/image3.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E é isso, caso esse post tenha sido de alguma forma útil para você, não esqueça de deixar um comentário.</p>","fields":{"slug":"/2021/2021-11-18-como-carregar-arquivos-de-forma-assincrona-com-o-phaser-3.pt-br/","path":"/blog/games/como-carregar-arquivos-de-forma-assincrona-com-o-phaser-3/","locale":"pt-br"},"readingTime":{"minutes":1.38},"frontmatter":{"date":"2021-11-18T00:00:00.000Z","title":"Como carregar arquivos de forma assíncrona com o Phaser 3","categories":["games"]}}},{"node":{"excerpt":"Finalmente, o jogo mais aguardado da minha vida, Metroid…","html":"<p>Finalmente, o jogo mais aguardado da minha vida, Metroid Dread, está aqui! Depois de tantas notícias, rumores e até mesmo teorias da conspiração ao longo dos anos, eu finalmente tenho o jogo em mãos. Não escrevo uma análise de um jogo há mais de 10 anos - a última foi, de fato, para Metroid: Other M - então é uma ótima oportunidade para voltar a ativa e escrever uma nova análise para mais um jogo da franquia Metroid.</p>\n<p>Atenção, pois <strong>este post conterá muitos spoilers</strong>, então leia por sua conta e risco!</p>\n<h2 id=\"contexto\" style=\"position:relative;\"><a href=\"#contexto\" aria-label=\"contexto permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contexto</h2>\n<p>Em 2002, a Nintendo lançou o Metroid Fusion, uma sequência direta do amado Super Metroid. Como proprietário de um Game Boy Advance com alguns jogos, esperei ansiosamente pelo lançamento de Metroid Fusion, que caiu entre meu aniversário e o Natal.</p>\n<p>A minha empolgação para o jogo era tanta, que comprei imediatamente um exemplar da revista Nintendo World, que trazia um passo a passo completo do jogo, assim que a vi na banca. A empolgação pelo jogo era tanta e não consegui resistir à tentação de ter a revista em minhas mãos.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 130.078125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGMklEQVQ4ywXBfVBThwEA8Hdnr9NWqaUgpFAQJOTDF8j310te8nh5LwnJe8nLJwlJ+AhJ+E74SMI3CkhtinwlASMVxU25obYi9G56Va+OcaNbt10ZznZQ1+22urrb7dae3Z/7/YDrowWT3afSkTevDBzZ1DvXGUub3NQmY2G9fH6Dlfq4PLXJTq8z5++Up9fB5Dpj7i6YulOxuC5a3ixPA6dAtq+QNiUUJKWCy4jikgBKgqKLfOUiT7HEkS5xxAtswTxLkGLJ0wI4VSFOswUpJr+RzfJYEcD/DuN3odZn88l/frxxMDvzfPvB//797Idvdl882Pz++Z9/fHHw8ruD7//65MeXz1/cvv6vX97/79/+9PXdD7/y2XvRSiDDE3/7q+0difwLrf43VZo/drZ/NdK/H+n4AwTttbY8Gxv7+uyZ/dGBv0yf3yXJPZfzabT7yc0bL3c/T3PKgNES+neXr+zNJQ/ef383HH7a1v7sYnJ/bGT/zOhva21b9cgX4cb9yfNPg61fDg496e3f7Wz/dvvhD9cuXsAJQMBSzTJ5j+oaft/ZsR2L3k9PH8wknoabd7o6/IR4ynk405b/Ysewuzi0NRL6+0rXl7HYXmtLkqcMDi8BVWSzVGVcjvnMfHAmRiy15sUjPZmxcYTJEjNpTTp6g6L415mjK/HXktjxrabXr+oZtRpHmdqvt/sBpaYBJ3yB1loeLCWNIAGf4pmoyNXLwfMJyk21WVjhoKhN+/ZW6tClJPbzQV4ffHyht7DejWgpPyBQelx1fVyJms7lVjibTwjhk1Kpe2hYiBNlqM5RzY3X59SI3xkxZ6lUkpACGkUKHwy88niKZmmKA6DEwoPsMrla0HupfvExhXhKixn5FfxiDjeLzj2HZG+5f1LA4tpPF0+cLlgFi6dFOY96Du3MFTYOfwCAYkulxKrEzMdMA71g06eK86uyDkKs4+hMJQIZWsEICU6wRWBXCe0ffa/+xw6sWnLD+LG1hbbEo28AudJY5+6E9CRDDM/nVn1+uHEj31jNLqeqvKTWSZr9EKqwU2+zQY6VKJ/Q0hpEzGKQE6kT3siEABodhLRGrgrVIwaK51wYvTWOu+BTTHFkEY9mLNYQRdqs1QXtjXlWvLRSgrDFGpEclgnoPn0pkFsuyGbLJRDhsta7HD7UHRaeFh1lm9npvZrrnzZiym6y6MZU9tpC/spMtsNmlCtJDNNWoUpcrwLsVkmDO99BFTV1EMsX5EFnntdBC/pZ6OiopaUhzj/kgPI/mC44+Czn5mzW3Uu416ZCNXochygTDHS32Cb6Nc1+SSw5ERgKWAx5lLkoFoXqm9AWFT3qKQ21e5wW2nCsyG5ibn9Y9VFGbTNbXA59Q60BiLT3R3rOBVrikf6z3vBZvJpUWDu8k3OJOta47ZWdB6pQkOSKJAiK2QnmcPDI3kPuewN6ksQ9LhyIdkVj8aHunmg42u8JduqsbqG9y3dm8FY3/dEdYX8PCCmUGG5AMVKP415D7k8TbzxeI2sILkXJAZPVNz72Xld3X6C53RNo19aEVDoFKBT2NssHliYYmBeSSWAEgREM0RAaGGojX7ca2Fq1UKfnACimV2vwKhRmy6pysRaGgL/clk2gzILSEll9L0qq9TgPgpUYplKocTPCGTFmyUVMk5zjNoCAnZLWufgiCd3g0oprGkwEa66zMGCjeWoq6mL+1qAo2squdVS6HWITIcKEFY3KQkRU5mIfcSNFQG9L2XCE0x0suTAGTg+VLQwWrCZomTM5qbGyC+dEV6ZOzwwWzwyeXEmcDHlZBh7ThpRL1dKB8b6hs/3AYMfJa4lj1xPHbs8eXku8uRI73ON/Kz34xuq7R6+OvTYbf+tn72YtTxy/OJafCudM2vOkcIVGh33yycPPdnYAwkwEAm5bDdUZ0F0bkXmdOo/PUeslHU5tvQ+Jd5OBgL2r0xnvsdqqlZM1JxRwJYwit259dO/efQBSIWZbLYRR46GquFWi1plgDWJ1OpyeOlRPwJjRSDmNlNNAeaVqjMkVgzyuGlOlFzJrN28DQrlCU01yZXDYISYxESiGmJWgGJIr1CpIrZSrlHI1IlOp1JiOL4NAPp/N4ypR9cbG5v1f3Ps/0xBG1rtkkhMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"nintendo world 52\"\n        title=\"nintendo world 52\"\n        src=\"/static/69f337d7ba7ebab784eac20fbd7e431c/42a19/nintendo_world_52.png\"\n        srcset=\"/static/69f337d7ba7ebab784eac20fbd7e431c/e3135/nintendo_world_52.png 256w,\n/static/69f337d7ba7ebab784eac20fbd7e431c/06341/nintendo_world_52.png 512w,\n/static/69f337d7ba7ebab784eac20fbd7e431c/42a19/nintendo_world_52.png 1024w,\n/static/69f337d7ba7ebab784eac20fbd7e431c/e8464/nintendo_world_52.png 1536w,\n/static/69f337d7ba7ebab784eac20fbd7e431c/41183/nintendo_world_52.png 1603w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Papai Noel sabia que eu fui um bom menino naquele ano, então eu ganhei o jogo no Natal e consegui terminá-lo antes do Ano Novo - sem usar o detonado da Nintendo World, prometo!</p>\n<p>Metroid Fusion é bastante linear em comparação com os outros jogos da franquia, mas por causa disso, foi capaz de nos dar um jogo repleto de história e quebra-cabeças malucos com shinespark.</p>\n<p>Dois anos depois, a Nintendo lançou Metroid: Zero Mission, um remake do primeiro Metroid. Foi com certeza um ótimo momento para ser um fã da franquia, mas muitos fãs estavam contando os dias para finalmente ver uma sequência de Metroid Fusion. Rapaz, mal sabíamos…</p>\n<p>Por dezenove anos, Metroid Fusion foi o último jogo Metroid canônico na linha do tempo, e não tínhamos ideia do que tinha acontecido com a Samus… até agora.</p>\n<h2 id=\"introducao\" style=\"position:relative;\"><a href=\"#introducao\" aria-label=\"introducao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introdução</h2>\n<p>A Nintendo praticamente quebrou a internet quando anunciou Metroid Dread durante a E3 deste ano. Foi um grande sucesso imediatamente, o Twitter estava bombando com todo mundo falando sobre Metroid Dread sem parar, e o melhor é que o jogo seria lançado no mesmo ano!!! Ahhhhhh!!!!</p>\n<p>O jogo foi desenvolvido pela MercurySteam, uma empresa espanhola que também trabalhou no jogo Metroid: Samus Returns, o remake do segundo Metroid lançado para o Game Boy, Metroid II: Return of Samus.</p>\n<p>Metroid: Samus Returns teve opiniões divididas entre os críticos, eu joguei e achei o jogo maneirinho, mas nada de mais. O jogo teve algumas escolhas de level design que eu particularmente não concordo muito, mas pelo menos Metroid 2D estava de volta e isso ja foi ótimo!</p>\n<p>Passam-se alguns anos, e Metroid Dread está aqui! No dia que o pacote do Metroid Dread chegou aqui em casa, eu estava tão ansioso para jogar o jogo que eu até esqueci de fazer o unboxing para a <a href=\"https://playreplay.com.br/\" target=\"_blank\" rel=\"noreferrer\">PlayReplay</a> 😅</p>\n<p>Depois de um longo fim de semana, eu terminei o jogo com 11 horas e 30 minutos e 87% dos itens coletados. Não é bem um recorde mundial, mas foi um tempo bom com uma boa porcentagem de itens coletados.</p>\n<p>Bom, chega de lenga-lenga, vamos começar a análise do Metroid Dread.</p>\n<h2 id=\"level-design\" style=\"position:relative;\"><a href=\"#level-design\" aria-label=\"level design permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Level Design</h2>\n<p>Metroid Dread tem 8 áreas diferentes que são interconectadas por túneis, elevadores e teletransportes. Todas essas conexões são bem orgánicas e vendem bem a idéia de mundo alienígena com partes selvagens e tecnologicas, e claro, muitos segredos escondidos em todos os cantos.</p>\n<p>A MercurySteam conseguiu capturar exatamente o que faz um jogo Metroid ser um jogo Metroid, e muitas vezes eu achava que estava pegando um caminho super secreto e indo fora do caminho normal, e para minha surpresa eu acabava exatamente onde eu deveria ir e encontrava algum power-up principal ou algum chefão. O jogo faz um excelente trabalho em te levar para o lugar certo usando técnicas de level design.</p>\n<p>O jogo é cheio de segredos e itens escondidos em todos os cantos, e vários desses itens vão te fazer perder horas tentando entender como faz para consegui-los. Eu passei por muitos itens que eu achava que eram impossíveis de pegar porque eu ainda não tinha adquirido algum power-up, para depois descobrir que eu simplesmente tinha que <em><strong>git gud</strong></em> e usar o shinespark de uma maneira criativa para conseguir os itens. 👏 MercurySteam 👏.</p>\n<p>O ritmo onde você encontra itens e chefões está muito bem balanceado e te mantém engajado com o jogo quase o tempo todo, salvo algumas areas dos E.M.M.I que quebram às vezes o ritmo do jogo e me deixavam um pouco frustrado.</p>\n<p>A MercurySteam também trabalhou pesado para incluir a possibilidade de <em>sequence breaks</em> no jogo, que possibilita adquirir power-ups ou enfrentar chefões fora da sua hora planejada. Por exemplo, no vídeo abaixo é possível conseguir a Gravity Suit antes do planejado se você tiver Speed Boost e bastante habilidade com o shinespark.</p>\n<p>\n      <div class=\"gatsby-remark-local-videos\">\n        <video controlsList=\"nodownload\" controls loop preload style=\"width: 100%\" >\n          <source src=\"/be78cceb0948b37238278db5893ca310/sequence-break.mp4\" type=\"video/mp4\">\n        </video>\n    </div>\n    </p>\n<p>Agora, em termos de artes e estilos das áreas, o jogo deixou um pouco a desejar. Eu finalizei o jogo quatro vezes, e ainda assim não sei dizer exatamente em qual área do jogo eu estou se eu simplesmente olhar pra um sala aleatória, o que é totalmente diferente do que acontece quando eu estou jogando Super Metroid, porém, eu sei que essa comparação não é justa, pois Super Metroid é um dos meus jogos favoritos e eu nem sei dizer quantas horas eu passei jogando ele em todas as fases da minha vida.</p>\n<p>Ainda assim eu sinto que Metroid Dread poderia ter tido salas com designs mais unicos e/ou mais monumentais.</p>\n<h2 id=\"power-ups\" style=\"position:relative;\"><a href=\"#power-ups\" aria-label=\"power ups permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Power-Ups</h2>\n<p>Metroid Dread traz diversos power-ups clássicos da franquia, como o Grapple Beam e o Screw Attack, e introduz novos power-ups que eu espero que se tornem parte da franquia daqui pra frente, como o Diffusion Beam e o maravilhoso Flash Shift.</p>\n<p>Por outro lado, o jogo também traz itens meios inúteis, como o Spin Boost e o Pulse Radar. Para falar a verdade o Pulse Radar até que é ok, mas o Spin Boost…</p>\n<p><img src=\"/e46bfcf917c7367ea5cfc97c2cdb70a6/please-god-no.gif\" alt=\"\"></p>\n<p>Mas vamos falar de coisa boa, vamos falar <del>da Tekpix</del> do Flash Shift, um power-up novo que permite que a Samus faça um dash horizontal, ótimo para fugir de E.M.M.Is ou de ataques chatos de chefões.</p>\n<p>Além disso, combinado com o shinespark, o Flash Shift possibilita se mover rapidamente pela fase <em>like a pro</em> e permite resolver uns puzzles incríveis que a MercurySteam fez para gente.</p>\n<p><img src=\"/1d32f69e8946db8a9af7230c736f15c7/flash-shift.gif\" alt=\"\"></p>\n<h2 id=\"chefoes\" style=\"position:relative;\"><a href=\"#chefoes\" aria-label=\"chefoes permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Chefões</h2>\n<p>Metroid Dread tem muitos chefões e é um dos mais difíceis da franquia. Infelizmente, muitos desses encontros são chefões repetidos com pequenas ou nenhumas variações.</p>\n<p>Eu li em algum lugar que Metroid Dread tinha um escopo maior e teve que ser reduzido para estar pronto para sua data de lançamento, então parece que o jogo deveria ter uma variedade maior de chefões, mas eles tiveram que ser reduzidos e substituídos pelos mesmos chefões repetidamente.</p>\n<p>Essa é a má notícia. A boa notícia é que as batalhas dos chefões são bastante épicas, e Samus está mais foda do que nunca.</p>\n<p>O primeiro chefão é praticamente um tutorial e já prepara o terreno para o que está por vir no jogo com uma grande batalha e <em>cutscenes</em> impressionantes.</p>\n<p>Mais tarde, você tem a chance de fazer uma <em>sequence breaks</em> (planejada pela MercurySteam), o que leva você a ter certos power-ups em certos chefões, e usando esses power-ups nesses chefões você terá diferentes interações que fazem você se sentir como se tivesse acabado de descobrir um segredo - coisas clássicas de Metroid.</p>\n<p>A maioria dos chefões tem uma maneira “oficial” de derrotar, e uma maneira secreta, que pode ser desbloqueada com uma <em>sequence breaks</em>, usando o shinespark ou sendo muito sinistro nas suas habilidades.</p>\n<p>O último chefão é provavelmente um dos mais difíceis da franquia, e definitivamente levará várias tentativas para vencê-lo. Me fez lembrar como era jogar Megaman no meu Game Boy Classic. Apenas morra, morra e morra para finalmente aprender todos os padrões e finalmente derrota-lo.</p>\n<h2 id=\"musica\" style=\"position:relative;\"><a href=\"#musica\" aria-label=\"musica permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Música</h2>\n<p>A trilha sonora de Metroid Dread é boa, mas claro que é boa, afinal, várias faixas são simplesmente copiadas de Super Metroid 🤷.</p>\n<p>Mais uma vez, posso ser tendencioso, mas conheço todas as músicas de Super Metroid de cor, são tão épicas que dói, e para Metroid Dread, mesmo depois de finalizar o jogo quatro vezes, ainda não consigo me lembrar completamente de nenhuma música que seja não copiada de Super Metroid.</p>\n<p>Eu gostaria que jogar um novo Metroid fosse como jogar um novo jogo Zelda, onde a trilha sonora é sempre incrivelmente épica. Claro, algumas das músicas são as mesmas dos primeiros Zelda, mas as novas faixas são tão boas ou até melhores que as clássicas. Eu ainda me arrepio com a trilha sonora de Spirit Tracks. A sério. A trilha sonora desse jogo é simplesmente 👌👌👌</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/1-tJnmNP5ow?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<h2 id=\"nivel-de-dificuldade\" style=\"position:relative;\"><a href=\"#nivel-de-dificuldade\" aria-label=\"nivel de dificuldade permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nível de Dificuldade</h2>\n<p>O jogo é difícil, mas eu sinceramente não achei tão difícil como eu li no Twitter, e eu estou longe de ser um bom jogador de Metroid, apesar de ser muito fã da franquia, eu nunca fui muito bom jogando.</p>\n<p>Muitas pessoas compararam a dificuldade do jogo com os jogos da FromSoftware, e bom, eu nunca joguei Dark Souls, então não sei dizer, mas na minha cabeça eu penso que os jogos Souls são muito mais difíceis.</p>\n<p>Apesar do nível de dificuldade do jogo, ele é bem generoso com salas para salvar o jogo e inclusive auto-saves pela primeira vez na franquia. Se você morrer em um chefão, o jogo salva automaticamente, e você pode voltar praticamente na sala do chefão, pronto para morrer novamente.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQozx2NSW/UQBSE/Q8QGbv7dffr3W672xNnkknsbCSQTBhCgtgjcUdInNklbiiMhDjkCvxZ5Eh1qaqvVBlBX6BvZDkIb4WnoG2OYSJaqqfoIzNT0C0YTyVlRoHexbKRZYGeoM8oN4TbAOpe7E6PF2dHJ1fLy+eLR48vnk277a3t/dPF+dBsvDh5uHxw9uTi6a6PgWnCDeUmo4CMSbMG949OVterm+vVza/fr6/e/Pvz9+L88tXLq48fPr199/77568/vnxbXf/s2pnPOQNJAbMJ4ZKIkoiC6+PhYL2KpatZwbpu7nzjfJPSRlM2KXY7G/NoyjXAiggkIic8qwiPVNQUy4L3dyZhQknOaM6U8mXZeF8zrvK7dLIG1d3iYAIVEYFiJKIqRFYTkShGioHiDpMNSA4IOQuhPVssh35PKseJ4DBW2zBikWJLsSYiY1QqKluQhEpHRaSoqdQUeSEg55BzQVCNiUwULUVyCysqGcHMgragNplumC6p2hz/tQHtQXtmPNMORtuD3gIsQTbMzJixoCzoLHBXcrcn/BL9unCJ257bfeE64Ro+qhN+X7ie28jtunBLLPeE99wF7rIo6yjDXNXHuhlUPZVhhlWP1aEKR7c6VGHAaobVVIbhFpurcRJlyFqbkk29SQubBtceuBRtmpum102vY6/jjo5zM4aHNvW2PbVp16Zk0tSm/+DiZ3EIEiwOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"metroid dread game over\"\n        title=\"metroid dread game over\"\n        src=\"/static/141104f962f62dbda2c37d2c6e8fec68/42a19/metroid-dread-game-over.png\"\n        srcset=\"/static/141104f962f62dbda2c37d2c6e8fec68/e3135/metroid-dread-game-over.png 256w,\n/static/141104f962f62dbda2c37d2c6e8fec68/06341/metroid-dread-game-over.png 512w,\n/static/141104f962f62dbda2c37d2c6e8fec68/42a19/metroid-dread-game-over.png 1024w,\n/static/141104f962f62dbda2c37d2c6e8fec68/bbbf7/metroid-dread-game-over.png 1280w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"porque-voce-deveria-comprar\" style=\"position:relative;\"><a href=\"#porque-voce-deveria-comprar\" aria-label=\"porque voce deveria comprar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Porque você deveria comprar?</h2>\n<p>A franquia Metroid estava lutando muito nos últimos 10 anos, tentando encontrar seu próprio caminho para ser um sucesso. Nesse enorme intervalo de tempo, muitos jogos independentes de Metroidvania foram lançados, e todos eles respeitam o jogo que criou o gênero: Metroid.</p>\n<p>Metroid Dread está longe de ser perfeito, tem suas falhas, mas não deixa de ser um ótimo jogo. Eu acho que o caminho que a MercurySteam está tomando na franquia é o caminho certo, e com o sucesso do Nintendo Switch, há uma grande chance de que este seja o jogo Metroid mais vendido de todos os tempos.</p>\n<p>Por que você deve comprá-lo? Para mostrar à Nintendo que nos importamos, para mostrar a eles que amamos a franquia Metroid e queremos mais jogos como Metroid Dread. Quanto mais sucesso esses jogos obtiverem, mais dinheiro a Nintendo colocará em seu desenvolvimento e mais polidos serão. Talvez um dia, o MercurySteam nos dê uma obra-prima como Super Metroid - e eu sei que muitas pessoas já pensam que Metroid Dread é melhor que Super Metroid… mas… eu ainda não… 😬</p>\n<p>É super fácil hackear seu Nintendo Switch ou simplesmente baixar Metroid Dread e jogá-lo em um emulador, mas <strong>NÃO FAÇA ISSO</strong>. A pirataria de jogos só levará a menos vendas e, menos chances de conseguirmos mais jogos como esse. Eu sei que R$300 é muito dinheiro, mas para um jogo que pode te dar horas de diversão, vale a pena. Eu tenho certeza que muita gente gasta muito mais que isso por mês com Uber e iFood, então da próxima vez que você sentir preguiça, economize algum dinheiro, não peça comida e cozinhe alguma refeição saudável - e depois compre Metroid Dread 😊</p>","fields":{"slug":"/2021/2021-11-07-compre-metroid-dread.pt-br/","path":"/blog/games/compre-metroid-dread/","locale":"pt-br"},"readingTime":{"minutes":9.49},"frontmatter":{"date":"2021-11-07T00:00:00.000Z","title":"Compre Metroid Dread","categories":["games"]}}},{"node":{"excerpt":"Medium é uma ótima plataforma para compartilhar posts com um…","html":"<p>Medium é uma ótima plataforma para compartilhar posts com um público mais amplo, mas é um pouco irritante que, para ter códigos, você precisa criar um Gist do GitHub (<a href=\"https://medium.com/pythoneers/9-different-way-to-embedded-code-in-medium-9213cb4c0a2e\" target=\"_blank\" rel=\"noreferrer\">ou outros</a>) e embuti-los ao post.</p>\n<p>Como eu escrevo muitos tutoriais de programação no meu blog, adicionar todos os meus códigos um por um ao Gist do GitHub leva muito tempo, e como eu sou muito preguiçoso, vou automatizar isso.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 574px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.453125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABk0lEQVQoz42Q3U7bMBiGfcRVcCHcELfAdUxQaB0gTqo0U7eAaM45adayE1oJDpg07WhKSjb7i6vEJOTHhiRb1Y3fR59sf6/9yLLRfD7/+Gl4MnJOzpyz0chtGL2K67qO48xmMzSZTPZ6+7tHhx+0w56GNYwx1gghxsuYpqlpmud56OLrhUGIZnzeOxp2u739g66uE8uyBoOB1e9b/f7gCbZtE0Km0ynyvC+dA2wahBCdtBh1Q3TdHA5N2yb635ys9g2M8Xg8Rpxz3/cXawRBsAiCW8auj49vTk9DgEUQLP7F933OOVLPIctSKXW5tfVte3vVPuUZWVaVUuq3655vbHibm/HV1Sp8W1ZStvP3nZ2fnc568r9clmWW5zQGEFGSCSll1SBr5Q3QfZ5LWS1F+iMUfsianwnF3Z1SqiqK+rVr1660do2KopBKllLF90qkuUiSvCjUO6hlIZLb8BcDAKAAEEVROzLGKK2TpuVtMUZ5xOM4ppRmWYbSNG0PUcYaq5Gbaj0A4H9YAjC+5EkSMwaP8gMi+Zs9KpVdrQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"code snippet to gist\"\n        title=\"code snippet to gist\"\n        src=\"/static/202c3fa6b99920b5d413ee8045e8c575/312c2/code-snippet-to-gist.png\"\n        srcset=\"/static/202c3fa6b99920b5d413ee8045e8c575/e3135/code-snippet-to-gist.png 256w,\n/static/202c3fa6b99920b5d413ee8045e8c575/06341/code-snippet-to-gist.png 512w,\n/static/202c3fa6b99920b5d413ee8045e8c575/312c2/code-snippet-to-gist.png 574w\"\n        sizes=\"(max-width: 574px) 100vw, 574px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"code-snippets-no-gatsby\" style=\"position:relative;\"><a href=\"#code-snippets-no-gatsby\" aria-label=\"code snippets no gatsby permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Code snippets no Gatsby</h2>\n<p>Para adicionar códigos no Gatsby, basta usar o backtick triplo e a linguagem que você está usando, como o exemplo abaixo.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token code\"><span class=\"token punctuation\">```</span><span class=\"token code-language\">javascript</span>\r\n<span class=\"token code-block language-javascript\">    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello world!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\r\n<span class=\"token punctuation\">```</span></span></code></pre></div>\n<p>Com isso, Gatsby irá gerar um HTML como o abaixo. Isso será importante para mais tarde.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>gatsby-highlight<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-language</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pre</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>language-javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>code</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>language-javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token comment\">&lt;!-- the span element is not exactly like this, this is just an example --></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span>console.log('hello world!');<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>code</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pre</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"o-problema\" style=\"position:relative;\"><a href=\"#o-problema\" aria-label=\"o problema permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O problema</h2>\n<p>O Medium tem uma <a href=\"https://medium.com/p/import\" target=\"_blank\" rel=\"noreferrer\">ferramenta super útil para importar qualquer post de qualquer lugar para um post no Medium</a>, mas infelizmente todos os códigos serão ignorados por esse importe.</p>\n<p>Seria perfeito ter uma URL especial para os meus post onde todos os meus códigos fossem substituídos por URLs de Gists do GitHub com aquele código, e isso é exatamente o que farei a seguir 😎.</p>\n<h2 id=\"criando-uma-url-especial-para-o-medium\" style=\"position:relative;\"><a href=\"#criando-uma-url-especial-para-o-medium\" aria-label=\"criando uma url especial para o medium permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criando uma URL especial para o Medium</h2>\n<p>Eu quero ser capaz de adicionar <code class=\"language-text\">/medium-import</code> no final da URL dos meus posts e carregar uma página especial com todos os códigos substituídos por Gists do GitHub.</p>\n<p>No arquivo <code class=\"language-text\">gatsby-node.js</code>, na função <code class=\"language-text\">createPages</code>, eu irei criar uma página adicional com <code class=\"language-text\">/medium-import</code> no final da URL.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> postsResult<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> post <span class=\"token keyword\">of</span> posts<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/medium-import</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/templates/MediumPost.jsx'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">mediumHTML</span><span class=\"token operator\">:</span> <span class=\"token keyword\">await</span> <span class=\"token function\">generateMediumHTML</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">,</span> post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Todos os meus posts podem ser acessados via <code class=\"language-text\">/blog-post-url</code> e também <code class=\"language-text\">/blog-post-url/medium-import</code> agora.</p>\n<h2 id=\"gerando-um-html-diferente-para-o-medium\" style=\"position:relative;\"><a href=\"#gerando-um-html-diferente-para-o-medium\" aria-label=\"gerando um html diferente para o medium permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gerando um HTML diferente para o Medium</h2>\n<p>Para a função <code class=\"language-text\">generateMediumHTML</code>, eu vou usar o <code class=\"language-text\">querySelectorAll</code> para encontrar todos os Nodes do HTML com códigos e substituí-los por URLs de Gists do GitHub.</p>\n<p>Como todo esse código será executado no Node, eu irei precisar do <a href=\"https://github.com/jsdom/jsdom\" target=\"_blank\" rel=\"noreferrer\">jsdom</a> para poder manipular o <code class=\"language-text\">DOM</code> do HTML.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> jsdom <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jsdom'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateMediumHTML</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">htmlString<span class=\"token punctuation\">,</span> postTitle</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> gistUrls <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">generateGistUrlsForPost</span><span class=\"token punctuation\">(</span>htmlString<span class=\"token punctuation\">,</span> postTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> dom <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">jsdom<span class=\"token punctuation\">.</span>JSDOM</span><span class=\"token punctuation\">(</span>htmlString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.gatsby-highlight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    result<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        element<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> gistUrls<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> dom<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Todos os códigos serão substituídos por <code class=\"language-text\">&lt;div class=\"gatsby-highlight\" data-language=\"javascript\">https://gist.github.com/some-gist-id&lt;/div></code>.</p>\n<h2 id=\"usando-a-api-do-gist\" style=\"position:relative;\"><a href=\"#usando-a-api-do-gist\" aria-label=\"usando a api do gist permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando a API do Gist</h2>\n<p>Eu vou usar a <a href=\"https://docs.github.com/en/rest/reference/gists#create-a-gist\" target=\"_blank\" rel=\"noreferrer\">API do Gist</a> para duas coisas, para obter todos os meus Gists existentes para evitar a criação do mesmo Gist duas vezes com um request de <code class=\"language-text\">GET</code>, e para criar um novo Gist com um request de <code class=\"language-text\">POST</code>.</p>\n<p>Como o código será executado no Node, usarei o <a href=\"https://github.com/node-fetch/node-fetch\" target=\"_blank\" rel=\"noreferrer\">node-fetch</a> para todas as solicitações da API.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> gistAccessToken <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_ACCESS_TOKEN</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Get all existing gists under my github username</span>\r\n<span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">nodeFetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://api.github.com/gists'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">Authorization</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">token </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>gistAccessToken<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token string-property property\">'Content-type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> gistAccessToken <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_ACCESS_TOKEN</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// create a new gist</span>\r\n<span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">nodeFetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://api.github.com/gists'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">Authorization</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">token </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>gistAccessToken<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token string-property property\">'Content-type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token string\">'Code for blog post'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">public</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">files</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token punctuation\">[</span><span class=\"token string\">'file-name.js'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> <span class=\"token string\">'console.log(\"hello world!\");'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para a função <code class=\"language-text\">generateGistUrlsForPost</code>, eu irei usar novamente a função <code class=\"language-text\">querySelectorAll</code> para obter o código por meio da propriedade <code class=\"language-text\">textContent</code> e, em seguida, enviá-lo ao GitHub por meio da API do Gist, para isso irei precisar de um <a href=\"https://github.com/settings/tokens\" target=\"_blank\" rel=\"noreferrer\">GitHub Personal Access Token</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateGistUrlsForPost</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">htmlString<span class=\"token punctuation\">,</span> postTitle</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> gistAccessToken <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_ACCESS_TOKEN</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> dom <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">jsdom<span class=\"token punctuation\">.</span>JSDOM</span><span class=\"token punctuation\">(</span>htmlString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.gatsby-highlight > pre > code'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> slug <span class=\"token operator\">=</span> <span class=\"token function\">convertToKebabCase</span><span class=\"token punctuation\">(</span>postTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// Get all existing gists under my github username</span>\r\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">nodeFetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://api.github.com/gists'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">Authorization</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">token </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>gistAccessToken<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string-property property\">'Content-type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> responseData <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> files <span class=\"token operator\">=</span> responseData<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> fileNames <span class=\"token operator\">=</span> files<span class=\"token punctuation\">.</span><span class=\"token function\">flat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> gistUrls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> element <span class=\"token keyword\">of</span> result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> code <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> extension <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-language'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> fileName <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-script-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>extension<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// if the gist for the file already exists, then don't create a new one</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fileNames<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> existingGist <span class=\"token operator\">=</span> responseData<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            gistUrls<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>existingGist<span class=\"token punctuation\">.</span>html_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">nodeFetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://api.github.com/gists'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token literal-property property\">Authorization</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">token </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>gistAccessToken<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token string-property property\">'Content-type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                    <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Code for post \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>postTitle<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token keyword\">public</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">files</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token punctuation\">[</span>fileName<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                            <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> code<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            gistUrls<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>html_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        index <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span> gistUrls<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"renderizando-o-novo-html\" style=\"position:relative;\"><a href=\"#renderizando-o-novo-html\" aria-label=\"renderizando o novo html permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Renderizando o novo HTML</h2>\n<p>No template do componente React, eu tenho acesso a um novo atributo chamado <code class=\"language-text\">mediumHTML</code> dentro do <code class=\"language-text\">pageContext</code>, que é o novo HTML com todos os códigos substituídos por URLs do Gist.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MediumPostTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> markdownRemark <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> title <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> markdownRemark<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> mediumHTML <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pageContext<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>article<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>section\r\n                dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> mediumHTML <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MediumPostTemplate<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n    query MediumPostBySlug($slug: String!, $categoryImage: String) {\r\n        markdownRemark(fields: { slug: { eq: $slug } }) {\r\n            frontmatter {\r\n                title\r\n            }\r\n        }\r\n    }\r\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora posso usar a <a href=\"https://medium.com/p/import\" target=\"_blank\" rel=\"noreferrer\">ferramenta de importação do Medium</a> para importar qualquer post com a URL <code class=\"language-text\">/blog-post-url/medium-import</code>.</p>\n<p>Com toda essa automação pronta, espere ver muito mais <a href=\"https://pablopirata.medium.com/\" target=\"_blank\" rel=\"noreferrer\">posts meus no Medium</a> 😊.</p>","fields":{"slug":"/2021/2021-10-24-como-importar-posts-com-sintaxe-de-codigo-colorida-no-medium-usando-o-gatsby.pt-br/","path":"/blog/coding/como-importar-posts-com-sintaxe-de-codigo-colorida-no-medium-usando-o-gatsby/","locale":"pt-br"},"readingTime":{"minutes":4.61},"frontmatter":{"date":"2021-10-24T00:00:00.000Z","title":"Como importar posts com sintaxe de código colorida no Medium usando o Gatsby","categories":["coding"]}}},{"node":{"excerpt":"Sim, isso mesmo, agora existe uma versão em jogo deste blog…","html":"<p>Sim, isso mesmo, agora existe uma versão em jogo deste blog. Cansado de clicar em páginas chatas e ler coisas? Que tal mergulhar em uma jornada semelhante a um RPG top-down, encontrar os posts desse blog e lê-los dentro jogo?</p>\n<p><img src=\"/d50653e4a6a6053367c816a50f543af8/pablo-gg-the-game.gif\" alt=\"pablo.gg - O jogo\"></p>\n<h4 id=\"jogue-aqui\" style=\"position:relative;\"><a href=\"#jogue-aqui\" aria-label=\"jogue aqui permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"/pt-br/game\">Jogue aqui!</a></h4>\n<p>Você também pode acessar o código-fonte no <a href=\"https://github.com/blopa/top-down-react-phaser-game\" target=\"_blank\" rel=\"noreferrer\">meu repositório do GitHub para este projeto</a>.</p>\n<h2 id=\"ok-mas-porque\" style=\"position:relative;\"><a href=\"#ok-mas-porque\" aria-label=\"ok mas porque permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ok, mas porquê?</h2>\n<p><img src=\"/f1547924a1c5e48fc3d7132349267d59/but-why.gif\" alt=\"Mas porquê?\"></p>\n<p>A idéia nasceu quando eu adicionei o Konami Code no site, que faz aparecer o código-fonte da Matrix, que apesar de ser maneirinho, eu fiquei pensando que seria mais legal fazer o Konami Code abrir um jogo ou algo do tipo, e como eu já estou com 2 anos de experiência em Phaser, resolvi fazer um jogo bobo só como um MVP.</p>\n<p>Na mesma época, descobri sobre o <a href=\"https://github.com/Annoraaq/grid-engine\" target=\"_blank\" rel=\"noreferrer\">plugin grid-engine para o Phaser</a> que torna muito mais fácil criar um jogo estilo top-down, e por causa disso eu decidi fazer um jogo com ele, e também porque a minha primeira experiência com “programação” foi em 2002, quando eu estava fazendo jogos com o RPG Maker.</p>\n<p>Daí em diante o projeto começou a ficar um pouco mais ambicioso e eu pensei “e se eu mostrasse os posts do blog dentro do jogo?”, todos os dados do blog já estão disponíveis no React via <code class=\"language-text\">GraphQL</code>, então não deve ser tão difícil.</p>\n<h2 id=\"usando-react-como-ui-para-o-phaser\" style=\"position:relative;\"><a href=\"#usando-react-como-ui-para-o-phaser\" aria-label=\"usando react como ui para o phaser permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando React como UI para o Phaser</h2>\n<p>O Phaser funciona renderizando píxeis dentro de um elemento <code class=\"language-text\">canvas</code> no DOM, e isso é ótimo, mas um dos grandes recursos do desenvolvimento da web é o poder do DOM e CSS para criar excelentes elementos de UI, e você não pode fazer isso com Phaser sozinho.</p>\n<p>A maneira mais simples de usar o Phaser com React é com um componente funcional como o mostrado abaixo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Phaser <span class=\"token keyword\">from</span> <span class=\"token string\">'phaser'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">GameComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token operator\">...</span>configs<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">parent</span><span class=\"token operator\">:</span> <span class=\"token string\">'game-content'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"game-content\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> GameComponent<span class=\"token punctuation\">;</span></code></pre></div>\n<p>E isso geralmente funciona bem, mas para fazer o Phaser ser capaz de se comunicar com o React, por exemplo, para mostrar um item de menu ou uma caixa de diálogo, vou despachar eventos do JavaScript entre o Phaser e o React usando o <code class=\"language-text\">new CustomEvent('event-name')</code>.</p>\n<p>A melhor maneira de fazer isso seria com algum tipo de ferramenta de gerenciamento de estado, como o <a href=\"https://facebook.github.io/flux/\" target=\"_blank\" rel=\"noreferrer\">Flux</a>, mas como este é apenas um projeto muito pequeno, despachar eventos do JavaScript funcionará por agora. Veja no exemplo abaixo como fazer isso.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// React component</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">GameComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>messages<span class=\"token punctuation\">,</span> setMessage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>showDialogBox<span class=\"token punctuation\">,</span> setShowDialogBox<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dialogBoxEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> detail <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span>detail<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setShowDialogBox</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> handleMessageIsDone <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> customEvent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end-dialog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span>customEvent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token function\">setShowDialogBox</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>characterName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>showDialogBox <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>DialogBox\r\n                    message<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">}</span>\r\n                    onDone<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleMessageIsDone<span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"game-content\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Phaser scene</span>\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">GameScene</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Scene</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GameScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dialogBoxFinishedEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxFinishedEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token comment\">// Do whatever is needed when the dialog is over</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxFinishedEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"/18452438d2251249518c712d8873e89a/react-dialog-box.gif\" alt=\"Caixa de dialogo\"></p>\n<p>Se você quiser mais detalhes sobre como criar uma caixa de diálogo React para o seu jogo em Phaser, <a href=\"/pt-br/blog/coding/criando-uma-caixa-de-dialogo-com-react-para-o-meu-jogo-em-phaser\">leia o meu post sobre o assunto</a>.</p>\n<h2 id=\"integrando-phaser-com-gatsby\" style=\"position:relative;\"><a href=\"#integrando-phaser-com-gatsby\" aria-label=\"integrando phaser com gatsby permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Integrando Phaser com Gatsby</h2>\n<p>Gatsby é um gerador de sites estáticos que usa React para pré-renderizar o HTML via node, mas o Phaser é um pacote apenas para cliente, e faz sentido, afinal por que você precisaria do Phaser no backend? Então, sempre que Gatsby estava pré-renderizando a minha página do jogo eu recebia erros de SSR porque Phaser estava tentando acessar algumas APIs de JavaScript que só funcionam no client-side.</p>\n<p>Para resolver isso, eu usei o React hook <code class=\"language-text\">useEffect</code> para importar dinamicamente todos os meus módulos relacionados ao Phaser, já que o <code class=\"language-text\">useEffect</code> só é executado no client-side.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">GameComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// to use async/await inside a useEffect we need to create an async function and call it</span>\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initPhaser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// Need to initialize Phaser here otherwise Gatsby will try to SSR it</span>\r\n            <span class=\"token keyword\">const</span> Phaser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'phaser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> GameScene <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../game/scenes/GameScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> GridEngine <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grid-engine'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token operator\">...</span>configs<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">parent</span><span class=\"token operator\">:</span> <span class=\"token string\">'game-content'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>GameScene<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token function\">initPhaser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"game-content\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"criando-o-mapa\" style=\"position:relative;\"><a href=\"#criando-o-mapa\" aria-label=\"criando o mapa permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criando o mapa</h2>\n<p>Para criar o mapa eu vou novamente usar o Tiled, um FOSS onde você pode criar mapas e usá-los em praticamente qualquer game engine.</p>\n<p>O <code class=\"language-text\">tileset</code> que estou usando para o meu mapa é o <a href=\"https://opengameart.org/content/zelda-like-tilesets-and-sprites\" target=\"_blank\" rel=\"noreferrer\">Zelda-like tileset</a> criado por <a href=\"https://itch.io/profile/armm1998\" target=\"_blank\" rel=\"noreferrer\">ArMM1998</a>, que inclui tilesets para interiores, tipo casas, e exteriores, tipo cidades.</p>\n<p>Primeiro vou criar o <code class=\"language-text\">tileset</code> no Tiled e definir uma propriedade chamada <code class=\"language-text\">ge_collide</code> com o valor <code class=\"language-text\">true</code> em todos os tiles que eu quero que tenha uma colisão com o herói.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.234375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADCklEQVQoz1XQ7U8SAQDH8ftHetHWqq21arW2SmsrKzezLCxrWhoCqSkgGA9nkgy544DjZIrDEgh5LAS8B0Hz6ugQtOfZs5sZhT0YMsAebLW2pr3q8+L77vfmB7AsS9O3o9HR6KpYLJZMJlmWTSRXTE5OMgxD0/Td/yUSibFbt4B0On3nDu33uwhyCB8OkSQZjYyG8NCA83o31jPocN7w38RxPBwOD/0TDA4FAm6n0+t2A4VCYZymQ6EwQRCRSISiRqhINOjznDpYunHttvVrNh85XMbj1jQKuCiKIgiCoigMSjav3VJ7uhbIZDJzb2ZTc7Ppd6lP8+mP8+8zXz6/fPKAf6ysZEdRyZ6DVZxT56urhMJmE2ZCUeNKOy9WFO0R8XhANrvI3ntM0PFRdmos8Whs4iE9NR2K0OKz1aLyQ9JWWbNYCfLq5Hwul1NZfqDscHFp2zmOsfkkpmoFsouZ2OPXI/dfUVPPhyaeBuPTweSLwHhCq2xrqqsXX2oX8Jvqq2sbKjkVe0v2bS8u2rpbeqG+S9YCd6qAhYWFXHZx+fu3H9++/lztn9+/5mZmirmq/YIrO/jaDefhdTyD4IJQ23EZ0em61BqDVdNulMpErSvjTCaztPQ1XyjkC4VcPv99eXnm5bPTAhGnAaxo1bVp0CaFVgaqIR2CIIgeQQxXO9Wo+IpcvnrYXOrt29S7ValUav7Dp+mHk/2SExaFABI29Cn4Rkio1nbo1aBcIoVhpMvSqdW3X+vrAbLZbDw+QRAUwzCxWIxhmLvxOBkM6OoqhEdLa45WmhtPmNqqUcwIq5SQCoRUyl6LxYBiFksfkMvlSIKwWq02u91ms9kGBuwOh72/v5FzfNemnQqxVAcqISVo1ENKSUOHvAWUCCxmoxk19Pf1APl83uVyqdVqGIahf7QQ1otJFKKWs2c6ulQ6DIW1Gr1eY+4xdWNwby+iMZtk+m6TdQAgSYqiqOHhYZ/P5/F4/H4/gRP4CO4Le71er93ndnk9gw6Hx+0hcCIUCERHIuQ467xBDt4M/wXnMNqSjYFawgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Propriedade de colisão no Tiled\"\n        title=\"Propriedade de colisão no Tiled\"\n        src=\"/static/efa06188b879de0f05ddbcaf752eebf0/42a19/collision-property-on-tiled.png\"\n        srcset=\"/static/efa06188b879de0f05ddbcaf752eebf0/e3135/collision-property-on-tiled.png 256w,\n/static/efa06188b879de0f05ddbcaf752eebf0/06341/collision-property-on-tiled.png 512w,\n/static/efa06188b879de0f05ddbcaf752eebf0/42a19/collision-property-on-tiled.png 1024w,\n/static/efa06188b879de0f05ddbcaf752eebf0/f7f62/collision-property-on-tiled.png 1096w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Propriedade de colisão no Tiled</figcaption>\n  </figure></p>\n<p>É importante criar seu mapa com várias layers, para que algumas partes possam estar abaixo e algumas partes acima do herói.</p>\n<p><img src=\"/641730c3226f9772bd3bf993dad3d5a2/tiled-map-with-layers.gif\" alt=\"Mapa com layers\"></p>\n<p>Depois que o mapa estiver pronto, <a href=\"/pt-br/blog/games/atualize-automaticamente-o-tileset-embutido-do-seu-mapa-no-tiled-com-um-script-nodejs/\">vou embutir o tileset ao mapa</a>, e então posso simplesmente importar o mapa e o arquivo do <code class=\"language-text\">tileset</code> no meu jogo e carregá-los no Phaser com <code class=\"language-text\">this.load.tilemapTiledJSON()</code> e <code class=\"language-text\">this.load.image()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> mainMapaJson <span class=\"token keyword\">from</span> <span class=\"token string\">'../../../content/assets/game/maps/main-map.json'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> tilesetImage <span class=\"token keyword\">from</span> <span class=\"token string\">'../../../content/assets/game/maps/tileset.png'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">GameScene</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Scene</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GameScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">tilemapTiledJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'main-map'</span><span class=\"token punctuation\">,</span> mainMapaJson<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> tilesetImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"usando-o-plugin-grid-engine-para-o-phaser\" style=\"position:relative;\"><a href=\"#usando-o-plugin-grid-engine-para-o-phaser\" aria-label=\"usando o plugin grid engine para o phaser permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando o plugin grid-engine para o Phaser</h2>\n<p>Como eu mencionei no começo do post, criar um jogo top-down estilo RPG Maker usando o plugin grid-engine é mole, basta configurar o seu jogo para usar o arcade physics e adicionar o grid-engine como plugin.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token operator\">...</span>configs<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">parent</span><span class=\"token operator\">:</span> <span class=\"token string\">'game-content'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">physics</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">'arcade'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'gridEngine'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">plugin</span><span class=\"token operator\">:</span> GridEngine<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">mapping</span><span class=\"token operator\">:</span> <span class=\"token string\">'gridEngine'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora eu posso acessar o plugin através da propriedade <code class=\"language-text\">this.gridEngine</code> dentro de qualquer game scene do jogo. O próximo passo é criar um sprite e movê-lo com o plugin grid-engine.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>make<span class=\"token punctuation\">.</span><span class=\"token function\">tilemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'main-map'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    map<span class=\"token punctuation\">.</span><span class=\"token function\">addTilesetImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    map<span class=\"token punctuation\">.</span>layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        map<span class=\"token punctuation\">.</span><span class=\"token function\">createLayer</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> heroSprite <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> gridEngineConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">characters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">sprite</span><span class=\"token operator\">:</span> heroSprite<span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">startPosition</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> gridEngineConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> cursors <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">createCursorKeys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>left<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'left'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'right'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>down<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'down'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Este código foi praticamente copiado e colado da <a href=\"https://annoraaq.github.io/grid-engine/examples/basic-movement.html\" target=\"_blank\" rel=\"noreferrer\">documentação oficial do plugin</a>.</p>\n<p>Como mencionei antes, para fazer as colisões funcionarem automaticamente com o plugin grid-engine e um mapa criado no Tiled, basta adicionar a propriedade <code class=\"language-text\">ge_collide</code> com o valor <code class=\"language-text\">true</code> nos tiles com os quais o herói deve colidir.</p>\n<p>Observe que isso fará com que o herói se mova e colida com objetos, mas não há nenhuma animação no sprite. Para criar animações para o sprite, usarei a função <code class=\"language-text\">this.anims.create()</code> e farei as animações rodarem toda vez que o grid-engine me informar que o herói se moveu, com os eventos <code class=\"language-text\">movementStarted</code>, <code class=\"language-text\">movementStopped</code> e <code class=\"language-text\">directionChanged</code> despachados pelo plugin.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> heroSprite <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'right'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'down'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'left'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> gridEngineConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">movementStarted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        heroSprite<span class=\"token punctuation\">.</span>anims<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span>direction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">movementStopped</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        heroSprite<span class=\"token punctuation\">.</span>anims<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        heroSprite<span class=\"token punctuation\">.</span><span class=\"token function\">setFrame</span><span class=\"token punctuation\">(</span><span class=\"token string\">'down_01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">directionChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        heroSprite<span class=\"token punctuation\">.</span><span class=\"token function\">setFrame</span><span class=\"token punctuation\">(</span><span class=\"token string\">'down_01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">direction</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>anims<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> direction<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">frames</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n            <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">frame</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>direction<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">_01</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">frame</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>direction<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">_02</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">frameRate</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">repeat</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">yoyo</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Eu entro em mais detalhes de como as mecânicas do jogo foram feitas <a href=\"/pt-br/blog/games/como-criar-um-jogo-estilo-rpg-maker-com-phaser-e-react/\">nesse post</a>.</p>\n<h2 id=\"pegando-os-dados-dos-posts-com-gatsby\" style=\"position:relative;\"><a href=\"#pegando-os-dados-dos-posts-com-gatsby\" aria-label=\"pegando os dados dos posts com gatsby permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pegando os dados dos posts com Gatsby</h2>\n<p>O Gatsby disponibiliza todos os seus dados estáticos através do <code class=\"language-text\">GraphQL</code>, no meu blog eu uso o <a href=\"https://www.gatsbyjs.com/plugins/gatsby-transformer-remark/\" target=\"_blank\" rel=\"noreferrer\">plugin de markdown</a> para os meus posts, então eu acesso meus dados da seguinte forma:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">GamePage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> allPosts <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">;</span>\r\n    \r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>allPosts<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n                    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n                        <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n                        <span class=\"token operator\">&lt;</span>section\r\n                            key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span>\r\n                            dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>html <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> GamePage<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n    query GamePage() {\r\n        allMarkdownRemark(\r\n            sort: { fields: [frontmatter___date], order: DESC }\r\n        ) {\r\n            edges {\r\n                node {\r\n                    html\r\n                    frontmatter {\r\n                        date\r\n                        title\r\n                        category\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Após adicionar a query do <code class=\"language-text\">GraphQL</code>, todos os dados dos meus posts estão disponíveis por meio do props <code class=\"language-text\">data.allMarkdownRemark.edges</code>.</p>\n<p>Agora, no jogo, posso enviar um evento JavaScript pedindo ao React para mostrar todos os meus posts em uma lista ou algo assim, e dai quando um post for escolhido, mostrá-lo em um modal do Material UI.</p>\n<h2 id=\"colocando-tudo-junto\" style=\"position:relative;\"><a href=\"#colocando-tudo-junto\" aria-label=\"colocando tudo junto permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Colocando tudo junto</h2>\n<p>Abaixo é como a versão final do meu component <code class=\"language-text\">GamePage</code> ficou:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">GamePage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> allPosts <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>messages<span class=\"token punctuation\">,</span> setMessage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>showDialogBox<span class=\"token punctuation\">,</span> setShowDialogBox<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>showBlogPost<span class=\"token punctuation\">,</span> setShowBlogPost<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>showBlogPostList<span class=\"token punctuation\">,</span> setShowBlogPostList<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>post<span class=\"token punctuation\">,</span> setPost<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dialogBoxEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> detail <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span>detail<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setShowDialogBox</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">showPostListEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> detail <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setShowBlogPostList</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> showPostListEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">showPostEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> detail <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setPost</span><span class=\"token punctuation\">(</span>detail<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setShowBlogPost</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> showPostEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'show-post-list'</span><span class=\"token punctuation\">,</span> showPostListEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'show-post'</span><span class=\"token punctuation\">,</span> showPostEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> handleMessageIsDone <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> customEvent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end-dialog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span>customEvent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token function\">setShowDialogBox</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>characterName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initPhaser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> Phaser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'phaser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> GameScene <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../game/scenes/GameScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> GridEngine <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grid-engine'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token operator\">...</span>configs<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">parent</span><span class=\"token operator\">:</span> <span class=\"token string\">'game-content'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>GameScene<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token function\">initPhaser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>showDialogBox <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>DialogBox\r\n                    message<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">}</span>\r\n                    onDone<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleMessageIsDone<span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">{</span>showBlogPost <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>BlogPost\r\n                    post<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">{</span>showBlogPostList <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>BlogPostList\r\n                    posts<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>allPosts<span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"game-content\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> GamePage<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n    query GamePage() {\r\n        allMarkdownRemark(\r\n            sort: { fields: [frontmatter___date], order: DESC }\r\n        ) {\r\n            edges {\r\n                node {\r\n                    html\r\n                    frontmatter {\r\n                        date\r\n                        title\r\n                        category\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Se você quiser saber mais detalhes sobre o que acontece dentro da <code class=\"language-text\">GameScene</code>, leia <a href=\"/pt-br/blog/games/como-criar-um-jogo-estilo-rpg-maker-com-phaser-e-react/\">esse post sobre o assunto</a>.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Eu me diverti muito criando esse jogo para o meu blog, e, além disso, aprendi muitas coisas novas no Phaser e React. Quem sabe eu não uso parte desse código para fazer um jogo de verdade 👀.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.390625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACG0lEQVQoz0WQW08TQRhA+2NEFEQq3Z2Z7sw3t6WivhAeDMZnWkNISUx80aihpZUSb4HQYCQGYVsaelmkpeW23d1S5AH/lAESTc7ryUlOZDRzPP66Qt67tzIX+NuaDGzLl6yj+bEmJ5wccrIvcV1YVYkbitQFbgFuctNltCsjqtCeW6lNrwZDS/3RpV6imaS/Oa/qqZe21RZj+zRR0vauNnowUeeoRdAhw01ADUZ9GVG1t8bX7tBSf3DRv7voJ/bmIRCT72z1XWGfm3sMahIcaZSotQHmJjUchlxA7rUszhHZWh7OXo4U/Hv5vigXIABdkKqh1b4kx9x0waxwVOJmmSOHxw/E/zI7i7PKwlD2YjDnDWR60eWO7EyTP1ScjifW5QOXobIwtiC2DWaJx3cFdjmqA2rAlUxDKbqP8Zo7nDsfKfj3c5d8e1n7ip/op5uP7BLYO1zv8IcVIas87km0A8QVqHU9LP7LhjMQtTe3F88HcuFALryT7459aajW84mqbZWE5YDlAHM4ccC46oPpgLHJqKcitKnpGdiHk/RjOZY5imUPYtl2bOEUPv2cKKdoW8c76garo+g/jhTzVYQFivT1k7JKp58lU+lkajb5Ym4mNZucmZ99NSU9Dj0BoeChgFDSUNNQsVDRUNFARainwRf2wRT5XInmg2j+NJr3onnvwYcTa2UDF4u4uI6La3j1B6+meUCpp1lX3fAXiHP5L0RVS7QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pablo gg the game 1\"\n        title=\"pablo gg the game 1\"\n        src=\"/static/6921c5602e9e2c1171362b406e2c817c/42a19/pablo-gg-the-game-1.png\"\n        srcset=\"/static/6921c5602e9e2c1171362b406e2c817c/e3135/pablo-gg-the-game-1.png 256w,\n/static/6921c5602e9e2c1171362b406e2c817c/06341/pablo-gg-the-game-1.png 512w,\n/static/6921c5602e9e2c1171362b406e2c817c/42a19/pablo-gg-the-game-1.png 1024w,\n/static/6921c5602e9e2c1171362b406e2c817c/e8464/pablo-gg-the-game-1.png 1536w,\n/static/6921c5602e9e2c1171362b406e2c817c/ac7a9/pablo-gg-the-game-1.png 1920w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"agradecimentos\" style=\"position:relative;\"><a href=\"#agradecimentos\" aria-label=\"agradecimentos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Agradecimentos</h2>\n<p>Este jogo não seria possível sem a ajuda de algumas pessoas incríveis e os seus trabalhos, então aqui está a minha lista de agradecimentos.</p>\n<ul>\n<li><a href=\"https://github.com/photonstorm\" target=\"_blank\" rel=\"noreferrer\">photonstorm</a>, por ter criado o <a href=\"https://github.com/photonstorm/phaser\" target=\"_blank\" rel=\"noreferrer\">Phaser.io</a>.</li>\n<li><a href=\"https://github.com/Annoraaq\" target=\"_blank\" rel=\"noreferrer\">Annoraaq</a>, por ter criado o plugin <a href=\"https://github.com/Annoraaq/grid-engine\" target=\"_blank\" rel=\"noreferrer\">grid-engine</a>.</li>\n<li><a href=\"https://itch.io/profile/armm1998\" target=\"_blank\" rel=\"noreferrer\">ArMM1998</a>, por ter criado os <a href=\"https://opengameart.org/content/zelda-like-tilesets-and-sprites\" target=\"_blank\" rel=\"noreferrer\">sprites dos personagens e os tilesets</a>.</li>\n<li><a href=\"https://elthen.itch.io/\" target=\"_blank\" rel=\"noreferrer\">PixElthen</a>, por ter criado os <a href=\"https://elthen.itch.io/2d-pixel-art-small-slime-sprites\" target=\"_blank\" rel=\"noreferrer\">sprites do slime</a>.</li>\n<li><a href=\"https://itch.io/profile/pixelartm\" target=\"_blank\" rel=\"noreferrer\">pixelartm</a>, por ter criado o <a href=\"https://opengameart.org/content/pirate-1\" target=\"_blank\" rel=\"noreferrer\">sprite do chapéu do pirata</a>.</li>\n<li><a href=\"https://opengameart.org/users/jkjkke\" target=\"_blank\" rel=\"noreferrer\">jkjkke</a>, por ter criado <a href=\"https://opengameart.org/content/background-6\" target=\"_blank\" rel=\"noreferrer\">a imagem de background da tela de Game Over</a>.</li>\n<li><a href=\"https://opengameart.org/users/knoblepersona\" target=\"_blank\" rel=\"noreferrer\">KnoblePersona</a>, por ter criado <a href=\"https://opengameart.org/content/ocean-background\" target=\"_blank\" rel=\"noreferrer\">a imagem de background do menu inicial</a>.</li>\n<li><a href=\"https://opengameart.org/users/min\" target=\"_blank\" rel=\"noreferrer\">Min</a>, por ter criado <a href=\"https://opengameart.org/content/open-book-0\" target=\"_blank\" rel=\"noreferrer\">o sprite do livro aberto</a>.</li>\n</ul>","fields":{"slug":"/2021/2021-10-12-eu-criei-um-jogo-para-acessar-o-conteudo-do-meu-blog-com-phaser-e-react.pt-br/","path":"/blog/coding/eu-criei-um-jogo-para-acessar-o-conteudo-do-meu-blog-com-phaser-e-react/","locale":"pt-br"},"readingTime":{"minutes":9.405},"frontmatter":{"date":"2021-10-12T00:00:00.000Z","title":"Eu criei um jogo para o acessar o conteúdo do meu blog com Phaser e React","categories":["coding"]}}},{"node":{"excerpt":"A minha primeira experiência com “programação” foi em 200…","html":"<p>A minha primeira experiência com “programação” foi em 2002, quando eu fazia jogos com o RPG Maker, foi quando eu aprendi o que era uma variável, persistência de dados e loops.</p>\n<p>Eu nunca cheguei a publicar nenhum dos jogos que eu fiz, mas meio que sempre foi o meu sonho então agora que eu ja tenho cerca de 2 anos de experiência com Phaser, resolvi fazer um pequeno jogo no mesmo estilo dos de RPG Maker que eu fazia em 2002.</p>\n<h2 id=\"integrando-react-com-phaser\" style=\"position:relative;\"><a href=\"#integrando-react-com-phaser\" aria-label=\"integrando react com phaser permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Integrando React com Phaser</h2>\n<p>O Phaser funciona renderizando píxeis dentro de um elemento <code class=\"language-text\">canvas</code> no DOM, e isso é ótimo, mas um dos grandes recursos do desenvolvimento da web é o poder do DOM e CSS para criar excelentes elementos de UI, e você não pode fazer isso com Phaser sozinho.</p>\n<p>A maneira mais simples de usar o Phaser com React é com um componente funcional como o mostrado abaixo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> Phaser <span class=\"token keyword\">from</span> <span class=\"token string\">'phaser'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">GameComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token operator\">...</span>configs<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">parent</span><span class=\"token operator\">:</span> <span class=\"token string\">'game-content'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"game-content\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> GameComponent<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"usando-react-para-a-ui-do-jogo\" style=\"position:relative;\"><a href=\"#usando-react-para-a-ui-do-jogo\" aria-label=\"usando react para a ui do jogo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando React para a UI do jogo</h2>\n<p>Para fazer o Phaser ser capaz de se comunicar com o React, por exemplo, para mostrar um item de menu ou uma caixa de diálogo, vou despachar eventos do JavaScript entre o Phaser e o React usando o <code class=\"language-text\">new CustomEvent('event-name')</code>.</p>\n<p>A melhor maneira de fazer isso seria com algum tipo de ferramenta de gestão de estado, como o <a href=\"https://facebook.github.io/flux/\" target=\"_blank\" rel=\"noreferrer\">Flux</a>, mas como este é apenas um projeto muito pequeno, despachar eventos do JavaScript funcionará por agora.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// React component</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">GameComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>messages<span class=\"token punctuation\">,</span> setMessage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>showDialogBox<span class=\"token punctuation\">,</span> setShowDialogBox<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dialogBoxEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> detail <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span>detail<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setShowDialogBox</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> handleMessageIsDone <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> customEvent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end-dialog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span>customEvent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token function\">setShowDialogBox</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>characterName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>showDialogBox <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>DialogBox\r\n                    message<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">}</span>\r\n                    onDone<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleMessageIsDone<span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"game-content\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Phaser scene</span>\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">GameScene</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Scene</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GameScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dialogBoxFinishedEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxFinishedEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token comment\">// Do whatever is needed when the dialog is over</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end-dialog'</span><span class=\"token punctuation\">,</span> dialogBoxFinishedEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"/18452438d2251249518c712d8873e89a/react-dialog-box.gif\" alt=\"Caixa de dialogo\"></p>\n<p>Se você quiser mais detalhes sobre como criar uma caixa de diálogo React para o seu jogo em Phaser, <a href=\"/pt-br/blog/coding/criando-uma-caixa-de-dialogo-com-react-para-o-meu-jogo-em-phaser\">leia o meu post sobre o assunto</a>.</p>\n<h2 id=\"usando-o-grid-engine-e-carregando-mapas-do-tiled\" style=\"position:relative;\"><a href=\"#usando-o-grid-engine-e-carregando-mapas-do-tiled\" aria-label=\"usando o grid engine e carregando mapas do tiled permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando o grid-engine e carregando mapas do Tiled</h2>\n<p>Para criar o mapa eu vou novamente usar o Tiled, que é um FOSS no qual você pode criar mapas e usá-los em praticamente qualquer game engine.</p>\n<p>O <code class=\"language-text\">tileset</code> que estou usando para o meu mapa é o <a href=\"https://opengameart.org/content/zelda-like-tilesets-and-sprites\" target=\"_blank\" rel=\"noreferrer\">Zelda-like tileset</a> criado por <a href=\"https://itch.io/profile/armm1998\" target=\"_blank\" rel=\"noreferrer\">ArMM1998</a>, que inclui tilesets para interiores, tipo casas, e exteriores, tipo cidades.</p>\n<p>Depois que o mapa estiver pronto, <a href=\"/pt-br/blog/games/atualize-automaticamente-o-tileset-embutido-do-seu-mapa-no-tiled-com-um-script-nodejs/\">vou embutir o tileset ao mapa</a>, e então posso simplesmente importar o mapa e o arquivo do <code class=\"language-text\">tileset</code> no meu jogo e carregá-los no Phaser com <code class=\"language-text\">this.load.tilemapTiledJSON()</code> e <code class=\"language-text\">this.load.image()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> mainMapaJson <span class=\"token keyword\">from</span> <span class=\"token string\">'../../../content/assets/game/maps/main-map.json'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> tilesetImage <span class=\"token keyword\">from</span> <span class=\"token string\">'../../../content/assets/game/maps/tileset.png'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">GameScene</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Scene</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GameScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">tilemapTiledJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'main-map'</span><span class=\"token punctuation\">,</span> mainMapaJson<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> tilesetImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Para adicionar o grid-engine no Phaser, basta configurar o seu jogo para usar o arcade physics e adicionar o grid-engine como plugin, como on código abaixo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token operator\">...</span>configs<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">parent</span><span class=\"token operator\">:</span> <span class=\"token string\">'game-content'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">physics</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">'arcade'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'gridEngine'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">plugin</span><span class=\"token operator\">:</span> GridEngine<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">mapping</span><span class=\"token operator\">:</span> <span class=\"token string\">'gridEngine'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora eu posso acessar o plugin através da propriedade <code class=\"language-text\">this.gridEngine</code> dentro de qualquer game scene do jogo. O próximo passo é criar um sprite e movê-lo com o plugin do grid-engine.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>make<span class=\"token punctuation\">.</span><span class=\"token function\">tilemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'main-map'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    map<span class=\"token punctuation\">.</span><span class=\"token function\">addTilesetImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    map<span class=\"token punctuation\">.</span>layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        map<span class=\"token punctuation\">.</span><span class=\"token function\">createLayer</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> heroSprite <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> gridEngineConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">characters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">sprite</span><span class=\"token operator\">:</span> heroSprite<span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">startPosition</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> gridEngineConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> cursors <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">createCursorKeys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>left<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'left'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'right'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span>down<span class=\"token punctuation\">.</span>isDown<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'down'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Este código foi praticamente copiado e colado da <a href=\"https://annoraaq.github.io/grid-engine/examples/basic-movement.html\" target=\"_blank\" rel=\"noreferrer\">documentação oficial do plugin</a>.</p>\n<p>Para fazer as colisões funcionarem automaticamente com um mapa criado no Tiled, basta adicionar a propriedade <code class=\"language-text\">ge_collide</code> com o valor <code class=\"language-text\">true</code> nos tiles com os quais o herói deve colidir.</p>\n<p>Observe que isso fará com que o herói se mova e colida com objetos, mas não há nenhuma animação no sprite. Para criar novas animações para o sprite, usarei a função <code class=\"language-text\">this.anims.create()</code> e farei as animações rodarem toda vez que o grid-engine me informar que o herói se moveu, com os eventos <code class=\"language-text\">movementStarted</code>, <code class=\"language-text\">movementStopped</code> e <code class=\"language-text\">directionChanged</code> despachados pelo plugin.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> heroSprite <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'right'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'down'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'left'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> gridEngineConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">movementStarted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        heroSprite<span class=\"token punctuation\">.</span>anims<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span>direction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">movementStopped</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        heroSprite<span class=\"token punctuation\">.</span>anims<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        heroSprite<span class=\"token punctuation\">.</span><span class=\"token function\">setFrame</span><span class=\"token punctuation\">(</span><span class=\"token string\">'down_01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">directionChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        heroSprite<span class=\"token punctuation\">.</span><span class=\"token function\">setFrame</span><span class=\"token punctuation\">(</span><span class=\"token string\">'down_01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">createHeroWalkingAnimation</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">direction</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>anims<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> direction<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">frames</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n            <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">frame</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>direction<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">_01</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">frame</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>direction<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">_02</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">frameRate</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">repeat</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">yoyo</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"criando-interacoes-para-o-heroi\" style=\"position:relative;\"><a href=\"#criando-interacoes-para-o-heroi\" aria-label=\"criando interacoes para o heroi permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criando interações para o herói</h2>\n<p>O herói deve ser capaz de interagir com o mundo, por exemplo, chegando perto de um NPC e conversando com ele.</p>\n<p>Parece simples, mas como conseguir isso com o Phaser? Existem muitas maneiras de fazer isso, mas a mais fácil é criar um custom collider que estará sempre na frente do herói, e esse custom collider irá interagir com todos os objetos no jogo.</p>\n<p>Primeiro vou criar um objeto usando a classe <code class=\"language-text\">Phaser.GameObjects.Rectangle</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider <span class=\"token operator\">=</span>\r\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora preciso fazer com que esse custom collider fique sempre na parte da frente do herói, para isso vou usar a função <code class=\"language-text\">update</code> da minha game scene.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> facingDirection <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">getFacingDirection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>facingDirection<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'down'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">36</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'up'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'left'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'right'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// will never happen</span>\r\n            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"adicionando-tiles-interativos\" style=\"position:relative;\"><a href=\"#adicionando-tiles-interativos\" aria-label=\"adicionando tiles interativos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adicionando tiles interativos</h2>\n<p>Agora que tenho a variável <code class=\"language-text\">this.heroActionCollider</code>, vamos tornar o mundo um pouco mais interativo. Eu quero que o herói seja capaz de cortar grama e empurrar caixas, então primeiro vou criar uma layer chamada <code class=\"language-text\">test</code> no meu mapa e adicionar os tiles da grama e da caixa.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">map<span class=\"token punctuation\">.</span>layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    map<span class=\"token punctuation\">.</span><span class=\"token function\">createLayer</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>layer<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'test'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        layer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">flat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tile</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>No meu caso, o index da grama é <code class=\"language-text\">428</code>, e o index da caixa é <code class=\"language-text\">427</code>, e com essas informações eu já posso começar a fazer o meu código.</p>\n<p>Primeiro, vou criar um <code class=\"language-text\">GameGroup</code> com a função <code class=\"language-text\">this.add.group()</code> e adicionar as minhas layers interativas nele e, em seguida, criar um overlap entre <code class=\"language-text\">this.heroActionCollider</code> e <code class=\"language-text\">interactiveLayers</code> com a função <code class=\"language-text\">this.physics.add.overlap()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> interactiveLayers <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nmap<span class=\"token punctuation\">.</span>layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    map<span class=\"token punctuation\">.</span><span class=\"token function\">createLayer</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>layer<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'interactions'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        interactiveLayers<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>layer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">GRASS_INDEX</span> <span class=\"token operator\">=</span> <span class=\"token number\">428</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">BOX_INDEX</span> <span class=\"token operator\">=</span> <span class=\"token number\">427</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">,</span> interactiveLayers<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">objA<span class=\"token punctuation\">,</span> objB</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>objA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> obj <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token operator\">?.</span>index <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>tile<span class=\"token punctuation\">.</span>wasHandled<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">GRASS_INDEX</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                tile<span class=\"token punctuation\">.</span>wasHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">BOX_INDEX</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                tile<span class=\"token punctuation\">.</span>wasHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para a ação de cortar a grama, vou verificar se a tecla <code class=\"language-text\">ESPAÇO</code> está pressionada com <code class=\"language-text\">Input.Keyboard.JustDown()</code> e, se estiver, destruirei aquele tile com <code class=\"language-text\">tile.destroy()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spaceKey <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">addKey</span><span class=\"token punctuation\">(</span>Input<span class=\"token punctuation\">.</span>Keyboard<span class=\"token punctuation\">.</span>KeyCodes<span class=\"token punctuation\">.</span><span class=\"token constant\">SPACE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">,</span> interactiveLayers<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">objA<span class=\"token punctuation\">,</span> objB</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>objA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> obj <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token operator\">?.</span>index <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>tile<span class=\"token punctuation\">.</span>wasHandled<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">GRASS_INDEX</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Input<span class=\"token punctuation\">.</span>Keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">JustDown</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spaceKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    tile<span class=\"token punctuation\">.</span>wasHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token comment\">// Wait a little bit for the attack animation to be over</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                        <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                            tile<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            tile<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token punctuation\">}</span>\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para a ação de empurrar a caixa, também irei verificar se a tecla <code class=\"language-text\">ESPAÇO</code> está pressionada, e então mover o tile para a sua nova posição com <code class=\"language-text\">this.tweens.add()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spaceKey <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">addKey</span><span class=\"token punctuation\">(</span>Input<span class=\"token punctuation\">.</span>Keyboard<span class=\"token punctuation\">.</span>KeyCodes<span class=\"token punctuation\">.</span><span class=\"token constant\">SPACE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">,</span> interactiveLayers<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">objA<span class=\"token punctuation\">,</span> objB</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>objA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> obj <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroActionCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token operator\">?.</span>index <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>tile<span class=\"token punctuation\">.</span>wasHandled<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">BOX_INDEX</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Input<span class=\"token punctuation\">.</span>Keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">JustDown</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spaceKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    tile<span class=\"token punctuation\">.</span>wasHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">const</span> newPosition <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">calculatePushedTilePosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tweens<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token literal-property property\">targets</span><span class=\"token operator\">:</span> tile<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">pixelX</span><span class=\"token operator\">:</span> newPosition<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">pixelY</span><span class=\"token operator\">:</span> newPosition<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">ease</span><span class=\"token operator\">:</span> <span class=\"token string\">'Power2'</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">700</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">onComplete</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handlePushedTileCompleted</span><span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Este código contém 2 funções misteriosas 🕵️, <code class=\"language-text\">calculPushedTilePosition</code> e <code class=\"language-text\">handlePushedTileCompleted</code>. A primeira irá calcular a nova posição do tile depois dele ser empurrado com base na posição do herói.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">calculatePushedTilePosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> facingDirection <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">getFacingDirection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> position <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">getPosition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>facingDirection<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'up'</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileWidth<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileHeight<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'right'</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileWidth<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileHeight<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'down'</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileWidth<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileHeight<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">case</span> <span class=\"token string\">'left'</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileWidth<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileHeight<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileWidth<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileHeight<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A função <code class=\"language-text\">handlePushedTileCompleted</code> irá remover o tile empurrado e criar um novo na nova posição. Isso precisa ser feito porque, embora a posição do tile tenha mudado com a animação da função <code class=\"language-text\">this.tweens.add()</code>, a colisão permanece na posição original do tile, não sei se isso é por design, ou se é um bug no Phaser ou no plugin grid-engine.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">handlePushedTileCompleted</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tile</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> newTile <span class=\"token operator\">=</span> tile<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>tilemapLayer<span class=\"token punctuation\">.</span><span class=\"token function\">putTileAt</span><span class=\"token punctuation\">(</span>\r\n        tile<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">,</span>\r\n        newPosition<span class=\"token punctuation\">.</span>x <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileWidth<span class=\"token punctuation\">,</span>\r\n        newPosition<span class=\"token punctuation\">.</span>y <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileHeight<span class=\"token punctuation\">,</span>\r\n        <span class=\"token boolean\">true</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    newTile<span class=\"token punctuation\">.</span>properties <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token operator\">...</span>tile<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    newTile<span class=\"token punctuation\">.</span>wasHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n\r\n    tile<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    tile<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"/51cd88a1136dee62f6bb01810de39339/cutting-grass.gif\" alt=\"Cortando grama\"></p>\n<h2 id=\"adicionando-inimigos\" style=\"position:relative;\"><a href=\"#adicionando-inimigos\" aria-label=\"adicionando inimigos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adicionando inimigos</h2>\n<p>Para adicionar inimigos no mapa, vou usar a layer de objetos do Tiled, que pode ser acessada através da função <code class=\"language-text\">map.getObjectLayer()</code>. Primeiro eu vou criar uma layer de objeto chamada <code class=\"language-text\">elements</code> e adicionar alguns tiles com o botão “Insert Tile”.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1010px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.359375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC3ElEQVQoz3XO708ScQDHcf6pas2tWj2pmSPkZ6YogigIij8QTbgDDu/ue8cdnGbLuVSUUDQR7o7U0iBQeCTOxdRHjjbUBwjinDxza2oun/je5+lr+whWlqPhcCgajXAcy3FcMBgMhUJsJMxzHM+xbIRdWgovRthwOLLsm1z1TX2fmuLmF7joN5aPClaWuZVVPhZbWV/7sb6+zrKs3+/3B2a/zAb9s3OB6cD45PTHmbmJ8Yk5yh1dmonPfg6MjM7ML/gCQUEotMRx/MLXxXAkwvP8jN/vdDhcZh1iUrs6m/u7WxzdGrRLjffoGH2j12IatQ1STieKYzg6JNjf3/tz3eHh4UmhEIvHIBtEtgk92mpSX2sxqJwGOdEuZSxGTFOLWDpxyoMDAAABACHY3d3N5/O5XC6fzxeLxXg8DkNQ71uhRVENaSSIRoy0SGyqWsrcyvuoYTeGYlfuJsHe3t7R0dHOzs7BwUGpWPwZizlgiDbKR0xSxiTH28SgU+HSSui+pjXeNso4UJQgbrUgm83mrjs+Pj4/P/+VSNhhCFO9HtO/9LS+GWoWug1y0ijH26WwqgYZ6AGkG+D4P5xKpRKJRDqd3tzczGZ/sxyHOOyYsQ5uFCJqkQdW03SH16mhu5VecxNq7QEkBcAt3tra2t7ezmQy6XQ6k8lwPI847KSp3m1SUAYZTRl7p+3EJzPWWYdoZbitFyfd/3G5XK5UKhfXXV5eptJpO2QjuxoIowzopYxLC8bMw5j+g0qCGmqHIDMg7uBCoVAul09PT0ul0sXFRTKZtMMQ0tKAt8lH+uopg4zSiUdNyiltqw0WD6I9JLhz++Tk5Ozs7MZXKpWNjQ2b1VpT9az64WNRVdV7ndTjVMtePBU/f/Lq0YMOvY6mPTh+P4ZhuLFBo5AppaL6fquZGEHqFU1yiVIqemfpG3BT7ntxMplEEIRhPF4v7WVokiBxDHi8tPd6JEnewiv8F8sW+HURs/pCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Insert a tile\"\n        title=\"Insert a tile\"\n        src=\"/static/0c6ede12e2b26092f9f120e5834da7f3/08990/tiled-insert-tile.png\"\n        srcset=\"/static/0c6ede12e2b26092f9f120e5834da7f3/e3135/tiled-insert-tile.png 256w,\n/static/0c6ede12e2b26092f9f120e5834da7f3/06341/tiled-insert-tile.png 512w,\n/static/0c6ede12e2b26092f9f120e5834da7f3/08990/tiled-insert-tile.png 1010w\"\n        sizes=\"(max-width: 1010px) 100vw, 1010px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Insert a tile</figcaption>\n  </figure></p>\n<p>Também vou adicionar uma propriedade personalizada com o nome <code class=\"language-text\">enemyData</code> a este tile com o valor <code class=\"language-text\">slime_red:follow:1:100</code>, que serão todas as propriedades do meu inimigo, estes valores separados por <strong>”:”</strong> são <code class=\"language-text\">tipoDeInimigo:tipoDeAI:velocidade:vida</code>. Para obter esses valores, vou dividir a string e adicionar todos esses valores em uma array para usar mais tarde.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> enemiesData <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'elements'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> properties<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    properties<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> value <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> property<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'enemyData'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>enemyType<span class=\"token punctuation\">,</span> enemyAI<span class=\"token punctuation\">,</span> speed<span class=\"token punctuation\">,</span> health<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">':'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                enemiesData<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                    x<span class=\"token punctuation\">,</span>\r\n                    y<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">speed</span><span class=\"token operator\">:</span> Number<span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>speed<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                    enemyType<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">enemySpecies</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEnemySpecies</span><span class=\"token punctuation\">(</span>enemyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                    enemyAI<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">enemyName</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enemyType<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">_</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enemiesData<span class=\"token punctuation\">.</span>length<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">health</span><span class=\"token operator\">:</span> Number<span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>health<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora a variável <code class=\"language-text\">enemiesData</code> contém todos os dados de todos os inimigos no mapa, então tudo o que me resta é criar sprites inimigos com <code class=\"language-text\">this.physics.add.sprite()</code> e adicioná-los a array <code class=\"language-text\">gridEngineConfig.characters</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>enemiesSprites <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nenemiesData<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">enemyData<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> enemySpecies<span class=\"token punctuation\">,</span> enemyType<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> enemyName<span class=\"token punctuation\">,</span> speed<span class=\"token punctuation\">,</span> enemyAI<span class=\"token punctuation\">,</span> health <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> enemyData<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> enemy <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> enemyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>enemyType<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        enemy<span class=\"token punctuation\">.</span><span class=\"token function\">setTint</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xF1374B</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>enemyType<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'green'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        enemy<span class=\"token punctuation\">.</span><span class=\"token function\">setTint</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x2BBD6E</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>enemyType<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yellow'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        enemy<span class=\"token punctuation\">.</span><span class=\"token function\">setTint</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFFFF4F</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>enemyType<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'blue'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        enemy<span class=\"token punctuation\">.</span><span class=\"token function\">setTint</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x00A0DC</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    enemy<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> enemyName<span class=\"token punctuation\">;</span>\r\n    enemy<span class=\"token punctuation\">.</span>enemyType <span class=\"token operator\">=</span> enemyType<span class=\"token punctuation\">;</span>\r\n    enemy<span class=\"token punctuation\">.</span>enemySpecies <span class=\"token operator\">=</span> enemySpecies<span class=\"token punctuation\">;</span>\r\n    enemy<span class=\"token punctuation\">.</span>enemyAI <span class=\"token operator\">=</span> enemyAI<span class=\"token punctuation\">;</span>\r\n    enemy<span class=\"token punctuation\">.</span>speed <span class=\"token operator\">=</span> speed<span class=\"token punctuation\">;</span>\r\n    enemy<span class=\"token punctuation\">.</span>health <span class=\"token operator\">=</span> health<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>enemiesSprites<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>enemy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    gridEngineConfig<span class=\"token punctuation\">.</span>characters<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> enemyName<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">sprite</span><span class=\"token operator\">:</span> enemy<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">startPosition</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> x <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileWidth<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tileHeight<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        speed<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para fazer o inimigo seguir o herói, vou simplesmente usar a <a href=\"https://annoraaq.github.io/grid-engine/api/methods.html#follow\" target=\"_blank\" rel=\"noreferrer\">função this.gridEngine.follow()</a>.</p>\n<p><img src=\"/3a4df19cbb0e4834a0aa0b26bb702dce/slime-enemy.gif\" alt=\"\"></p>\n<h2 id=\"adicionando-itens\" style=\"position:relative;\"><a href=\"#adicionando-itens\" aria-label=\"adicionando itens permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adicionando itens</h2>\n<p>Para os itens eu vou novamente usar a layer de objetos do Tiled que eu já criei, chamada <code class=\"language-text\">elements</code>. Por enquanto, eu vou adicionar dois itens diferentes no jogo, moedas e corações, usando uma propriedade personalizada com o nome <code class=\"language-text\">itemData</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>itemsSprites <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'elements'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> properties<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    properties<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> value <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> property<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'itemData'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// it's only one value... for now.</span>\r\n                <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>itemType<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">':'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>itemType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">case</span> <span class=\"token string\">'coin'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add\r\n                            <span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token string\">'coin'</span><span class=\"token punctuation\">)</span>\r\n                            <span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n                            <span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                        item<span class=\"token punctuation\">.</span>itemType <span class=\"token operator\">=</span> <span class=\"token string\">'coin'</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>itemsSprites<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n\r\n                    <span class=\"token keyword\">case</span> <span class=\"token string\">'heart'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add\r\n                            <span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token string\">'heart'</span><span class=\"token punctuation\">)</span>\r\n                            <span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n                            <span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                        item<span class=\"token punctuation\">.</span>itemType <span class=\"token operator\">=</span> <span class=\"token string\">'heart'</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>itemsSprites<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n\r\n                    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora eu só preciso criar um overlap entre o herói e o grupo de itens na variável <code class=\"language-text\">this.itemsSprites</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>itemsSprites<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">objA<span class=\"token punctuation\">,</span> objB</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>objA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> obj <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>itemType <span class=\"token operator\">===</span> <span class=\"token string\">'heart'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span><span class=\"token function\">restoreHealth</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        item<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        item<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>itemType <span class=\"token operator\">===</span> <span class=\"token string\">'coin'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span><span class=\"token function\">collectCoin</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        item<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        item<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"usando-react-para-o-hud\" style=\"position:relative;\"><a href=\"#usando-react-para-o-hud\" aria-label=\"usando react para o hud permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando React para o HUD</h2>\n<p>No código do overlap com os itens, eu não expliquei como as funções <code class=\"language-text\">restoreHealth</code> e<code class=\"language-text\"> collectCoin</code> funcionam, pois, elas se comunicam diretamente com o React, então primeiro vamos ver como é esse componente.</p>\n<p>O componente de HUD em React é bastante simples e contém 3 props, um integer <code class=\"language-text\">screenWidth</code>, para o posicionamento do HUD na tela, um integer <code class=\"language-text\">coins</code>, para mostrar a quantidade de moedas coletadas, e uma array <code class=\"language-text\">healthState</code>, com a quantidade de corações e se eles estão vazios, cheios ou pela metade.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> coinImage <span class=\"token keyword\">from</span> <span class=\"token string\">'../images/coin.png'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> healthImage <span class=\"token keyword\">from</span> <span class=\"token string\">'../images/health.png'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token function-variable function\">hudContainer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> screenWidth <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> left <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">-</span> screenWidth<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">fontFamily</span><span class=\"token operator\">:</span> <span class=\"token string\">'\"Press Start 2P\"'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'12px'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">textTransform</span><span class=\"token operator\">:</span> <span class=\"token string\">'uppercase'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">imageRendering</span><span class=\"token operator\">:</span> <span class=\"token string\">'pixelated'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">16</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>left <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">cursor</span><span class=\"token operator\">:</span> <span class=\"token string\">'default'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">userSelect</span><span class=\"token operator\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">health</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">healthStateFull</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">backgroundSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'48px 16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">url(\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>healthImage<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\") no-repeat 0 0</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">healthStateHalf</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> healthState <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">backgroundSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'48px 16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">url(\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>healthImage<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\") no-repeat -16px 0</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">healthStateEmpty</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> healthState <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">backgroundSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'48px 16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">url(\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>healthImage<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\") no-repeat -32px 0</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">coin</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">backgroundSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px 16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">url(\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coinImage<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\") no-repeat 0 0</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">coinFull</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'11px'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">textShadow</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">-1px 0 #FFFFFF, 0 1px #FFFFFF, 1px 0 #FFFFFF, 0 -1px #FFFFFF</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">'#119923'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">GameHeadsUpDisplay</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> screenWidth<span class=\"token punctuation\">,</span> coins<span class=\"token punctuation\">,</span> healthState <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        screenWidth<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    \r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>hudContainer<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>healthContainer<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">{</span>healthStates<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">healthState<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n                    <span class=\"token operator\">&lt;</span>div\r\n                        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span>\r\n                        className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">classNames</span><span class=\"token punctuation\">(</span>classes<span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n                            <span class=\"token punctuation\">[</span>classes<span class=\"token punctuation\">.</span>healthStateFull<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> healthState <span class=\"token operator\">===</span> <span class=\"token string\">'full'</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token punctuation\">[</span>classes<span class=\"token punctuation\">.</span>healthStateHalf<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> healthState <span class=\"token operator\">===</span> <span class=\"token string\">'half'</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token punctuation\">[</span>classes<span class=\"token punctuation\">.</span>healthStateEmpty<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> healthState <span class=\"token operator\">===</span> <span class=\"token string\">'empty'</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n                    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>coinContainer<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>coin<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>span\r\n                    className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">classNames</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token punctuation\">[</span>classes<span class=\"token punctuation\">.</span>coinFull<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> coins <span class=\"token operator\">>=</span> <span class=\"token number\">999</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">></span>\r\n                    <span class=\"token punctuation\">{</span>coins<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">padStart</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> GameHeadsUpDisplay<span class=\"token punctuation\">;</span></code></pre></div>\n<p>O código da função <code class=\"language-text\">collectCoin</code> apenas envia um evento JavaScript com o número de moedas que o herói possui.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">collectCoin</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">heroCoins</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> customEvent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero-coin'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">detail</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            heroCoins<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span>customEvent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A função <code class=\"language-text\">restoreHealth</code> é mais complexa, pois precisa lidar com a possibilidade de corações vazios, cheios, e pela metade.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">restoreHealth</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">healthToRestore</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> healthStates <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>maxHealth <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> health <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>health <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span> <span class=\"token operator\">*</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>health <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">return</span> <span class=\"token string\">'full'</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>health <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">return</span> <span class=\"token string\">'half'</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">return</span> <span class=\"token string\">'empty'</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> customEvent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero-health'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">detail</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            healthStates<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span>customEvent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Bom, pensando bem, ela nem é tão complexa assim, mas eu demorei um pouco para fazer tudo funcionar direitinho. hehe.</p>\n<p>O component <code class=\"language-text\">GameComponent</code> ficou da seguinte forma com o HUD:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">GameComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>heroCoins<span class=\"token punctuation\">,</span> setHeroCoins<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>heroHealthStates<span class=\"token punctuation\">,</span> setHeroHealthStates<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">heroCoinEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> detail <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setHeroCoins</span><span class=\"token punctuation\">(</span>detail<span class=\"token punctuation\">.</span>heroCoins<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero-coin'</span><span class=\"token punctuation\">,</span> heroCoinEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">heroHealthEventListener</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> detail <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setHeroHealthStates</span><span class=\"token punctuation\">(</span>detail<span class=\"token punctuation\">.</span>healthStates<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero-health'</span><span class=\"token punctuation\">,</span> heroHealthEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero-coin'</span><span class=\"token punctuation\">,</span> heroCoinEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero-health'</span><span class=\"token punctuation\">,</span> heroHealthEventListener<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>GameHeadsUpDisplay\r\n                coins<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>heroCoins<span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"game-content\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"/baaecacf779b133465977eb2a3eaeb10/collecting-items.gif\" alt=\"\"></p>\n<h2 id=\"teleportando-para-outro-mapa\" style=\"position:relative;\"><a href=\"#teleportando-para-outro-mapa\" aria-label=\"teleportando para outro mapa permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Teleportando para outro mapa</h2>\n<p>Todo o código feito até agora funciona apenas para um mapa, o <code class=\"language-text\">main-map</code>, porém o meu jogo tem vários mapas, como casas, cidades e o overworld. Imagina ter que copiar todo esse código para outras game scenes 😵.</p>\n<p>Ao invés de fazer isso, eu vou usar a <a href=\"https://photonstorm.github.io/phaser3-docs/Phaser.Types.Scenes.html#.SceneInitCallback\" target=\"_blank\" rel=\"noreferrer\">função init() da classe Phaser.Scene</a> para passar informações sobre o herói e sobre qual mapa carregar na <code class=\"language-text\">GameScene</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>initData <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> heroStatus<span class=\"token punctuation\">,</span> mapKey <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>initData<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>make<span class=\"token punctuation\">.</span><span class=\"token function\">tilemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> mapKey <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    map<span class=\"token punctuation\">.</span><span class=\"token function\">addTilesetImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    map<span class=\"token punctuation\">.</span>layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        map<span class=\"token punctuation\">.</span><span class=\"token function\">createLayer</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token string\">'tileset'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> initialPosition<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">health</span><span class=\"token operator\">:</span> heroHealth<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">coin</span><span class=\"token operator\">:</span> heroCoin<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> heroStatus<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> heroSprite <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateHeroHealthUi</span><span class=\"token punctuation\">(</span>heroHealth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateHeroCoinUi</span><span class=\"token punctuation\">(</span>heroCoin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> gridEngineConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">characters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'hero'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">sprite</span><span class=\"token operator\">:</span> heroSprite<span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">startPosition</span><span class=\"token operator\">:</span> initialPosition<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> gridEngineConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora eu posso iniciar a minha <code class=\"language-text\">GameScene</code> com o código <code class=\"language-text\">this.scene.start('GameScene', { heroStatus: { ...heroStatus }, mapKey: 'main-map' });</code>, e agora eu posso começar a trabalhar no código para teleportar o herói entre mapas, e mais uma vez vou usar a layer de objetos do Tiled com uma propriedade personalizada com o nome <code class=\"language-text\">teleportTo</code> com o valor <code class=\"language-text\">mapKey:positionX:positionY</code>.</p>\n<p>Mas e para recomeçar a mesma game scene já está rodando? Para isso existe a função <code class=\"language-text\">this.scene.restart()</code>. Então eu vou criar um custom collider para colidir com o herói e fazer o teleporte, adicionar um fade-out e, passar todos os dados do herói e do novo mapa para <code class=\"language-text\">this.scene.restart()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>itemsSprites <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'elements'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> properties<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    properties<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> value <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> property<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'teleportTo'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>mapKey<span class=\"token punctuation\">,</span> teleportToX<span class=\"token punctuation\">,</span> teleportToY<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">':'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">const</span> customCollider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">const</span> <span class=\"token constant\">SCENE_FADE_TIME</span> <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">const</span> overlapCollider <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">,</span> customCollider<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">.</span><span class=\"token function\">removeCollider</span><span class=\"token punctuation\">(</span>overlapCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">const</span> facingDirection <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gridEngine<span class=\"token punctuation\">.</span><span class=\"token function\">getFacingDirection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    camera<span class=\"token punctuation\">.</span><span class=\"token function\">fadeOut</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SCENE_FADE_TIME</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SCENE_FADE_TIME</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span><span class=\"token function\">restart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                            <span class=\"token literal-property property\">heroStatus</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                                <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> teleportToX<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> teleportToY <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                                <span class=\"token literal-property property\">health</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>health<span class=\"token punctuation\">,</span>\r\n                                <span class=\"token literal-property property\">coin</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>heroSprite<span class=\"token punctuation\">.</span>coin<span class=\"token punctuation\">,</span>\r\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">mapKey</span><span class=\"token operator\">:</span> teleportToMapKey<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"/639b8857e51b89d20ad24475f5c818f7/teleporting.gif\" alt=\"\"></p>\n<h2 id=\"agradecimentos\" style=\"position:relative;\"><a href=\"#agradecimentos\" aria-label=\"agradecimentos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Agradecimentos</h2>\n<p>Este jogo não seria possível sem a ajuda de algumas pessoas incríveis e os seus trabalhos, então aqui está a minha lista de agradecimentos.</p>\n<ul>\n<li><a href=\"https://github.com/photonstorm\" target=\"_blank\" rel=\"noreferrer\">photonstorm</a>, por ter criado o <a href=\"https://github.com/photonstorm/phaser\" target=\"_blank\" rel=\"noreferrer\">Phaser.io</a>.</li>\n<li><a href=\"https://github.com/Annoraaq\" target=\"_blank\" rel=\"noreferrer\">Annoraaq</a>, por ter criado o plugin <a href=\"https://github.com/Annoraaq/grid-engine\" target=\"_blank\" rel=\"noreferrer\">grid-engine</a>.</li>\n<li><a href=\"https://itch.io/profile/armm1998\" target=\"_blank\" rel=\"noreferrer\">ArMM1998</a>, por ter criado os <a href=\"https://opengameart.org/content/zelda-like-tilesets-and-sprites\" target=\"_blank\" rel=\"noreferrer\">sprites dos personagens e os tilesets</a>.</li>\n<li><a href=\"https://elthen.itch.io/\" target=\"_blank\" rel=\"noreferrer\">PixElthen</a>, por ter criado os <a href=\"https://elthen.itch.io/2d-pixel-art-small-slime-sprites\" target=\"_blank\" rel=\"noreferrer\">sprites do slime</a>.</li>\n<li><a href=\"https://itch.io/profile/pixelartm\" target=\"_blank\" rel=\"noreferrer\">pixelartm</a>, por ter criado o <a href=\"https://opengameart.org/content/pirate-1\" target=\"_blank\" rel=\"noreferrer\">sprite do chapéu do pirata</a>.</li>\n<li><a href=\"https://opengameart.org/users/jkjkke\" target=\"_blank\" rel=\"noreferrer\">jkjkke</a>, por ter criado <a href=\"https://opengameart.org/content/background-6\" target=\"_blank\" rel=\"noreferrer\">a imagem de background da tela de Game Over</a>.</li>\n<li><a href=\"https://opengameart.org/users/knoblepersona\" target=\"_blank\" rel=\"noreferrer\">KnoblePersona</a>, por ter criado <a href=\"https://opengameart.org/content/ocean-background\" target=\"_blank\" rel=\"noreferrer\">a imagem de background do menu inicial</a>.</li>\n<li><a href=\"https://opengameart.org/users/min\" target=\"_blank\" rel=\"noreferrer\">Min</a>, por ter criado <a href=\"https://opengameart.org/content/open-book-0\" target=\"_blank\" rel=\"noreferrer\">o sprite do livro aberto</a>.</li>\n</ul>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Foi muito divertido criar este pequeno projeto. Na verdade, fiz este jogo como uma nova maneira de acessar meu blog, mas com todo esse código boilerplate pronto, posso acabar fazendo um novo jogo com ele, vamos ver 👀.</p>\n<p>Eu acabei escrevendo mais código no jogo “real” do que o que mostrei aqui nesse post, então confira <a href=\"https://github.com/blopa/top-down-react-phaser-game\" target=\"_blank\" rel=\"noreferrer\">o repositório GitHub para este projeto</a>.</p>\n<p>Até a próxima, galera!</p>","fields":{"slug":"/2021/2021-10-08-como-criar-um-jogo-estilo-rpg-maker-com-phaser-e-react.pt-br/","path":"/blog/coding/como-criar-um-jogo-estilo-rpg-maker-com-phaser-e-react/","locale":"pt-br"},"readingTime":{"minutes":16.09},"frontmatter":{"date":"2021-10-08T00:00:00.000Z","title":"Como criar um jogo estilo RPG Maker com Phaser e React","categories":["coding"]}}},{"node":{"excerpt":"O Phaser funciona renderizando píxeis dentro de um elemento…","html":"<p>O Phaser funciona renderizando píxeis dentro de um elemento <code class=\"language-text\">canvas</code> no DOM, e isso é ótimo, mas um dos grandes recursos do desenvolvimento da web é o poder do DOM e CSS para criar excelentes elementos de UI, e você não pode fazer isso com Phaser sozinho.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 831px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.71875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACp0lEQVQozyXSaU8TURTG8fk6vibRsnTm3nOnha7QGaCtQsuqiaIQIksLUtrSaZliWEKCYasYxCWR1GFoBUqnQxclQX0jCokQMFqiCd/BFJLf+/95kkM5V/R9MWv3SoNuV3crT3csWPomeU2OYbLYvMb62zlfG9/TaKRfMtqPmEljpGDmClIwJdzjel843V87jWpNRZ7pWLIOTPOVeURyxLhCuszWrlpbp8XEh3Xu52asAmQIUQnsgbaAKQ9fb3yo1XyqgjRU5FHHorV/mi/PI5wjKAnOdkOtlnHcN3ARXWvYSKsYK4BUYLdI13Qd9cDA2R/prbKeqFBZQKXyFF++j8wJYtkAlISgz042Ma1ibQaBCkQFyAKR8Z1gNeX01FTPAbdagzNQkb0qT/KaA2yc05qC5XpFL/gc+m0WZwAUgjJQKl/FKwuYcr+pLftGV+wjbR6XHdAtMfPjGa7sC12VQZo0jRQI+e36bRaV1pbgHEAOQCmhugL1rmWTa6HEGTP0i5w/2OiIGV2LpqaYse2ZOTJiJymg9xBSEa0idh0TGeMc4AxQnpnGQbE+HHRNjLVEAy5xrDkiNEcDrmtPA+5xwd0gWbmEhUtaWuZt3l57d4/NsFw6gaILhNnVF9TZf59f/UxFT3bGT1Li6W70NCWepMSTnchpMnS+KZzL4TM5fP5e+KuI6aUnuj7E7GOK3YPqNDmQxy63JopysLgZKm4KF8lIMRG+SISLsv9PfOi3NHztlzR8mRhR5vvxY8xmWQp2eDQvKOsDp5L3cGPkWBo6ljzHkvdY8vyIe4/io4cbo0dx/7Xv676zbVF6FyBTrDlhonCi6YYvfVN4rQstD/bdNYQWaWGNCa/iyHrb28XbMieOtzpknv9ga0jY6lK1/ll350p96X8z8B80oVdUwzbQoQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dialog Box\"\n        title=\"Dialog Box\"\n        src=\"/static/1d7bab5112f76c938742845465f8f5c1/1aa23/dialog-box.png\"\n        srcset=\"/static/1d7bab5112f76c938742845465f8f5c1/e3135/dialog-box.png 256w,\n/static/1d7bab5112f76c938742845465f8f5c1/06341/dialog-box.png 512w,\n/static/1d7bab5112f76c938742845465f8f5c1/1aa23/dialog-box.png 831w\"\n        sizes=\"(max-width: 831px) 100vw, 831px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Dialog Box</figcaption>\n  </figure></p>\n<p>Recentemente, precisei de uma caixa de diálogo para o meu jogo e, pesquisando <a href=\"https://www.google.com/search?q=rpg+dialog+box+react\" target=\"_blank\" rel=\"noreferrer\">“rpg dialog box react”</a>, encontrei um ótimo tutorial de <a href=\"https://twitter.com/CamTatz\" target=\"_blank\" rel=\"noreferrer\">Cameron Tatz</a> sobre <a href=\"https://codeworkshop.dev/blog/2020-03-01-creating-an-rpg-dialog-effect-with-react-and-react-spring/\" target=\"_blank\" rel=\"noreferrer\">como criar uma caixa de diálogo usando React</a> e <a href=\"https://github.com/pmndrs/react-spring\" target=\"_blank\" rel=\"noreferrer\">react-spring</a>, e isso é exatamente o que eu estava procurando.</p>\n<p>O tutorial original usa uma versão antiga do react-spring, então eu atualizei o package e adicionei alguns outros recursos ao componente, que mostrarei neste tutorial.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O código</h2>\n<p>Esta caixa de diálogo usará react-spring para mostrar a mensagem letra por letra. Se você pressionar <code class=\"language-text\">ENTER</code>, irá terminar a animação da mensagem atual e mostrá-la por completo e se você pressionar <code class=\"language-text\">ENTER</code> novamente irá mover para a próxima mensagem se houver uma.</p>\n<p>As duas principais mudanças no código para o componente <code class=\"language-text\">Message.jsx</code> são que a API <code class=\"language-text\">useTransition</code> mudou para receber apenas os itens e o objeto de configuração, ao invés dos itens, uma função de mapeamento e o objeto de configuração.</p>\n<p>Também adicionei a propriedade <code class=\"language-text\">onRest</code> ao objeto de configuração <code class=\"language-text\">useTransition</code> para verificar se a animação da mensagem acabou. <code class=\"language-text\">onRest</code> é chamado após cada animação de letras, então preciso verificar o index da letra atual.</p>\n<p>Se o prop <code class=\"language-text\">forceShowFullMessage</code> for enviado, simplesmente mostrarei a mensagem completa, sem nenhuma animação.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useMemo <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> animated<span class=\"token punctuation\">,</span> useTransition <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-spring'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> makeStyles <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/styles'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token function-variable function\">dialogMessage</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'12px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">textTransform</span><span class=\"token operator\">:</span> <span class=\"token string\">'uppercase'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Message</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    message <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    trail <span class=\"token operator\">=</span> <span class=\"token number\">35</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">onMessageEnded</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    forceShowFullMessage <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> items <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> message<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">letter<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">item</span><span class=\"token operator\">:</span> letter<span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> index<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">[</span>message<span class=\"token punctuation\">]</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> transitions <span class=\"token operator\">=</span> <span class=\"token function\">useTransition</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n        trail<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'none'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">enter</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token function-variable function\">onRest</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">status<span class=\"token punctuation\">,</span> controller<span class=\"token punctuation\">,</span> item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">onMessageEnded</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>dialogMessage<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>forceShowFullMessage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>forceShowFullMessage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">transitions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">styles<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> item<span class=\"token punctuation\">,</span> key <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>animated<span class=\"token punctuation\">.</span>span key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n                    <span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>animated<span class=\"token punctuation\">.</span>span<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Message<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para o componente <code class=\"language-text\">DialogBox.jsx</code>, estou usando uma imagem de fundo muito semelhante à do tutorial original.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 100px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAABm0lEQVQ4y92UvWrCUBTH8wougjdRcLIQB5Ub6KKDjbcmuV5sHsMHCCZ+1NIqtDGItG+hg/oMDq4BN7UxCS52UvxYi7YIFbs0W+HHXc758+ece86h/Ne+gAAAZoDEBEQaSAz9C6cEgJmAAPzXPgqINP8soReCdCK07pBB+Ca+CDKOCTpBL4R/loBIU3QuiHQSFkPxAhTfZFbjWBVGNe4MVoWsxolvcrwAw2II6YTOBSmAGaSTRAGmyjfZdj6ixIrdysOgcd9/OvEwaBS7lYgSy7bzqfJNogCRTgBmKCAx2VZeeJWFtpw2pGQ9Yy7H1saerGbT9ft0/T5ZzayNbS7HyXombUhCWxZe5WwrDyTm6GwQVoVXSizVuB06I3e/mO8ce+eemO8cd78YOqNU4/ZKibEqRMbRmcZBvolZFSqdsvkxPii3zkXc/cL8GCudMqtCvolpHPwWR0tcrV+3NvZ863y9Z5xCtX49WuJ+ijWu2nucri1751qXbK3toZDp2qr2HqPa/xB7adgfv8rTkHgezz8vhreV9HIMvJyhTyWzYCcD+O+cAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dialog Box background\"\n        title=\"Dialog Box background\"\n        src=\"/static/6dbe9ca6f21beb5fae99a1d5dc543f19/effb6/dialog-borderbox.png\"\n        srcset=\"/static/6dbe9ca6f21beb5fae99a1d5dc543f19/effb6/dialog-borderbox.png 100w\"\n        sizes=\"(max-width: 100px) 100vw, 100px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Dialog Box background</figcaption>\n  </figure></p>\n<p>Este arquivo lida com as interações do teclado para a caixa de diálogo, portanto, se o jogador pressionar <code class=\"language-text\">ENTER</code> e a animação da mensagem ainda estiver sendo reproduzida, ele termina a animação atual definindo <code class=\"language-text\">forceShowFullMessage</code> como true. Se o jogador pressionar <code class=\"language-text\">ENTER</code> e a animação da mensagem já estiver concluída, então ele vai para a próxima mensagem.</p>\n<p>Além de <code class=\"language-text\">forceShowFullMessage</code>, também recebo <code class=\"language-text\">screenWidth</code> e <code class=\"language-text\">screenHeight</code> como adereços, então posso aumentar ou diminuir o tamanho da caixa dependendo do tamanho do jogo Phaser.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useCallback<span class=\"token punctuation\">,</span> useEffect<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> makeStyles <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@material-ui/core/styles'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Images</span>\r\n<span class=\"token keyword\">import</span> dialogBorderBox <span class=\"token keyword\">from</span> <span class=\"token string\">'../images/dialog_borderbox.png'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Components</span>\r\n<span class=\"token keyword\">import</span> Message <span class=\"token keyword\">from</span> <span class=\"token string\">'./Message'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> useStyles <span class=\"token operator\">=</span> <span class=\"token function\">makeStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">theme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token function-variable function\">dialogWindow</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> screenWidth<span class=\"token punctuation\">,</span> screenHeight <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> messageBoxHeight <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span>screenHeight <span class=\"token operator\">/</span> <span class=\"token number\">3.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">imageRendering</span><span class=\"token operator\">:</span> <span class=\"token string\">'pixelated'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">textTransform</span><span class=\"token operator\">:</span> <span class=\"token string\">'uppercase'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">'#e2b27e'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">border</span><span class=\"token operator\">:</span> <span class=\"token string\">'solid'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">borderImage</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">url(\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>dialogBorderBox<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\") 6 / 12px 12px 12px 12px stretch</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span>screenHeight <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>messageBoxHeight <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>messageBoxHeight <span class=\"token operator\">*</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span>screenWidth <span class=\"token operator\">*</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">transform</span><span class=\"token operator\">:</span> <span class=\"token string\">'translate(-50%, 0%)'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">minHeight</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>messageBoxHeight<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">dialogTitle</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">marginBottom</span><span class=\"token operator\">:</span> <span class=\"token string\">'12px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">fontWeight</span><span class=\"token operator\">:</span> <span class=\"token string\">'bold'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">dialogFooter</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">cursor</span><span class=\"token operator\">:</span> <span class=\"token string\">'pointer'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">textAlign</span><span class=\"token operator\">:</span> <span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">right</span><span class=\"token operator\">:</span> <span class=\"token string\">'12px'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">bottom</span><span class=\"token operator\">:</span> <span class=\"token string\">'12px'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">DialogBox</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\r\n    messages<span class=\"token punctuation\">,</span>\r\n    characterName<span class=\"token punctuation\">,</span>\r\n    onDialogEnded<span class=\"token punctuation\">,</span>\r\n    screenWidth<span class=\"token punctuation\">,</span>\r\n    screenHeight<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>currentMessage<span class=\"token punctuation\">,</span> setCurrentMessage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>messageEnded<span class=\"token punctuation\">,</span> setMessageEnded<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>forceShowFullMessage<span class=\"token punctuation\">,</span> setForceShowFullMessage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token function\">useStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        screenWidth<span class=\"token punctuation\">,</span>\r\n        screenHeight<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> handleClick <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messageEnded<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setMessageEnded</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setForceShowFullMessage</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentMessage <span class=\"token operator\">&lt;</span> messages<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">setCurrentMessage</span><span class=\"token punctuation\">(</span>currentMessage <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">setCurrentMessage</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">onDialogEnded</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">setMessageEnded</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">setForceShowFullMessage</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>currentMessage<span class=\"token punctuation\">,</span> messageEnded<span class=\"token punctuation\">,</span> messages<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> onDialogEnded<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleKeyPressed</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'Enter'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Space'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escape'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keydown'</span><span class=\"token punctuation\">,</span> handleKeyPressed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'keydown'</span><span class=\"token punctuation\">,</span> handleKeyPressed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>handleClick<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>dialogWindow<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>dialogTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">{</span>characterName<span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>Message\r\n                action<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>messages<span class=\"token punctuation\">[</span>currentMessage<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>action<span class=\"token punctuation\">}</span>\r\n                message<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>messages<span class=\"token punctuation\">[</span>currentMessage<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">}</span>\r\n                key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>currentMessage<span class=\"token punctuation\">}</span>\r\n                forceShowFullMessage<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>forceShowFullMessage<span class=\"token punctuation\">}</span>\r\n                onMessageEnded<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token function\">setMessageEnded</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>div\r\n                onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleClick<span class=\"token punctuation\">}</span>\r\n                className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>dialogFooter<span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>currentMessage <span class=\"token operator\">===</span> messages<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> messageEnded<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'Ok'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Next'</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> DialogBox<span class=\"token punctuation\">;</span></code></pre></div>\n<p>E este será o resultado final</p>\n<p><img src=\"/bd9346cd2b3aaee4dafa10d49a9b182c/dialog-box-animation.gif\" alt=\"Dialog Box animation\"></p>\n<p>Se você quiser mais detalhes sobre como integrar React com Phaser, <a href=\"/pt-br/blog/coding/como-criar-um-jogo-estilo-rpg-maker-com-phaser-e-react/\">leia o meu post sobre o assunto</a>.</p>","fields":{"slug":"/2021/2021-10-06-criando-uma-caixa-de-dialogo-com-react-para-o-meu-jogo-em-phaser.pt-br/","path":"/blog/coding/criando-uma-caixa-de-dialogo-com-react-para-o-meu-jogo-em-phaser/","locale":"pt-br"},"readingTime":{"minutes":3.91},"frontmatter":{"date":"2021-10-06T00:00:00.000Z","title":"Criando uma caixa de diálogo com React para o meu jogo em Phaser","categories":["coding"]}}},{"node":{"excerpt":"Criar mapas com o Tiled é ótimo e da pra usá-los em…","html":"<p>Criar mapas com o Tiled é ótimo e da pra usá-los em praticamente qualquer game engine, incluindo a minha favorita, Phaser JS 😊</p>\n<p>Para carregar um mapa com Phaser JS é bem simples, primeiro, você carrega todos os arquivos na função <code class=\"language-text\">preload</code>, depois cria um novo mapa com a função <code class=\"language-text\">this.make.tilemap()</code> e pronto. Veja abaixo um <a href=\"https://blog.ourcade.co/posts/2020/phaser-3-noob-guide-loading-tiled-tilemaps/\" target=\"_blank\" rel=\"noreferrer\">snippet de código do blog Ourcade</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// load the PNG file</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base_tiles'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'assets/base_tiles.png'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token comment\">// load the JSON file</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">tilemapTiledJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tilemap'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'assets/base_tiles.json'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// create the Tilemap</span>\r\n    <span class=\"token keyword\">const</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>make<span class=\"token punctuation\">.</span><span class=\"token function\">tilemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'tilemap'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token comment\">// add the tileset image we are using</span>\r\n    <span class=\"token keyword\">const</span> tileset <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">addTilesetImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'standard_tiles'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'base_tiles'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token comment\">// create the layers we want in the right order</span>\r\n    map<span class=\"token punctuation\">.</span><span class=\"token function\">createStaticLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Background'</span><span class=\"token punctuation\">,</span> tileset<span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Mas, infelizmente, nem tudo é perfeito, pois, para que isso funcione, você precisa que o seu <code class=\"language-text\">tileset</code> esteja embutido no mapa do Tiled.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 518px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACV0lEQVQoz3XRy1LTUBgH8Ox9CDc+gT6AOo6Wneg449ChilZALr2ALRSQS9PQc07SJg0pEQqdkgOlleKQQG6YtqFNW+oiFRe8j1NW4uhv5vt2/5nvQmCMFUWWZdmyLMM0DU3XdePcsgzDMHRdPTszTUNVNcuy6jdqtZpt247jmKZJbOd2kiRcXFhhWEYQhASXTiOQZRlxUxS3tnlBzO3s8jy/J0mlUunw8LBYLH49OjpVFFVVCSG5NjjgffbkxcCAJzwbvf/Wu7C8NDUxuRQJJj9H1hdnUGIVIRqCWyiKSqVSxBcazHmHJsfCXp/fM/bhzt17nvHRBw+fvvYO5Tf59aVPDLmAEE336xYIIZETC8vv38Wia2yS+TgfGfGN+AMB//hEKBzOCxkGMggk0b/0w3t5PDw8PujxHucPspkM4rM0l43GSAhRAsANkU0C8N+whA98I1Oh4DyJUiwDDRA4oabJNy+5lYgQC+apEMfSN1P/DQBA7ONiKrErcVyZIemZ6bNZT4MabkK/nIqmqVW4GJsbCwEqyTDMnwsjhDiO64fng+z6WjqT5Z8/eux7NVQCscrqqA4CACFIM3OTsxSZgPDWvePxeC6XIyqVb7tbhdzOsWnVEKAFNlMpSvuF/MFeHmOp/9lyCWMs3cAYFwoFjHG5XFYUhahWq67r9Ez1Z02/apx3tRNbOW12Oo7TdlpO02m1Wu1Op9Ptdi/7+r3nutfX167rEhe2XbWb7Q3+RxZeinSDjrdK5brj2PV648I2rMap9t3QtWbTabf6rn5d9Xo9TVNlWf4Nd4mgdymyqM4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Embed Tileset\"\n        title=\"Embedding a tileset on Tiled\"\n        src=\"/static/51df513f0b0acbe195eb3327398273b4/2f227/tiled-embed-tileset.png\"\n        srcset=\"/static/51df513f0b0acbe195eb3327398273b4/e3135/tiled-embed-tileset.png 256w,\n/static/51df513f0b0acbe195eb3327398273b4/06341/tiled-embed-tileset.png 512w,\n/static/51df513f0b0acbe195eb3327398273b4/2f227/tiled-embed-tileset.png 518w\"\n        sizes=\"(max-width: 518px) 100vw, 518px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Embedding a tileset on Tiled</figcaption>\n  </figure></p>\n<p>O problema com isso é que quando você tem muitos mapas, cada um deles terá sua própria versão do <code class=\"language-text\">tileset</code>, então caso qualquer alteração seja feita em um deles, todos os outros mapas ficarão desatualizados.</p>\n<p>Na verdade, eu já meio que falei sobre isso neste blog há <a href=\"/pt-br/blog/games/importando-arquivo-de-tileset-externo-no-phaser-js-com-webpack-skate-platformer-game-devlog-7/\">um ano atrás, no meu Game Devlog #7</a>, mas essa solução foi embutir programaticamente um <code class=\"language-text\">tileset</code> externo em um mapa do Tiled, hoje eu vou pegar um <code class=\"language-text\">tileset</code> que já está embutido em um mapa e copiá-lo para todos os meus outros mapas, vamos ver como.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O código</h2>\n<p>Meu script recebera um parâmetro com o nome do mapa de onde o <code class=\"language-text\">tileset</code> precisa ser copiado, e o objetivo é executar o script usando <code class=\"language-text\">node copy-tileset-data.js nomeDoArquivoDoMapa</code>.</p>\n<p>Primeiro, vou importar todas as funções necessárias do package <code class=\"language-text\">fs</code> e declarar o meu diretório de mapas com <code class=\"language-text\">path.resolve</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> readdirSync<span class=\"token punctuation\">,</span> readFileSync<span class=\"token punctuation\">,</span> writeFileSync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">TILESETS_PATH</span> <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>\r\n    __dirname<span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'..'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'content'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'assets'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'sprites'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string\">'maps'</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Call the function with the script parameter</span>\r\n<span class=\"token function\">copyTilesetData</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">copyTilesetData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tilesetName <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// TODO</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora, para a função <code class=\"language-text\">copyTilesetData</code>, vou percorrer todas as minhas pastas de mapas (<code class=\"language-text\">maps_dir_1</code>, <code class=\"language-text\">maps_dir_2</code>, etc) e procurar o mapa com o <code class=\"language-text\">tileset</code> que quero, e quando achar, vou carregar o arquivo <code class=\"language-text\">JSON</code> com a função <code class=\"language-text\">readFileSync</code> e salvar o atributo <code class=\"language-text\">tilesets</code> em uma variável local para usar mais tarde.</p>\n<p>Em seguida farei um loop nos outros mapas para carregar o <code class=\"language-text\">tileset</code> que salvei antes neles, e em seguida, salvar essas alterações nos arquivos com o <code class=\"language-text\">writeFileSync</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">copyTilesetData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tilesetName <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tilesetName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'No Tileset passed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> allFiles <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">let</span> sourceTilesetData <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token comment\">// eslint-disable-next-line no-restricted-syntax</span>\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> tilesetPath <span class=\"token keyword\">of</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'maps_dir_1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'maps_dir_2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TILESETS_PATH</span><span class=\"token punctuation\">,</span> tilesetPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// eslint-disable-next-line no-await-in-loop</span>\r\n        <span class=\"token keyword\">const</span> spritesFiles <span class=\"token operator\">=</span> <span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// eslint-disable-next-line no-restricted-syntax</span>\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> spritesFile <span class=\"token keyword\">of</span> spritesFiles<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>spritesFile <span class=\"token operator\">===</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tilesetName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.json</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// eslint-disable-next-line no-await-in-loop</span>\r\n                <span class=\"token keyword\">const</span> jsonData <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">,</span> spritesFile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                sourceTilesetData <span class=\"token operator\">=</span> jsonData<span class=\"token punctuation\">.</span>tilesets<span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                allFiles<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">,</span> spritesFile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// eslint-disable-next-line no-restricted-syntax</span>\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> jsonFile <span class=\"token keyword\">of</span> allFiles<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// eslint-disable-next-line no-await-in-loop</span>\r\n        <span class=\"token keyword\">const</span> jsonData <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>\r\n            jsonFile\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        jsonData<span class=\"token punctuation\">.</span>tilesets <span class=\"token operator\">=</span> sourceTilesetData<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// eslint-disable-next-line no-await-in-loop</span>\r\n        <span class=\"token keyword\">await</span> <span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>\r\n            jsonFile<span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>jsonData<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E é isso! Espero que este script ajude bastante você do mesmo jeito que me ajuda. Até a próxima galera!</p>","fields":{"slug":"/2021/2021-10-02-atualize-automaticamente-o-tileset-embutido-do-seu-mapa-no-tiled-com-um-script-nodejs.pt-br/","path":"/blog/games/atualize-automaticamente-o-tileset-embutido-do-seu-mapa-no-tiled-com-um-script-nodejs/","locale":"pt-br"},"readingTime":{"minutes":2.735},"frontmatter":{"date":"2021-10-02T00:00:00.000Z","title":"Atualize automaticamente o Tileset embutido do seu mapa no Tiled com um script Node.js.","categories":["games"]}}},{"node":{"excerpt":"Para comemorar o lançamento do trailer do Matrix 4, quero…","html":"<p>Para comemorar o lançamento do <a href=\"https://www.youtube.com/watch?v=9ix7TUGVYIo\" target=\"_blank\" rel=\"noreferrer\">trailer do Matrix 4</a>, quero adicionar um efeito do Código-Fonte da Matrix no background desse site, que já está implantado, e você pode testá-lo usando o Código Konami 👀</p>\n<p><img src=\"/220e1bfcd62b78de2b2c54284481f483/the-matrix-source-code-effect.gif\" alt=\"O efeito do Código-Fonte da Matrix\"></p>\n<h2 id=\"como-fazer-isso-com-javascript\" style=\"position:relative;\"><a href=\"#como-fazer-isso-com-javascript\" aria-label=\"como fazer isso com javascript permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Como fazer isso com JavaScript?</h2>\n<p>A melhor maneira de fazer esse tipo de efeito é usando o elemento HTML <code class=\"language-text\">canvas</code>. A maioria das coisas 3D ou jogos que você vê por aí usando JavaScript são renderizadas no <code class=\"language-text\">canvas</code>.</p>\n<p>Como tinha certeza de que alguém já tinha feito um artigo sobre como fazer isso, eu pesquisei um pouco e encontrei <a href=\"https://dev.to/gnsp/making-the-matrix-effect-in-javascript-din\" target=\"_blank\" rel=\"noreferrer\">este artigo que mostra como fazer com vanilla JavaScript</a>, então vamos adaptar o código do Ganesh a um <strong>funcional component</strong> com React.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O código</h2>\n<p>O React é apenas um wrapper para o código original, que será configurado no <strong>hook</strong> <code class=\"language-text\">useEffect</code>. Também adicionei alguns estilos ao elemento <code class=\"language-text\">canvas</code> para fazer o efeito aparecer no background do meu blog.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect<span class=\"token punctuation\">,</span> useRef <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">MatrixBackground</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> timeout <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Ganesh's code go here</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>canvas<span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>div\r\n            style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// custom styles to make it show up in the background</span>\r\n                <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> <span class=\"token string\">'#000000'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">overflow</span><span class=\"token operator\">:</span> <span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'fixed'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">zIndex</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>canvas\r\n                ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>canvas<span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MatrixBackground<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para o <code class=\"language-text\">useEffect</code> com o código, é simplesmente copiar e colar o original com a adição de um <code class=\"language-text\">return</code> para limpar o loop do <code class=\"language-text\">setInterval</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>offsetWidth<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>offsetHeight<span class=\"token punctuation\">;</span>\r\n    canvas<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> width<span class=\"token punctuation\">;</span>\r\n    canvas<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> height<span class=\"token punctuation\">;</span>\r\n\r\n    context<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">;</span>\r\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// calculate how many 'lines' to show and animate</span>\r\n    <span class=\"token keyword\">const</span> columns <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">/</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> yPositions <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> columns <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    context<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">;</span>\r\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">matrixEffect</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        context<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'#0001'</span><span class=\"token punctuation\">;</span>\r\n        context<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        context<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'#0f0'</span><span class=\"token punctuation\">;</span>\r\n        context<span class=\"token punctuation\">.</span>font <span class=\"token operator\">=</span> <span class=\"token string\">'15pt monospace'</span><span class=\"token punctuation\">;</span>\r\n\r\n        yPositions<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">y<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">fromCharCode</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">128</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> index <span class=\"token operator\">*</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\r\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">fillText</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">></span> <span class=\"token number\">100</span> <span class=\"token operator\">+</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                yPositions<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                yPositions<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> y <span class=\"token operator\">+</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> interval <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>matrixEffect<span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>canvas<span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Você pode encontrar o código completo <a href=\"https://gist.github.com/blopa/7ba2d74c9405ead1ac9875dbd8a2302d\" target=\"_blank\" rel=\"noreferrer\">nesse <strong>GitHub Gist</strong></a>. Não se esqueça de clicar na estrela do Gist ✨ 😃</p>","fields":{"slug":"/2021/2021-09-16-criando-o-efeito-do-codigo-fonte-da-matrix-como-background-do-meu-site-com-react.pt-br/","path":"/blog/coding/criando-o-efeito-do-codigo-fonte-da-matrix-como-background-do-meu-site-com-react/","locale":"pt-br"},"readingTime":{"minutes":2.06},"frontmatter":{"date":"2021-09-16T00:00:00.000Z","title":"Criando o efeito do Código-Fonte da Matrix como background do meu site com React","categories":["coding"]}}},{"node":{"excerpt":"Fala galera, aqui estamos nós novamente com outro devlog…","html":"<p>Fala galera, aqui estamos nós novamente com outro devlog para o jogo <a href=\"/pt-br/blog/tags/super-ollie-vs-pebble-corp/\">Super Ollie</a>, e como o jogo está sendo feito com JavaScript, eu posso exportar facilmente para praticamente qualquer plataforma, e hoje vou criar uma versão para celular do jogo.</p>\n<h2 id=\"controlando-com-o-celular\" style=\"position:relative;\"><a href=\"#controlando-com-o-celular\" aria-label=\"controlando com o celular permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Controlando com o celular</h2>\n<p>O personagem no meu jogo é controlado com um gamepad ou um teclado, então a maneira mais fácil de fazer uma versão para celular é adicionar algum tipo de controle virtual, tipo uns botões na tela do celular.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1019px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACUklEQVQoz43M2U/aABzA8f47PiiXxMgpCcvGUYWpIIMCEo20CsJw02yobOVaW4orVVRGqRRo8eJSYWaJvm3JXnzbkiX7M/ayZC6y63XJ5+n7OwCWZnYDT9t881honfKdJt/7D92WcCmwDeC6nLkqrDEHxS2uxlSO2sLbltD7pcl3T7jzZq33t/zRbdcv6wcNoJzh63h17807jOrm8xdCqcMzHZ5pC6VOjemUCm2u2OZ/x38E9ozdPQQSm+Ut4pDC6zhaxuMchlbweIVI8ViimktWeiTPvaql+hFDK/0p11dNvigCQYRe8ucWF3JLfjqAbAcRGvbnECjumyU3Qru3lZNrrDw3Ty0jdADuQ7YDMB1EdgJIFvC4CMiBw/DOcqjgdRL2Gex1KP8lsfMBLXzEyt9Kh61YcdqOeV2E20l4XITHifvcmMeJe6E0ADlSHhf+ZJVF0415HwW5KTKcvEmnbo8vvtcaP9iTs1jJ5iB8btJhz0bDic9XG1dMeHWZhFw4oB+1ra7trW+yaPIogTURmEa860QE/YTv36TzX8n90mPSatlwTsemLC/RZ8T708gpV8hSZ3OzaUAnt9gtwcAi/jxadDwMGccgrdh8b2RSJQGVYpNKMq6WgFqpWSUyOqdCGNl8ZIvOTEZCwYxBawcUQw9GBvSTZr9/IaEUGfsMaimolphUIoNGYlaLTUqRQTlkNOs9KyuUDYRHBnSKQYNODgIqkUErGx8bturkVo0U1A5PqMRGrWyif2bUyECNxHy3Ix1XDN6/+yg2qaUmjRTUj1p/Ag4AR3L2JCtBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Botões no celular\"\n        title=\"Botões no celular\"\n        src=\"/static/b4e06a90f8970637c139d8869cd2925b/f5df9/skate-platformer-mobile-controls.png\"\n        srcset=\"/static/b4e06a90f8970637c139d8869cd2925b/e3135/skate-platformer-mobile-controls.png 256w,\n/static/b4e06a90f8970637c139d8869cd2925b/06341/skate-platformer-mobile-controls.png 512w,\n/static/b4e06a90f8970637c139d8869cd2925b/f5df9/skate-platformer-mobile-controls.png 1019w\"\n        sizes=\"(max-width: 1019px) 100vw, 1019px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Botões no celular</figcaption>\n  </figure></p>\n<p>Para fazer isso eu vou precisar de 3 sprites para botões, um para o <code class=\"language-text\">botão A</code>, um para o <code class=\"language-text\">botão B</code> e outro para os <code class=\"language-text\">botões direcionais</code>, veja um exemplo do meu sprite abaixo:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 125px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.800000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABmUlEQVQoz12RQWtUMRCAI1jsxav4PwT/h/0THjx58KaCeBTpWagHQcRafCpvecn2vcy83U12e1DY4m7yTLbVUkER0aM+9rUjs0QoPYTM8E2GLzNCgb8mtTNSO5La/ZTa3VfgLyrwQoG/LrUbJfZbgb+X9fYF0YnYeTu6VA39Gtq4Biaso4kCTBRCatcq8KSw6RQ0tIrBP1TgL0vtlpz38VNiq8YP6nF8NJgcfkMbZ2DCHG38DCaUaOM6W3BRu50NKMv3OoUN5z+kdrvMinLWvsqG9E5+6FLtLzDxe5ZPqBx4QhsJTCA0kWMj+tgs8/6UXmyXpy9fI9t16Yu0YmpKz573TnfejJidsKnUH+nx5tM/u/W8rceLFkxo0UY+tDIsqvnfoppTUc2W3EiBP5TaPfnPsnyP8v50mQyP0C6+FOWUqmFz3vAuz/Aoza1LNz+6VU+OmX09O8NkfhNtvD2YHBi0sQcm9NDGGk24gzYKNrwitdtKxUFqtyG1E2nLV8+wAwX+htReoA1i/P5Y1OOFABMEN+Ito40X/gG43aZxI/AvBAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Sprites dos botões\"\n        title=\"Sprites dos botões\"\n        src=\"/static/42b88d2f41be772c5fba6b594eeabf81/c59a0/button-sprites.png\"\n        srcset=\"/static/42b88d2f41be772c5fba6b594eeabf81/c59a0/button-sprites.png 125w\"\n        sizes=\"(max-width: 125px) 100vw, 125px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Sprites dos botões</figcaption>\n  </figure></p>\n<p>Para o código, farei praticamente <a href=\"/pt-br/blog/games/criando-status-do-heroi-hud-no-phaser-js-skate-platformer-game-devlog-10/\">o mesmo que fiz para o HUD</a>, que é criar uma classe e usar <code class=\"language-text\">setScrollFactor(0)</code> para as imagens ficarem estáticas na tela.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">TouchScreenControls</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GameGroup</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        scene<span class=\"token punctuation\">,</span>\r\n        x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n        y <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n        name<span class=\"token punctuation\">,</span>\r\n        dPadAsset <span class=\"token operator\">=</span> <span class=\"token string\">'d_pad'</span><span class=\"token punctuation\">,</span>\r\n        buttonAAsset <span class=\"token operator\">=</span> <span class=\"token string\">'button_a'</span><span class=\"token punctuation\">,</span>\r\n        buttonBAsset <span class=\"token operator\">=</span> <span class=\"token string\">'button_b'</span><span class=\"token punctuation\">,</span>\r\n        controlKeys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token constant\">LEFT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">RIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">UP</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">DOWN</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">SPACE</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">NUMPAD_ZERO</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Input<span class=\"token punctuation\">.</span>Keyboard<span class=\"token punctuation\">.</span>KeyCodes<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> baseKeys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">d_pad_left</span><span class=\"token operator\">:</span> <span class=\"token constant\">LEFT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">d_pad_right</span><span class=\"token operator\">:</span> <span class=\"token constant\">RIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">d_pad_up</span><span class=\"token operator\">:</span> <span class=\"token constant\">UP</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">d_pad_down</span><span class=\"token operator\">:</span> <span class=\"token constant\">DOWN</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">button_a</span><span class=\"token operator\">:</span> <span class=\"token constant\">SPACE</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">button_b</span><span class=\"token operator\">:</span> <span class=\"token constant\">NUMPAD_ZERO</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> keys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token operator\">...</span>baseKeys<span class=\"token punctuation\">,</span>\r\n            <span class=\"token operator\">...</span>controlKeys<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> children <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">[</span>\r\n            dPadAsset<span class=\"token punctuation\">,</span>\r\n            buttonAAsset<span class=\"token punctuation\">,</span>\r\n            buttonBAsset<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>assignButtonActions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            scene<span class=\"token punctuation\">,</span>\r\n            children<span class=\"token punctuation\">,</span>\r\n            name<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TOUCH_CONTROLS_DEPTH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setControlsPositions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TouchScreenControls<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para a função <code class=\"language-text\">assignButtonActions</code>, preciso escrever um código que será executado quando o jogador pressionar um dos botões na tela do celular, e a maneira mais fácil de fazer isso é simular as teclas do teclado que já estão mapeadas.</p>\n<p>Por exemplo, eu já codifiquei que quando a barra de espaço é pressionada, o herói precisa pular, então tudo que eu preciso fazer agora é criar um código para quando o jogador pressiona o <code class=\"language-text\">botão A</code> na tela do celular, que irá simular que a barra de espaço foi pressionada. Depois de pesquisar um pouco, eu encontrei um <a href=\"https://gist.github.com/GlauberF/d8278ce3aa592389e6e3d4e758e6a0c2\" target=\"_blank\" rel=\"noreferrer\">Gist no GitHub com uma função que faz exatamente isso</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/**\r\n * source https://gist.github.com/GlauberF/d8278ce3aa592389e6e3d4e758e6a0c2\r\n * Simulate a key event.\r\n * @param {Number} keyCode The keyCode of the key to simulate\r\n * @param {String} type (optional) The type of event : down, up or press. The default is down\r\n */</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">simulateKeyEvent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">keyCode<span class=\"token punctuation\">,</span> type</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> evtName <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> type <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">key</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token string\">'keydown'</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> event <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HTMLEvents'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span>evtName<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    event<span class=\"token punctuation\">.</span>keyCode <span class=\"token operator\">=</span> keyCode<span class=\"token punctuation\">;</span>\r\n\r\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora, para o código da função <code class=\"language-text\">assignButtonActions</code>, o segredo aqui é disparar um evento para <code class=\"language-text\">pointerdown</code>, <code class=\"language-text\">pointerup</code> e <code class=\"language-text\">pointerout</code>, caso contrário, não funcionará corretamente na touchscreen do celular.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">assignButtonActions</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">asset</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>asset <span class=\"token operator\">===</span> buttonPrefix <span class=\"token operator\">+</span> dPadAsset<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">let</span> angle <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">[</span><span class=\"token string\">'left'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'up'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'right'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'down'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dPadDirection</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> assetName <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>asset<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">_</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>dPadDirection<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> child <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Image</span><span class=\"token punctuation\">(</span>\r\n                scene<span class=\"token punctuation\">,</span>\r\n                x<span class=\"token punctuation\">,</span>\r\n                y<span class=\"token punctuation\">,</span>\r\n                asset\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span>assetName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setAngle</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setInteractive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerdown'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setTint</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x90989e</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">simulateKeyEvent</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">[</span>assetName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'down'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerup'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">clearTint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">simulateKeyEvent</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">[</span>assetName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerout'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">clearTint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">simulateKeyEvent</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">[</span>assetName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            angle <span class=\"token operator\">+=</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\r\n            children<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> child <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Image</span><span class=\"token punctuation\">(</span>\r\n            scene<span class=\"token punctuation\">,</span>\r\n            x<span class=\"token punctuation\">,</span>\r\n            y<span class=\"token punctuation\">,</span>\r\n            asset\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span>asset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setInteractive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerdown'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setTint</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x90989e</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">simulateKeyEvent</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">[</span>asset<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'down'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerup'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">clearTint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">simulateKeyEvent</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">[</span>asset<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerout'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">clearTint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token function\">simulateKeyEvent</span><span class=\"token punctuation\">(</span>keys<span class=\"token punctuation\">[</span>asset<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'up'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        children<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A função <code class=\"language-text\">setControlsPositions</code> é meio sem graça, ela simplesmente define as posições de cada botão na tela:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">setControlsPositions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> width<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>cameras<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> paddingX <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> paddingY <span class=\"token operator\">=</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">child</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> child<span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>paddingX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>height <span class=\"token operator\">-</span> paddingY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setScrollFactor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'big_d_pad_left'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'big_d_pad_up'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">58</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">49</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'big_d_pad_right'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">88</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'big_d_pad_down'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">37</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'big_button_a'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">-</span> paddingX <span class=\"token operator\">-</span> <span class=\"token number\">35</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'big_button_b'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">-</span> paddingX <span class=\"token operator\">-</span> <span class=\"token number\">85</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'d_pad_left'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'d_pad_up'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'d_pad_right'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'d_pad_down'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'button_a'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">35</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">-</span> paddingX <span class=\"token operator\">-</span> <span class=\"token number\">35</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'button_b'</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>width <span class=\"token operator\">-</span> paddingX <span class=\"token operator\">-</span> <span class=\"token number\">75</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"build-para-celular\" style=\"position:relative;\"><a href=\"#build-para-celular\" aria-label=\"build para celular permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Build para celular</h2>\n<p>Eu não quero ter que carregar assets que não sejam usados, então vou criar um build separado para celulares e verificar se devo ou não carregar os assets dos botões:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">getGlobal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'IS_MOBILE_BUILD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'big_d_pad'</span><span class=\"token punctuation\">,</span> bigDPad<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'big_button_a'</span><span class=\"token punctuation\">,</span> bigButtonA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'big_button_b'</span><span class=\"token punctuation\">,</span> bigButtonB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'big_button_Y'</span><span class=\"token punctuation\">,</span> bigButtonY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'d_pad'</span><span class=\"token punctuation\">,</span> dPad<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button_a'</span><span class=\"token punctuation\">,</span> buttonA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button_b'</span><span class=\"token punctuation\">,</span> buttonB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button_Y'</span><span class=\"token punctuation\">,</span> buttonY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">getGlobal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'IS_MOBILE_BUILD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchScreenControls <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TouchScreenControls</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'touchScreenControls'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">dPadAsset</span><span class=\"token operator\">:</span> <span class=\"token string\">'d_pad'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">buttonAAsset</span><span class=\"token operator\">:</span> <span class=\"token string\">'button_a'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">buttonBAsset</span><span class=\"token operator\">:</span> <span class=\"token string\">'button_b'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">useBigButtons</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchScreenControls<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">child</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora no meu <code class=\"language-text\">package.json</code>, irei criar um script de build com <code class=\"language-text\">\"build-mobile\": \"webpack --mode production --config webpack.config.prod.js --env = mobile\"</code>, e na minha configuração do Webpack eu vou exportar uma função ao em vez de um objeto, para eu poder acessar o parâmetro <code class=\"language-text\">env</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// webpack.config.js</span>\r\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">env <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> isMobileBuild <span class=\"token operator\">=</span> env <span class=\"token operator\">===</span> <span class=\"token string\">'mobile'</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isMobileBuild<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token constant\">BUILD_PATH</span> <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'www/build'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token constant\">DIST_PATH</span> <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'www'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Além disso, vou criar a variável <code class=\"language-text\">IS_MOBILE_BUILD</code> com o <a href=\"https://webpack.js.org/plugins/define-plugin/\" target=\"_blank\" rel=\"noreferrer\">Webpack Define Plugin</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>DefinePlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token constant\">IS_MOBILE_BUILD</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>isMobileBuild<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"buildando-o-apk\" style=\"position:relative;\"><a href=\"#buildando-o-apk\" aria-label=\"buildando o apk permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Buildando o APK</h2>\n<p>Quero que meu jogo rode no Android por enquanto e, para isso, usarei o <a href=\"https://cordova.apache.org/\" target=\"_blank\" rel=\"noreferrer\">Cordova</a>. Primeiro, preciso instalar o Cordova com <code class=\"language-text\">npm install -g cordova</code> e, em seguida, <a href=\"https://cordova.apache.org/docs/en/10.x/guide/platforms/android/index.html\" target=\"_blank\" rel=\"noreferrer\">instalar o Android Studio e yada yada</a> e, finalmente, criar meu projeto com <code class=\"language-text\">cordova create skate</code>.</p>\n<p>Cordova espera que os arquivos de build estejam na pasta <code class=\"language-text\">www/</code>, e é por isso que eu tive que mudar o meu script do Webpack antes. Agora posso simplesmente executar <code class=\"language-text\">cordova build --release android</code> e um arquivo APK não assinado será gerado para mim.</p>\n<p>E é isso! Mole mole, fácil fácil!</p>\n<p>Nos vemos no próximo devlog, pessoal!</p>","fields":{"slug":"/2021/2021-09-09-criando-um-build-para-celular-para-o-meu-jogo-com-o-phaser-js-game-devlog-23.pt-br/","path":"/blog/games/criando-um-build-para-celular-para-o-meu-jogo-com-o-phaser-js-game-devlog-23/","locale":"pt-br"},"readingTime":{"minutes":5.18},"frontmatter":{"date":"2021-09-09T00:00:00.000Z","title":"Criando um build para celular para o meu jogo com o Phaser JS - Game Devlog #23","categories":["games"]}}},{"node":{"excerpt":"Mês passado eu viajei para a região do Algarve, em Portugal…","html":"<p>Mês passado eu viajei para a região do Algarve, em Portugal, e para a minha sorte, haviam algumas praias fantásticas para caminhadas, escaladas e para pular de pedras, e como a minha cidade natal está repleta de praias como estas, eu imediatamente me senti em casa.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABX3bAijha/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAERAgMQEiL/2gAIAQEAAQUCi4Lc7IxU3P8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAABIT/9oACAEDAQE/AYZv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAESE//aAAgBAgEBPwG2aM//xAAXEAADAQAAAAAAAAAAAAAAAAABECAy/9oACAEBAAY/AlkR/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERQVEhYf/aAAgBAQABPyFXMSXYYvYJMIWIvaP/2gAMAwEAAgADAAAAEN8//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAR8P/aAAgBAwEBPxDHEBv/xAAWEQEBAQAAAAAAAAAAAAAAAAABEPH/2gAIAQIBAT8QC2f/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMWGRQXGB/9oACAEBAAE/EDUrXogwgPJQXAbvKd3jiUTDqV66J8gdcT//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Praia da Ferradurinha em Búzios\"\n        title=\"Praia da Ferradurinha em Búzios\"\n        src=\"/static/a88f45b650bce341acd5d1de09ac823b/63217/ferradurinha-beach.jpg\"\n        srcset=\"/static/a88f45b650bce341acd5d1de09ac823b/db830/ferradurinha-beach.jpg 256w,\n/static/a88f45b650bce341acd5d1de09ac823b/8102f/ferradurinha-beach.jpg 512w,\n/static/a88f45b650bce341acd5d1de09ac823b/63217/ferradurinha-beach.jpg 1024w,\n/static/a88f45b650bce341acd5d1de09ac823b/d58d1/ferradurinha-beach.jpg 1536w,\n/static/a88f45b650bce341acd5d1de09ac823b/aaf92/ferradurinha-beach.jpg 1920w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Praia da Ferradurinha em Búzios</figcaption>\n  </figure></p>\n<h2 id=\"praia-do-carvalho-em-benagil\" style=\"position:relative;\"><a href=\"#praia-do-carvalho-em-benagil\" aria-label=\"praia do carvalho em benagil permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Praia do Carvalho em Benagil</h2>\n<p>Fomos a alguns locais no Algarve, mas o que mais me diverti foi sem dúvidas Benagil, mais precisamente a Praia do Carvalho, repleta de picos para pular de pedras.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYlEpcWD//xAAaEAEAAgMBAAAAAAAAAAAAAAABAgMAERIE/9oACAEBAAEFAn0HBdZLG2Q1G84Op6Jf/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAECEv/aAAgBAwEBPwGKsv/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAbEAADAAIDAAAAAAAAAAAAAAAAARECECGB4f/aAAgBAQAGPwJ5JU8Oc50TUSR//8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFRYXGR/9oACAEBAAE/IdCSaQ+TXAfDN/NC3Uwxt9WDCDsuf//aAAwDAQACAAMAAAAQgx//xAAWEQEBAQAAAAAAAAAAAAAAAAAAETH/2gAIAQMBAT8QhqH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARFR/9oACAECAQE/EJyu/8QAHRAAAgIBBQAAAAAAAAAAAAAAAREAITFBYYGRsf/aAAgBAQABPxBAgUCZuWCwRTT7Ko1jOCMVeOsKFEDBXC3lSIBqOzP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Praia do Carvalho\"\n        title=\"Praia do Carvalho\"\n        src=\"/static/92bd60372258781282cc5e96a44ab84f/63217/carvalho-beach-benagil.jpg\"\n        srcset=\"/static/92bd60372258781282cc5e96a44ab84f/db830/carvalho-beach-benagil.jpg 256w,\n/static/92bd60372258781282cc5e96a44ab84f/8102f/carvalho-beach-benagil.jpg 512w,\n/static/92bd60372258781282cc5e96a44ab84f/63217/carvalho-beach-benagil.jpg 1024w,\n/static/92bd60372258781282cc5e96a44ab84f/d58d1/carvalho-beach-benagil.jpg 1536w,\n/static/92bd60372258781282cc5e96a44ab84f/09658/carvalho-beach-benagil.jpg 2048w,\n/static/92bd60372258781282cc5e96a44ab84f/120d2/carvalho-beach-benagil.jpg 4000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Praia do Carvalho</figcaption>\n  </figure></p>\n<p>A Praia do Carvalho tem o seu nome porque era uma praia privada para um capitão chamado Carvalho, e só era acessível por barco, mas alguns anos mais tarde o governo decretou que todas as praias deviam ser públicas, então o capitão Carvalho escavou uma entrada para a praia nas rochas para que qualquer pessoa pudesse entrar nela.</p>\n<p>Eu estava um pouco enferrujado com as minhas habilidades de pular de pedras, mas no final consegui pular de quase todos os picos da praia, e aqui estão as minhas dicas de como se divertir por lá.</p>\n<p>Antes de seguir qualquer uma dessas dicas, lembre-se de respeitar o seu limite físico e manter a segurança em primeiro lugar. Você pode se machucar muito se não souber o que está fazendo.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABZK72JMwf/8QAGBABAQEBAQAAAAAAAAAAAAAAAgEDACH/2gAIAQEAAQUCPoMK5aE2aSQ6ydoZX//EABYRAAMAAAAAAAAAAAAAAAAAAAABEv/aAAgBAwEBPwGUSj//xAAWEQADAAAAAAAAAAAAAAAAAAAAARL/2gAIAQIBAT8Btls//8QAGxAAAwACAwAAAAAAAAAAAAAAAAEREiEiYaH/2gAIAQEABj8CyaOLI34TZcein//EABsQAQADAQADAAAAAAAAAAAAAAEAITERQVFx/9oACAEBAAE/IR0VXklCi/JRAwjv4pvuM2bpiIm3P//aAAwDAQACAAMAAAAQqD//xAAVEQEBAAAAAAAAAAAAAAAAAAAAYf/aAAgBAwEBPxCKb//EABgRAAIDAAAAAAAAAAAAAAAAAAABETFh/9oACAECAQE/EFDZqf/EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQWFRkfD/2gAIAQEAAT8QMoDc5VHW4hyJWePZFZR2Ksg+RVCl7eOpSDcgtHLqCop/Mz//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Placa de perigo\"\n        title=\"Placa de perigo\"\n        src=\"/static/a5407d530669e2d5ac387ab70728a062/63217/danger-sign.jpg\"\n        srcset=\"/static/a5407d530669e2d5ac387ab70728a062/db830/danger-sign.jpg 256w,\n/static/a5407d530669e2d5ac387ab70728a062/8102f/danger-sign.jpg 512w,\n/static/a5407d530669e2d5ac387ab70728a062/63217/danger-sign.jpg 1024w,\n/static/a5407d530669e2d5ac387ab70728a062/d58d1/danger-sign.jpg 1536w,\n/static/a5407d530669e2d5ac387ab70728a062/09658/danger-sign.jpg 2048w,\n/static/a5407d530669e2d5ac387ab70728a062/fdb5a/danger-sign.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Placa de perigo</figcaption>\n  </figure></p>\n<h3 id=\"fique-de-olho-nas-mares\" style=\"position:relative;\"><a href=\"#fique-de-olho-nas-mares\" aria-label=\"fique de olho nas mares permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fique de olho nas marés</h3>\n<p>Alguns picos de mergulho do penhasco só são seguros para pular quando a maré está alta, então <a href=\"https://www.tideking.com/Portugal/Faro/Lagoa/Praia-do-Carvalho/\" target=\"_blank\" rel=\"noreferrer\">fique de olho na maré em sites como o tideking.com</a>.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 671px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.6875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmklEQVQoz12QDW+CMBCG+f//bbrNTSZfIqVlRWjpXb8oigtoXLbLk6bJvc/10ohzTgjhnFcVKctTTempInVNGWsYY6eybJpvQmrWNJTSqiKUsePxqI293W6Rc16BRm2t9eFZ4ximYIxToAGNAn3PTNMUQvDeX6/XRR6UFlILiX4Mt7+ljRdSy2FBSAR0/wIRou0F9AKcH//1ULtegJAoJPYCAJdV53nhIStlFrkH51Z5XnnKcpXFKoN9zr37kbZODCiHZe1LuF7C9Zkw1vWdEhIH0L0A1Haeb1qN3k6Pl88c+Ldq2ECKgRZY5yBbf5nmyzTT05C9N8murY6iF9idsSl1dVBVonBYPigqE7Hf8P2G5x+CFbrOgSRAc6AFJG9dvG3jbbt/4Yf3Ntl1dYqs0DTH6gBnaqIql58vPN62x1iyAmmOrMA6Wy7ZZx9v26/XhXjTprvuHrhTpxCRfNhv+NdrW+xFnQFJVzKoM0g/unjLD28PP911v4E1ExnjnB29C94H74Jzwdng7OjsaM1otAcwS/eOnx6t9fwBDqJonZY7YnAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Marés\"\n        title=\"Marés\"\n        src=\"/static/c9775f74a4eeeae083abf97d82ede34e/b5f03/tides-carvalho-beach.png\"\n        srcset=\"/static/c9775f74a4eeeae083abf97d82ede34e/e3135/tides-carvalho-beach.png 256w,\n/static/c9775f74a4eeeae083abf97d82ede34e/06341/tides-carvalho-beach.png 512w,\n/static/c9775f74a4eeeae083abf97d82ede34e/b5f03/tides-carvalho-beach.png 671w\"\n        sizes=\"(max-width: 671px) 100vw, 671px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Marés</figcaption>\n  </figure></p>\n<p>Outra forma de saber se a maré está alta, é olhando as pedras menores perto da pedra gigante no meio da praia, se não der para ve-las, como na foto abaixo, significa que a maré está boa para pular.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.328125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUDBAb/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABbVYFqaMXkf/EABoQAAMBAAMAAAAAAAAAAAAAAAABEgIDBBH/2gAIAQEAAQUCsx2K3Q2JTy+n/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAABARAf/aAAgBAQAGPwIjyL//xAAaEAADAAMBAAAAAAAAAAAAAAAAASEQETFB/9oACAEBAAE/IdEcHHzFtXgpqKbn/9oADAMBAAIAAwAAABBDH//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxAS2//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EGf/xAAcEAEBAQABBQAAAAAAAAAAAAABEQAhMUFRcbH/2gAIAQEAAT8QQKvAVyKgWrpJ93vkiNQiecCNEmn33//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pedras submersas\"\n        title=\"Pedras submersas\"\n        src=\"/static/7bdd361af40fab4f68ddd0b063d54009/63217/carvalho-beach-submerged-stones.jpg\"\n        srcset=\"/static/7bdd361af40fab4f68ddd0b063d54009/db830/carvalho-beach-submerged-stones.jpg 256w,\n/static/7bdd361af40fab4f68ddd0b063d54009/8102f/carvalho-beach-submerged-stones.jpg 512w,\n/static/7bdd361af40fab4f68ddd0b063d54009/63217/carvalho-beach-submerged-stones.jpg 1024w,\n/static/7bdd361af40fab4f68ddd0b063d54009/d58d1/carvalho-beach-submerged-stones.jpg 1536w,\n/static/7bdd361af40fab4f68ddd0b063d54009/09658/carvalho-beach-submerged-stones.jpg 2048w,\n/static/7bdd361af40fab4f68ddd0b063d54009/fdb5a/carvalho-beach-submerged-stones.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pedras submersas</figcaption>\n  </figure></p>\n<h3 id=\"sapatilhas-para-agua\" style=\"position:relative;\"><a href=\"#sapatilhas-para-agua\" aria-label=\"sapatilhas para agua permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sapatilhas para água</h3>\n<p>Eu estava lá com o pé descalço ou com um par de Havaianas e nenhuma das opções era boa, podia machucar o pé descalço ou cair horrívelmente com as Havaianas que ficam escorregadias quando molhadas.</p>\n<p>Eu vi muitas pessoas com sapatilhas para água andando livremente nas pedras, e eu recomendo fortemente que você compre um par, elas são bem baratas na Decathlon.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.578125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAT0bIG67O//EABkQAQACAwAAAAAAAAAAAAAAAAECAwASIv/aAAgBAQABBQImSt61shZsVqowzrP/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAIR/9oACAECAQE/Aaa//8QAHBAAAgEFAQAAAAAAAAAAAAAAAAExEiEiUXGB/9oACAEBAAY/AvBUkHDF2WyT/8QAGhAAAwEBAQEAAAAAAAAAAAAAAAEhETFBcf/aAAgBAQABPyH4mN9Ep3o7LcEJ70M8e4Y5rWT/2gAMAwEAAgADAAAAEPzP/8QAFREBAQAAAAAAAAAAAAAAAAAAEQD/2gAIAQMBAT8QZF//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EGVhg//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESFBMVFxkaH/2gAIAQEAAT8QLYRYA9j7GdIu9l1WZbhADBUqdEdu8cztH1A8RriiuKn/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Sapatilha para água\"\n        title=\"Sapatilha para água\"\n        src=\"/static/7fa6dfbdcaf470b84daa7a9f791373cb/a24e6/water-shoes.jpg\"\n        srcset=\"/static/7fa6dfbdcaf470b84daa7a9f791373cb/db830/water-shoes.jpg 256w,\n/static/7fa6dfbdcaf470b84daa7a9f791373cb/8102f/water-shoes.jpg 512w,\n/static/7fa6dfbdcaf470b84daa7a9f791373cb/a24e6/water-shoes.jpg 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Sapatilha para água</figcaption>\n  </figure></p>\n<p>Outra utilidade dessas sapatilhas é que o protegerá da dor ao mergulhar de alturas superiores a 7 metros.</p>\n<h3 id=\"encontrando-o-melhor-pico\" style=\"position:relative;\"><a href=\"#encontrando-o-melhor-pico\" aria-label=\"encontrando o melhor pico permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Encontrando o melhor pico</h3>\n<p>Na minha estadia em Benagil pude ver quase todos os picos para pular de pedra, e com a <a href=\"https://goo.gl/maps/1NEJxQWvWobMf2tu7\" target=\"_blank\" rel=\"noreferrer\">ajuda do Google Maps</a> eu marquei todos eles.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQozwEZA+b8AKGIcY6BbqyRfYuDbnBtVW5kSG5kR2hfP1VPLk5JKXxvUW9mS2BXOpOCZnhtVUtGKF1UOIF2Xm1iTUpFMACvnop9clyMgW9+d1dQSCdtZEp8b1WEeV+bj3ZpYUaXh2ujk3mfi3LFrJVuYktTTTBfVz+Ic1qQgG1wZk0AkI+AjoV7lYFrhnpNYFgvgHNVv62T1b6j4cux1L+nrJ2DhnZabmJFoo54aWNMTkwyal9ElHxgk4Fpt6OLAJSKeKOUhaickJWOZHxpPYBvVcy3neXKraWehNa7nc+ylK6VemxdPG5iQpxwXIBgTnBmRW9jSHttVZN+YQCVe2mbjnq1raGWjG14YDZzW0G2oYbkyqy3pYfBmnqmj3B+kHSgfma1emSogGd9ZEttX0F3Zkl8bVCXf2IAnY9/gXBakYJsc2pAX1QqbFg1pY5tz66MwJt5mY9vYotwLXJvkX114recp5V2eGREa2BCemlKdmVEoIZpAG9qPKyLcr2lk31yOV1VKnZhPbmjhciVe66CaIGFbm9vbSNxdERtbsGhidSsk5J5XoBiSZaIaMyujaiMagBsYymaiVuVlWx+dDZtYzGAa0e1popogGdHcF05bmMxYGUmZXEhZ3J5aGqlhICng2uVaU+1o4iDj4eBiXwAY1spc2suf3MzcmQ2hHBHsI1oioNzHUNPFE5UFWVeHFxeIk5iImVzKGNvQG91rp6Em4VhdoJ4AUNSDEhVAF5SKV1TKVpTJ4dxSXJsVpWKdbCZildOXUdXY2RbXCZKVCNHWy5UZypjcjFaaLCgjOXPs0FjahJQYRlQXgC8ooKbjWuCdk5YYU8NPj42Sk9xcmskSlglTVwvQFBWW14vTFtlWmpIYXFfWmpoZ21JYmgTSFsYUmUVTV8Ar66ikJKLfoB4N1leH0xRFjhEFjdGE0NUEkRUCzZKUWBkLVBfHkRcGFBkFlVsEEliEURcGUphGEtjFk9jAE5mcFJtfFh2gIGdoTpjbQ9CThdEVBZDVBZHVxRKWBRDURZKWBc/UxlIXBpOZBtOZhpLZB1NZxxOaBhMYxr2Rr7g3z37AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Picos de mergulho\"\n        title=\"Picos de mergulho\"\n        src=\"/static/a8c0c79fdea530062931714acb223800/42a19/carvalho-beach-benagil-diving-spots.png\"\n        srcset=\"/static/a8c0c79fdea530062931714acb223800/e3135/carvalho-beach-benagil-diving-spots.png 256w,\n/static/a8c0c79fdea530062931714acb223800/06341/carvalho-beach-benagil-diving-spots.png 512w,\n/static/a8c0c79fdea530062931714acb223800/42a19/carvalho-beach-benagil-diving-spots.png 1024w,\n/static/a8c0c79fdea530062931714acb223800/b1a45/carvalho-beach-benagil-diving-spots.png 1293w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Picos de mergulho</figcaption>\n  </figure></p>\n<h4 id=\"pico-a\" style=\"position:relative;\"><a href=\"#pico-a\" aria-label=\"pico a permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico A</h4>\n<p>Este é provavelmente o primeiro pico de onde você deve tentar pular, e existem 2 alturas diferentes para pular, uma tem 6 metros (1,1 segundos de queda) e a outra tem 4 metros de altura (0,9 segundos de queda).</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.515625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAWFSc1xnh//EABgQAAMBAQAAAAAAAAAAAAAAAAABAhES/9oACAEBAAEFAuZMiV1BrNecM//EABURAQEAAAAAAAAAAAAAAAAAAAAh/9oACAEDAQE/AYj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAgEBPwFX/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERIQKRIjFB/9oACAEBAAY/Avdky4Kyezo5KSmf/8QAGBABAQEBAQAAAAAAAAAAAAAAAQARUSH/2gAIAQEAAT8hXdhbRg3xurK8cvjFOz4HL//aAAwDAQACAAMAAAAQZ+//xAAYEQACAwAAAAAAAAAAAAAAAAAAEQFRYf/aAAgBAwEBPxB4HSD/xAAYEQADAQEAAAAAAAAAAAAAAAAAARFBUf/aAAgBAgEBPxCvC9M//8QAHhABAQACAgIDAAAAAAAAAAAAAREAMSFBYYGh0fH/2gAIAQEAAT8QSGG7F95c9ArT1kJ2C/rARLhxzZmj5nRfnKp3VEa8bz//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pico de mergulho A\"\n        title=\"Pico de mergulho A\"\n        src=\"/static/274ab3d8f28ab70d85044c9b3be461db/63217/diving-spot-a.jpg\"\n        srcset=\"/static/274ab3d8f28ab70d85044c9b3be461db/db830/diving-spot-a.jpg 256w,\n/static/274ab3d8f28ab70d85044c9b3be461db/8102f/diving-spot-a.jpg 512w,\n/static/274ab3d8f28ab70d85044c9b3be461db/63217/diving-spot-a.jpg 1024w,\n/static/274ab3d8f28ab70d85044c9b3be461db/f2a33/diving-spot-a.jpg 1216w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pico de mergulho A</figcaption>\n  </figure></p>\n<p>Ambos os picos são profundos o suficiente para pular com tranquilidade dependendo de como você salta. Se você simplesmente pular para a frente, vai ser tranquilo, porém não sei como seria pular de cabeça.</p>\n<h4 id=\"pico-b\" style=\"position:relative;\"><a href=\"#pico-b\" aria-label=\"pico b permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico B</h4>\n<p>Este pico tem 6 metros de altura (1,1 segundos de queda) e só pode ser saltado na maré alta, mas na real existe uma barreira bloqueando a entrada devido ao alto risco de queda de rochas ou ferimentos ao mergulhar na maré baixa, então eu não aconselho que pule daqui.</p>\n<h4 id=\"pico-c\" style=\"position:relative;\"><a href=\"#pico-c\" aria-label=\"pico c permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico C</h4>\n<p>Este é o pico mais alto da praia, com 12 metros de altura (1,5 segundos de queda), e ainda não consigo acreditar que realmente pulei de la.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.609375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAAB0ZQupFkWEf/EABsQAAIBBQAAAAAAAAAAAAAAAAABAgMQEhMh/9oACAEBAAEFArwqNGzmbP/EABgRAAIDAAAAAAAAAAAAAAAAAAABAhEh/9oACAEDAQE/AZPSz//EABcRAQADAAAAAAAAAAAAAAAAAAACETH/2gAIAQIBAT8Bjin/xAAYEAACAwAAAAAAAAAAAAAAAAAAMQIQEf/aAAgBAQAGPwK8kIR//8QAHhAAAQIHAQAAAAAAAAAAAAAAABExARAhQVFhcZH/2gAIAQEAAT8hu01upgihTemp6f/aAAwDAQACAAMAAAAQOP8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAB/9oACAEDAQE/EMEQv//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAKNj//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhYTFB/9oACAEBAAE/EBV0Ae27m5oxC/Q9vudLR+uchlc//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pulando do pico C\"\n        title=\"Pulando do pico C\"\n        src=\"/static/fc21af4f379806e981bc0a90d9aaeec4/63217/jumping-from-spot-c.jpg\"\n        srcset=\"/static/fc21af4f379806e981bc0a90d9aaeec4/db830/jumping-from-spot-c.jpg 256w,\n/static/fc21af4f379806e981bc0a90d9aaeec4/8102f/jumping-from-spot-c.jpg 512w,\n/static/fc21af4f379806e981bc0a90d9aaeec4/63217/jumping-from-spot-c.jpg 1024w,\n/static/fc21af4f379806e981bc0a90d9aaeec4/5814a/jumping-from-spot-c.jpg 1400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pulando do pico C</figcaption>\n  </figure></p>\n<p>Para este, você precisará colocar os braços perto do corpo e as pernas fechadas, e o uso de sapatilhas para água diminuirá muito a dor do impacto que você sentirá nos pés ao atingir a água.</p>\n<p>Eu recomendo que você pratique fechar braços e pernas no pico A antes de tentar esse.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAETXY5A0nD/AP/EABsQAAEEAwAAAAAAAAAAAAAAAAABAgMRBCEx/9oACAEBAAEFAilGxaxokecSj//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AYj/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8Bta//xAAaEAEAAQUAAAAAAAAAAAAAAAAAEQECECEx/9oACAEBAAY/AnG03Ipj/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERITFhUf/aAAgBAQABPyEpTlD4Pc2vhJWJPB+clg8RUn//2gAMAwEAAgADAAAAEPwf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/EMpD/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Qgt//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhUXGB/9oACAEBAAE/ECrArgvDjXcZiXZDN08QeX7piAIA4fmDrgBh7v/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Vista do pico C\"\n        title=\"Vista do pico C\"\n        src=\"/static/a3e1200d9fb9e68d00045bf3fed7bbe0/63217/diving-spot-c.jpg\"\n        srcset=\"/static/a3e1200d9fb9e68d00045bf3fed7bbe0/db830/diving-spot-c.jpg 256w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/8102f/diving-spot-c.jpg 512w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/63217/diving-spot-c.jpg 1024w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/d58d1/diving-spot-c.jpg 1536w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/09658/diving-spot-c.jpg 2048w,\n/static/a3e1200d9fb9e68d00045bf3fed7bbe0/fdb5a/diving-spot-c.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Vista do pico C</figcaption>\n  </figure></p>\n<h4 id=\"pico-d\" style=\"position:relative;\"><a href=\"#pico-d\" aria-label=\"pico d permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico D</h4>\n<p>Este local tem 10 metros de altura (1,4 segundos de queda) e mesmo com a maré alta a água não é muito profundo, por isso é altamente perigoso, e você deve evitá-lo a menos que saiba realmente o que está fazendo, como o cara da foto.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 134.765625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABtTEpoMJzIJCpon//xAAdEAACAQQDAAAAAAAAAAAAAAABAgADEBESEzFB/9oACAEBAAEFAhUU31UzQKcTlm5jGoT4nTHB/8QAGBEBAAMBAAAAAAAAAAAAAAAAAAEREiH/2gAIAQMBAT8BwzK3X//EABgRAAIDAAAAAAAAAAAAAAAAAAASARAh/9oACAECAQE/AXHisP/EABoQAAIDAQEAAAAAAAAAAAAAABAhAAExEXH/2gAIAQEABj8C05EpsVBXwV4P/8QAHhABAAIABwEAAAAAAAAAAAAAAQARECExQVFhcYH/2gAIAQEAAT8h0I/cXaGGWnxAOmGXq0nUs1ThJu8ma7hGpJ//2gAMAwEAAgADAAAAEEMo/wD/xAAYEQEBAAMAAAAAAAAAAAAAAAARAAEQUf/aAAgBAwEBPxDPGpDM/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAQEVH/2gAIAQIBAT8QOigNmR//xAAeEAEAAgMAAgMAAAAAAAAAAAABABEhMVEQQWFxkf/aAAgBAQABPxCroLowYUliJ08bTgv1Ag3lbrZ9QLC1i0qWEy9+ZnfOgXKbmNJbiApsSfka1KrNu2Xxork//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pico de mergulho D\"\n        title=\"Pico de mergulho D\"\n        src=\"/static/75c60ce7e3ef483f91ed31d1c3d83cc1/63217/diving-spot-d.jpg\"\n        srcset=\"/static/75c60ce7e3ef483f91ed31d1c3d83cc1/db830/diving-spot-d.jpg 256w,\n/static/75c60ce7e3ef483f91ed31d1c3d83cc1/8102f/diving-spot-d.jpg 512w,\n/static/75c60ce7e3ef483f91ed31d1c3d83cc1/63217/diving-spot-d.jpg 1024w,\n/static/75c60ce7e3ef483f91ed31d1c3d83cc1/b37e7/diving-spot-d.jpg 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Pico de mergulho D</figcaption>\n  </figure></p>\n<h4 id=\"pico-e\" style=\"position:relative;\"><a href=\"#pico-e\" aria-label=\"pico e permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pico E</h4>\n<p>Este eu não tinha ideia de que fosse possível para falar a verdade. Eu só descobri no último dia lá, e só porque tentei encontrar vídeos sobre pessoas pulando de pedras na Praia do Carvalho no YouTube.</p>\n<p>Para conseguir pular desse voce primeiramente precisará de habilidades de escaladas tipo o Homem-Aranha.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/0UiYjYqCK5E?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Esse parece ter cerca de 8~10 metros de altura (cerca de 1,3 segundos de queda) e ao nadar perto dessa rocha, eu reparei que há um monte de pedras debaixo d’água, o que torna este salto super perigoso. Evite a qualquer custo.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Eu me diverti muito em Benagil e consegui quebrar o meu próprio recorde de altura ao pular de uma pedra, que antes foi de quando eu pulei do Bufador em Cabo Frio.</p>\n<p>Se for ao Algarve para a sua próxima viagem, não pode deixar de viajar para Benagil.</p>","fields":{"slug":"/2021/2021-09-02-um-guia-para-pular-de-pedras-em-benagil.pt-br/","path":"/blog/general/um-guia-para-pular-de-pedras-em-benagil/","locale":"pt-br"},"readingTime":{"minutes":4.2},"frontmatter":{"date":"2021-09-02T00:00:00.000Z","title":"Um guia para pular de pedras em Benagil","categories":["general"]}}},{"node":{"excerpt":"Fala galera, bem-vindos a mais um devlog do meu jogo Super…","html":"<p>Fala galera, bem-vindos a mais um devlog do meu jogo <a href=\"/pt-br/blog/tags/super-ollie-vs-pebble-corp/\">Super Ollie</a>, e depois de quase um ano inteiro de desenvolvimento, estou finalmente tentando resolver algo que todo jogo de plataforma precisa ter: Plataformas.</p>\n<blockquote>\n<p>Um jogo de plataforma precisa de plataformas.</p>\n<p>— Sherlock Holmes, 600 BC</p>\n</blockquote>\n<h2 id=\"definindo-tipos-de-plataformas\" style=\"position:relative;\"><a href=\"#definindo-tipos-de-plataformas\" aria-label=\"definindo tipos de plataformas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Definindo tipos de plataformas</h2>\n<p>Existem vários tipos de plataformas, mas para o meu jogo, decidi ficar com 6 tipos diferentes por enquanto. Espero que você esteja pronto porque este será um grande devlog 😬.</p>\n<h3 id=\"plataformas-que-seguem-um-caminho\" style=\"position:relative;\"><a href=\"#plataformas-que-seguem-um-caminho\" aria-label=\"plataformas que seguem um caminho permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que seguem um caminho</h3>\n<p><img src=\"/a88d748f2631b39eb30f0d9a71c15bd0/follow-path-platforms.gif\" alt=\"Follow path platform\"></p>\n<p>Plataformas que seguirão um determinado caminho desenhado no Tiled.</p>\n<h3 id=\"plataformas-que-se-movem-em-um-caminho-circular\" style=\"position:relative;\"><a href=\"#plataformas-que-se-movem-em-um-caminho-circular\" aria-label=\"plataformas que se movem em um caminho circular permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que se movem em um caminho circular</h3>\n<p><img src=\"/d33ebf38eb85bc1b909bce1a9d738d25/circular-moving-platforms.gif\" alt=\"Circular movement platforms\"></p>\n<p>Plataformas que seguem um movimento circular baseado em um círculo desenhado em Tiled.</p>\n<h3 id=\"plataformas-que-desaparecem\" style=\"position:relative;\"><a href=\"#plataformas-que-desaparecem\" aria-label=\"plataformas que desaparecem permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que desaparecem</h3>\n<p><img src=\"/d17bbf2a646e7454c244b81a3ff99a2b/vanishing-platforms.gif\" alt=\"Plataformas que desaparecem\"></p>\n<p>Plataformas que desaparecem alguns segundos após o herói subir nelas.</p>\n<h3 id=\"plataformas-que-caem\" style=\"position:relative;\"><a href=\"#plataformas-que-caem\" aria-label=\"plataformas que caem permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que caem</h3>\n<p><img src=\"/b11eeca824a2777a98d3cd0af5fbd61e/falling-platforms.gif\" alt=\"Plataformas que caem\"></p>\n<p>Plataformas que começarão a cair lentamente quando o herói estiver em cima delas.</p>\n<h3 id=\"plataformas-que-funcionam-como-um-elevador\" style=\"position:relative;\"><a href=\"#plataformas-que-funcionam-como-um-elevador\" aria-label=\"plataformas que funcionam como um elevador permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas que funcionam como um elevador</h3>\n<p><img src=\"/162baeeff3a562abdd131484843f6629/elevator-platform.gif\" alt=\"Platforma elevador\"></p>\n<p>Plataformas que se movem para cima e para baixo como um elevador e só acionam o movimento quando o herói está em cima delas.</p>\n<h3 id=\"plataformas-em-loop\" style=\"position:relative;\"><a href=\"#plataformas-em-loop\" aria-label=\"plataformas em loop permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plataformas em loop</h3>\n<p><img src=\"/2fb103477a8bdbb48189b8c070b8b541/looping-platforms.gif\" alt=\"Plataformas em loop\"></p>\n<p>Plataformas que se movem constantemente na vertical até atingir o final do estágio e então voltam ao topo.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O código</h2>\n<p>Primeiro eu vou adicionar uma nova condição no meu loop do <code class=\"language-text\">dataLayer</code> para lidar com o código de novas plataformas, e no Tiled vou um novo atributo chamado <code class=\"language-text\">platformAI</code> nas plataformas para que eu possa criar AIs / Tipos de plataformas diferentes.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// in the scene create function</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">,</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platform'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> platformAI <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'platformAI'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> velocity <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'velocity'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DEFAULT_PLATFORM_VELOCITY</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            velocity<span class=\"token punctuation\">,</span>\r\n            x<span class=\"token punctuation\">,</span>\r\n            y<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>platforms<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com esse código base pronto, eu posso começar a codificar cada um dos diferentes comportamentos para as plataformas.</p>\n<h2 id=\"seguidora-de-caminho\" style=\"position:relative;\"><a href=\"#seguidora-de-caminho\" aria-label=\"seguidora de caminho permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Seguidora de caminho</h2>\n<p>Para esta plataforma, vou precisar desenhar um caminho no Tiled e, em seguida, fazer a plataforma segui-lo, e quando eu faço, o <code class=\"language-text\">JSON</code> do Tiled vem como uma array de posições no formato <code class=\"language-text\">[{x: 1, y: 2}, {x: 3, y: 6}] </code>, e a ideia é pegar cada uma dessas posições e criar um custom collider que, quando em contato com a plataforma, mudará sua velocidade e direção.</p>\n<p>Para isso, vou precisar da função <code class=\"language-text\">createInteractiveGameObject</code>, que mostrei no <a href=\"/pt-br/blog/games/criando-uma-ai-mais-inteligente-e-performatica-no-phaser-js-skate-platformer-game-devlog-15/\">devlog 15</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">PATH_PLATFORM</span><span class=\"token operator\">:</span>\r\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Get path from Tiled</span>\r\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> polylines</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// create a custom interactive object for each of the polyline points</span>\r\n            <span class=\"token keyword\">const</span> platformCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n                platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\r\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'platform_collider'</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set custom properties for the collider</span>\r\n        platformCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>nextPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>currentPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platformCollider<span class=\"token punctuation\">.</span>previousPoint <span class=\"token operator\">=</span> polylines<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// now create a collider for it</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> platformCollider<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>nextPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'backward'</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platformCollider<span class=\"token punctuation\">.</span>previousPoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">'forward'</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n                nextPoint<span class=\"token punctuation\">,</span>\r\n                currentPoint<span class=\"token punctuation\">,</span>\r\n                previousPoint<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platformCollider<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> direction <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> nextPos <span class=\"token operator\">=</span> direction <span class=\"token operator\">===</span> <span class=\"token string\">'forward'</span> <span class=\"token operator\">?</span> nextPoint <span class=\"token operator\">:</span> previousPoint<span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> newVelocity <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> currentPoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>velocity <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>nextPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> currentPoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocity</span><span class=\"token punctuation\">(</span>\r\n                newVelocity<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                newVelocity<span class=\"token punctuation\">.</span>y\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// Create collider for player and platform</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"caminho-circular\" style=\"position:relative;\"><a href=\"#caminho-circular\" aria-label=\"caminho circular permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Caminho circular</h2>\n<p>Essa foi a mais difícil de criar, porque eu precisava de algum conhecimento em física de movimento circular, no qual não tinha nenhum 😅 e, além disso, eu queria poder escolher a velocidade e a direção da rotação no Tiled.</p>\n<p>Então eu pedi ajuda à minha namorada porque ela é formada em engenharia, mas ela sabia tanto, e eu sabia tão pouco, que foi uma conversa difícil, mas no final ela conseguiu me ajudar. Yay!</p>\n<p>As fórmulas de rotação que vou usar são as seguintes:</p>\n<blockquote>\n<p>raio = diametroDoCirculo / 2</p>\n<p>rotacaoPorSegundo = gravidade / velocidade</p>\n<p>velocidadeAngular = 360 / rotacoesPorSegundo</p>\n<p>velocidade = (raio * (π * 2)) / rotacoesPorSegundo</p>\n</blockquote>\n<p>O truque é criar um objeto que sera usado apenas para referência e definir uma rotação nele com a função <code class=\"language-text\">setAngularVelocity</code> e, em seguida, copiar a velocidade desse objeto para a plataforma usando a função <code class=\"language-text\">velocityFromRotation</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">CIRCULAR_PATH_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> direction <span class=\"token operator\">=</span> properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'direction'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value <span class=\"token operator\">||</span> <span class=\"token constant\">DIRECTION_RIGHT</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> platformCircularPath <span class=\"token operator\">=</span> dataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>ellipse\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> radius <span class=\"token operator\">=</span> platformCircularPath<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set platform position to the top of the circle to start the rotation</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// This is where the magic happens</span>\r\n        <span class=\"token comment\">// I honestly have no idea why this works, but it works</span>\r\n        <span class=\"token keyword\">const</span> secondsPerRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">/</span> velocity<span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// increase angular speed, decreases radius</span>\r\n        <span class=\"token keyword\">const</span> angularSpeed <span class=\"token operator\">=</span> <span class=\"token number\">360</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// increase speed, increase radius</span>\r\n        <span class=\"token keyword\">const</span> speed <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> secondsPerRotation<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create a dummy object to create the base rotation physics</span>\r\n        <span class=\"token keyword\">const</span> dummyRotation <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\r\n            platformCircularPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> radius<span class=\"token punctuation\">,</span>\r\n            <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token number\">1</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setMaxVelocity</span><span class=\"token punctuation\">(</span>speed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">===</span> <span class=\"token constant\">DIRECTION_LEFT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>radius <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAngularVelocity</span><span class=\"token punctuation\">(</span>angularSpeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">// set the platform velocity to be equal to the one from the dummy object</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span><span class=\"token function\">velocityFromRotation</span><span class=\"token punctuation\">(</span>\r\n                PhaserMath<span class=\"token punctuation\">.</span><span class=\"token function\">DegToRad</span><span class=\"token punctuation\">(</span>dummyRotation<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                speed<span class=\"token punctuation\">,</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// Create collider for player and platform</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"desaparecendo\" style=\"position:relative;\"><a href=\"#desaparecendo\" aria-label=\"desaparecendo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Desaparecendo</h2>\n<p>Esta é simples, vou apenas criar um custom collider que quando o herói tocar a parte de cima da plataforma, irei definir um timer para que a plataforma desapareça e um timer para que a plataforma apareça novamente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">VANISHING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> originalCheckCollision <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token operator\">...</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformReapearingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision <span class=\"token operator\">=</span> originalCheckCollision<span class=\"token punctuation\">;</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span><span class=\"token function\">setPosition</span><span class=\"token punctuation\">(</span>\r\n                platformX<span class=\"token punctuation\">,</span>\r\n                platformY\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">platformVanishingCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>\r\n                platformReapearingCallback\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>isTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>isTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> platformX<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\r\n                platformVanishingCallback\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            colliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"caindo\" style=\"position:relative;\"><a href=\"#caindo\" aria-label=\"caindo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Caindo</h2>\n<p>Para este, vou precisar de uma função <code class=\"language-text\">update</code> para a minha plataforma para fazê-la voltar ao lugar lentamente depois que o herói não estiver mais em cima dela. Quanto ao resto, é praticamente o mesmo que as plataformas que desaparecem.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">FALLING_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// get initial position of the platform</span>\r\n        <span class=\"token comment\">// to reset it to</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> platformY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>\r\n                        <span class=\"token operator\">-</span>platform<span class=\"token punctuation\">.</span>velocity\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token comment\">// reset platform to original position</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platformY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"elevador\" style=\"position:relative;\"><a href=\"#elevador\" aria-label=\"elevador permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elevador</h2>\n<p>A plataforma elevador precisa de muito código para criar todos os recursos que eu queria. Esses são:</p>\n<ul>\n<li>Quando o herói pisa na plataforma, ele se move para cima / para baixo e depois para.</li>\n<li>Se o herói pular e voltar para a plataforma, o movimento será acionado novamente.</li>\n<li>Se a plataforma não estiver no mesmo nível do herói quando o herói se aproximar da plataforma, ela deve se mover até o herói.</li>\n</ul>\n<p>Para isso, eu preciso de um custom collider no chão, que fará com que a plataforma desça quando estiver em cima, e um custom collider no nível superior para ativar a plataforma para subir quando estiver abaixada, e uma função <code class=\"language-text\">update</code> para determinar se a plataforma deve ser acionada ou não quando o herói está em cima dela.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">ELEVATOR_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// get path from Tiled</span>\r\n        <span class=\"token keyword\">const</span> platformPath <span class=\"token operator\">=</span> combinedDataLayers<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> pathType <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token operator\">?.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'type'</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token operator\">?.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> object<span class=\"token punctuation\">.</span>polyline<span class=\"token operator\">?.</span>length\r\n                    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token punctuation\">(</span>pathName <span class=\"token operator\">||</span> objectId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> pathType <span class=\"token operator\">===</span> <span class=\"token constant\">PATH_TYPE_PLATFORM</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> platformY<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// get base positions</span>\r\n        <span class=\"token keyword\">const</span> groundFloorPosY <span class=\"token operator\">=</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> secondFloorPosY <span class=\"token operator\">=</span> platformY <span class=\"token operator\">+</span> platformPath<span class=\"token punctuation\">.</span>polyline<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token comment\">// create ground object custom collider</span>\r\n        <span class=\"token keyword\">const</span> elevatorGroundCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'ground-collider'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorGroundColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            elevatorGroundCollider<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            elevatorGroundColliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create floor object custom collider</span>\r\n        <span class=\"token keyword\">const</span> elevatorFloorCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            platformPath<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n            secondFloorPosY <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            platform<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'floor-collider'</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">elevatorFloorColliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            elevatorFloorCollider<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            elevatorFloorColliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create the platform update function</span>\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">===</span> <span class=\"token number\">0</span>\r\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> groundFloorPosY\r\n                <span class=\"token operator\">&amp;&amp;</span> platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> secondFloorPosY\r\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>groundFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>touchingUpObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>secondFloorPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">colliderCallback</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>wasTriggered<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">>=</span> groundFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;=</span> secondFloorPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            platform<span class=\"token punctuation\">.</span>wasTriggered <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n            platform<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            colliderCallback\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"looping\" style=\"position:relative;\"><a href=\"#looping\" aria-label=\"looping permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Looping</h2>\n<p>Outra fácil, irei apenas definir a velocidade <code class=\"language-text\">y</code> para ela, e quando estiver fora do mapa, mudar sua posição para o topo do mapa novamente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>platformAI<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">LOOP_PLATFORM</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        platform<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        platform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> mapSize<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                platform<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E é isso… ou será que é…?</p>\n<h2 id=\"o-problema\" style=\"position:relative;\"><a href=\"#o-problema\" aria-label=\"o problema permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O problema</h2>\n<p>Se você apenas copiou todo esse código para o seu próprio jogo e foi testá-lo, notará que o herói está meio bugado quando a plataforma está se movendo para baixo.</p>\n<p><img src=\"/7626d6ac4f2d1e65f22f9d2d613332c1/player-glitching-platforms.gif\" alt=\"Jump jump jump ju-ju-jump ♫\"></p>\n<p>Isso acontece porque a aceleração do herói é mais lenta que a da plataforma. Para consertar isso tive que fazer uma gambiarra: Sempre que o herói estiver em cima de uma plataforma, aumentar a gravidade do herói em cerca de 10 vezes 😬.</p>\n<h2 id=\"a-solucao\" style=\"position:relative;\"><a href=\"#a-solucao\" aria-label=\"a solucao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A solução</h2>\n<p>Primeiro, adicionarei uma nova propriedade às plataformas chamada <code class=\"language-text\">changeHeroPhysics</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> platform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Platform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">changeHeroPhysics</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n    velocity<span class=\"token punctuation\">,</span>\r\n    x<span class=\"token punctuation\">,</span>\r\n    y<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Então, na função <code class=\"language-text\">update</code> do herói, adicionarei uma verificação para ver se o herói está tocando um objeto com a propriedade <code class=\"language-text\">changeHeroPhysics</code> definida como <code class=\"language-text\">true</code> e, se estiver, aumentarei a gravidade do herói.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>changeHeroPhysics<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> platformVelocityY <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>body<span class=\"token operator\">?.</span>velocity<span class=\"token operator\">?.</span>y<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> gravity <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n            gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>platformVelocityY <span class=\"token operator\">/</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// eslint-disable-next-line no-lonely-if</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// set back original gravity to the hero</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Ai esta, uma enorme lista de plataformas super úteis para o seu platformer no Phaser. Por favor, deixe um comentário se eu perdi algum tipo de plataforma e talvez eu possa adicioná-los à lista no futuro.</p>\n<p>Por hoje é só, até o próximo devlog!</p>","fields":{"slug":"/2021/2021-08-28-criando-plataformas-para-o-meu-jogo-em-phaser-js-game-devlog-22.pt-br/","path":"/blog/games/criando-plataformas-para-o-meu-jogo-em-phaser-js-game-devlog-22/","locale":"pt-br"},"readingTime":{"minutes":10.19},"frontmatter":{"date":"2021-08-28T00:00:00.000Z","title":"Criando plataformas para o meu jogo em Phaser JS - Game Devlog #22","categories":["games"]}}},{"node":{"excerpt":"Este ano The Legend of Zelda faz o seu 35º aniversário (e…","html":"<p>Este ano The Legend of Zelda faz o seu 35º aniversário (e Metroid também) e a Nintendo tende a celebrar o aniversário de suas franquias a cada 5 anos.</p>\n<p>Em seu 30º aniversário, tivemos Twilight Princess HD para o Wii U (e nada para Metroid), e este ano estamos recebendo Skyward Sword HD (e Metroid Dread 😁), um jogo que deu início a muitas mecânicas que vemos em Breath of The Wild, como o paraglider, o medidor de stamina e armas que quebram.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABw2XgUDCj/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEhEx/9oACAEBAAEFAsilD9daTlwa4f/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAQEBAQEAAAAAAAAAAAAAAAAhATJR/9oACAEBAAY/AlRnqucf/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFRYXH/2gAIAQEAAT8hEody23bCU8IWR1VrBOOjKZt+k//aAAwDAQACAAMAAAAQL/8A/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERITH/2gAIAQMBAT8QajCz/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQBR/9oACAECAQE/EB2Av//EABkQAQADAQEAAAAAAAAAAAAAAAEAETEhQf/aAAgBAQABPxA+IOL5CCZDQbWzsqnm9jWE13CvCo86gBG/IAMEbvcn/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Happy Pablo\"\n        title=\"Happy Pablo\"\n        src=\"/static/6950bdc0cf887095fcf872f8e7ecbfb6/63217/me-with-camy-hero-pack-2011.jpg\"\n        srcset=\"/static/6950bdc0cf887095fcf872f8e7ecbfb6/db830/me-with-camy-hero-pack-2011.jpg 256w,\n/static/6950bdc0cf887095fcf872f8e7ecbfb6/8102f/me-with-camy-hero-pack-2011.jpg 512w,\n/static/6950bdc0cf887095fcf872f8e7ecbfb6/63217/me-with-camy-hero-pack-2011.jpg 1024w,\n/static/6950bdc0cf887095fcf872f8e7ecbfb6/d58d1/me-with-camy-hero-pack-2011.jpg 1536w,\n/static/6950bdc0cf887095fcf872f8e7ecbfb6/09658/me-with-camy-hero-pack-2011.jpg 2048w,\n/static/6950bdc0cf887095fcf872f8e7ecbfb6/fdb5a/me-with-camy-hero-pack-2011.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Happy Pablo</figcaption>\n  </figure></p>\n<p>Esse sou eu a 10 anos atrás, e como podem ver eu estava super empolgado para jogar Skyward Sword com meus acessórios para o Wii. Bons tempos.</p>\n<p>Quando o jogo foi lançado em 2011, eu estava tão animado para jogar o jogo que <a href=\"/pt-br/blog/games/camy-hero-pack-para-quem-nao-aguenta-esperar-o-zelda-para-wii/\">comprei um kit de acessórios para Wii da Itália</a> (veja a foto abaixo), e com isso em mente, não consigo imaginar uma maneira diferente de jogar Skyward Sword HD que não seja com meus acessórios Master Sword e Hylian Shield, e por isso eu decidi fazer um para o Switch.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEC/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABxckIH//EABkQAQACAwAAAAAAAAAAAAAAAAEAESEyQv/aAAgBAQABBQIwWUTk0n//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPwGH/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITFB/9oACAEBAAE/IVo2kEvy9CaLqdq+kxXwiT//2gAMAwEAAgADAAAAEIsP/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARQf/aAAgBAwEBPxA3F//EABYRAAMAAAAAAAAAAAAAAAAAAAEQUf/aAAgBAgEBPxAUv//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExQVFh0f/aAAgBAQABPxACMCKHUDlVdHIX8lBCRyWxAwsUYRCaA8HeYA4J/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hero Pack 3\"\n        title=\"Hero Pack 3\"\n        src=\"/static/95644164b63501b61ea4ff7c116793d8/63217/hero_pack_3.jpg\"\n        srcset=\"/static/95644164b63501b61ea4ff7c116793d8/db830/hero_pack_3.jpg 256w,\n/static/95644164b63501b61ea4ff7c116793d8/8102f/hero_pack_3.jpg 512w,\n/static/95644164b63501b61ea4ff7c116793d8/63217/hero_pack_3.jpg 1024w,\n/static/95644164b63501b61ea4ff7c116793d8/62aaf/hero_pack_3.jpg 1280w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Hero Pack 3</figcaption>\n  </figure></p>\n<h1 id=\"a-ideia\" style=\"position:relative;\"><a href=\"#a-ideia\" aria-label=\"a ideia permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Idéia</h1>\n<p>Como Skyward Sword HD será lançado esta semana, decidi criar um acessório semelhante para o Nintendo Switch, então fui no <a href=\"https://www.thingiverse.com/\" target=\"_blank\" rel=\"noreferrer\">Thingiverse</a> para ver se alguém já tinha feito algo parecido, e para minha surpresa não encontrei nada, mas encontrei <a href=\"https://www.thingiverse.com/thing:3959727\" target=\"_blank\" rel=\"noreferrer\">estes</a> <a href=\"https://www.thingiverse.com/thing:3935757\" target=\"_blank\" rel=\"noreferrer\">dois</a> modelos do Wind Waker por <a href=\"https://www.thingiverse.com/zoltanki/designs\" target=\"_blank\" rel=\"noreferrer\">ZoltanKi</a> e, embora não sejam do Skyward Sword, acho que ficariam perfeitos para o que procuro, uma Master Sword e um Hylian Shield em estilo cartonado.</p>\n<p>Outra coisa excelente é que esses modelos são separados por partes, então eu posso pegar PLA de cores diferentes para depois colar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB3YFaLs4f/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECERIDIv/aAAgBAQABBQJ9MKE9KiPoos//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAABEQACECH/2gAIAQEABj8CEBeIyq4s/8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAITEQQZH/2gAIAQEAAT8hym9wCoL94AASxKgajajz/9oADAMBAAIAAwAAABAEz//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxANn//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAgEBPxCIf//EABoQAQEBAAMBAAAAAAAAAAAAAAERABAhMdH/2gAIAQEAAT8QRgIoos0PGxLIn1yV0MEwYaOB715wf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Acessório para Skyward Sword HD\"\n        title=\"Acessório para Skyward Sword HD\"\n        src=\"/static/c53684227ef92764db0d43696040c12c/63217/skyward-sword-switch-accessories-01.jpg\"\n        srcset=\"/static/c53684227ef92764db0d43696040c12c/db830/skyward-sword-switch-accessories-01.jpg 256w,\n/static/c53684227ef92764db0d43696040c12c/8102f/skyward-sword-switch-accessories-01.jpg 512w,\n/static/c53684227ef92764db0d43696040c12c/63217/skyward-sword-switch-accessories-01.jpg 1024w,\n/static/c53684227ef92764db0d43696040c12c/d58d1/skyward-sword-switch-accessories-01.jpg 1536w,\n/static/c53684227ef92764db0d43696040c12c/09658/skyward-sword-switch-accessories-01.jpg 2048w,\n/static/c53684227ef92764db0d43696040c12c/fdb5a/skyward-sword-switch-accessories-01.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Acessório para Skyward Sword HD</figcaption>\n  </figure></p>\n<h1 id=\"o-problema\" style=\"position:relative;\"><a href=\"#o-problema\" aria-label=\"o problema permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O Problema</h1>\n<p>Embora esses modelos pareçam incríveis, eles não são um acessório para o Nintendo Switch, então alguma modelagem 3D será necessária, e o problema é que eu não tenho nenhuma habilidade em design 3D, então eu contratei alguém no <a href=\"https://www.fiverr.com/\" target=\"_blank\" rel=\"noreferrer\">Fiverr</a> para fazer isso para mim, e mermão, estou feliz com os resultados.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 150%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBBAUC/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAdCaDkvnYOCu81tAWF//xAAbEAADAQEAAwAAAAAAAAAAAAABAhEAAxIhIv/aAAgBAQABBQIbnTpm6mo7RT5L0SlKxX5Ue8ixrv/EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAEDAQE/AWP/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGFP//EABkQAAMBAQEAAAAAAAAAAAAAAAABEBEhMf/aAAgBAQAGPwIcxcPROYJTdn//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhEDFBUWH/2gAIAQEAAT8hFTQerzht0CLTJ9BlwnfZCXesB6EqUFMa3Y8HD//aAAwDAQACAAMAAAAQW8dA/8QAFhEBAQEAAAAAAAAAAAAAAAAAARBR/9oACAEDAQE/EEDBdn//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QGkME/8QAHhABAAIDAAIDAAAAAAAAAAAAAQARITFREEFhcaH/2gAIAQEAAT8QIDMG5W+J4uJ8qv25rbBhcOYfvsIQqt1yIwT0Tb7Py5qnAKNwzOqDQbI/olhFUPesHP/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Acessório para Skyward Sword HD\"\n        title=\"Acessório para Skyward Sword HD\"\n        src=\"/static/36fa4868538bb72b31e1bd21a0d055c5/63217/skyward-sword-switch-accessories-02.jpg\"\n        srcset=\"/static/36fa4868538bb72b31e1bd21a0d055c5/db830/skyward-sword-switch-accessories-02.jpg 256w,\n/static/36fa4868538bb72b31e1bd21a0d055c5/8102f/skyward-sword-switch-accessories-02.jpg 512w,\n/static/36fa4868538bb72b31e1bd21a0d055c5/63217/skyward-sword-switch-accessories-02.jpg 1024w,\n/static/36fa4868538bb72b31e1bd21a0d055c5/d58d1/skyward-sword-switch-accessories-02.jpg 1536w,\n/static/36fa4868538bb72b31e1bd21a0d055c5/04bec/skyward-sword-switch-accessories-02.jpg 1600w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Acessório para Skyward Sword HD</figcaption>\n  </figure></p>\n<h1 id=\"como-imprimir\" style=\"position:relative;\"><a href=\"#como-imprimir\" aria-label=\"como imprimir permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Como imprimir</h1>\n<p>Eu usei a minha Flsun QQ S Pro para imprimir esses modelos, usando o <a href=\"https://ultimaker.com/software/ultimaker-cura\" target=\"_blank\" rel=\"noreferrer\">Cura slicer</a> com um nozzle de 0,6mm. Mas é claro, você provavelmente pode imprimi-los com todos os tipos de impressoras ou até mesmo usar um dos vários serviços de impressão 3D online disponíveis, como o <a href=\"https://shapeways.com\" target=\"_blank\" rel=\"noreferrer\">shapeways</a>.</p>\n<p>Aconselho você a usar PLA de cores diferentes para o modelo ficar igual os da foto, mas você também pode imprimir em uma cor e depois pintar tudo (ou não). Existem 20 arquivos no total, e alguns deles você precisará imprimir mais de uma vez, como <code class=\"language-text\">shield_triforce.stl</code>, <code class=\"language-text\">upper-handle.stl</code> e <code class=\"language-text\">sword_triforce.stl</code>. O <code class=\"language-text\">outer-shield.stl</code> e <code class=\"language-text\">inner-shield.stl</code> são os arquivos mais longos para impressão, levando cerca de 18 horas cada.</p>\n<p>Para colar tudo, eu usei a Pattex Repair eXtreme, mas qualquer cola tipo gel serve, apenas tente evitar a super-bonder ou similares, porque elas deixam um borrão branco em volta das partes coladas.</p>\n<p>Você pode obter os modelos <strong><a href=\"https://www.thingiverse.com/thing:4902406\" target=\"_blank\" rel=\"noreferrer\">no Thingiverse</a></strong>, e é claro, eles são gratuitos, já que tudo é propriedade da Nintendo e estou criando isso apenas como um projeto pessoal para pode jogar o jogo que eu amo, e tudo dentro do <a href=\"https://wetten.overheid.nl/BWBR0001886/2021-01-01\" target=\"_blank\" rel=\"noreferrer\">uso justo de material protegido por direitos autorais</a>.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFrrMojxkP/xAAZEAACAwEAAAAAAAAAAAAAAAAAAQIDERL/2gAIAQEAAQUCUuY026YJuRTDl6f/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwFJ/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BGf/EABkQAAIDAQAAAAAAAAAAAAAAAAABAhARMf/aAAgBAQAGPwLRQpDl11//xAAYEAEBAQEBAAAAAAAAAAAAAAARAQAhMf/aAAgBAQABPyGdA6F0nT1dcBJNJDD3/9oADAMBAAIAAwAAABDkD//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxBhNn//xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAgEBPxBGf//EABsQAQEBAAIDAAAAAAAAAAAAAAERACFBMWHB/9oACAEBAAE/EFCEdLLksqsfJhXxlUqUA6n3MxowUk3q3//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Acessório para Skyward Sword HD\"\n        title=\"Acessório para Skyward Sword HD\"\n        src=\"/static/a3438c28915909cce143c8abeaa650fb/63217/skyward-sword-switch-accessories-03.jpg\"\n        srcset=\"/static/a3438c28915909cce143c8abeaa650fb/db830/skyward-sword-switch-accessories-03.jpg 256w,\n/static/a3438c28915909cce143c8abeaa650fb/8102f/skyward-sword-switch-accessories-03.jpg 512w,\n/static/a3438c28915909cce143c8abeaa650fb/63217/skyward-sword-switch-accessories-03.jpg 1024w,\n/static/a3438c28915909cce143c8abeaa650fb/d58d1/skyward-sword-switch-accessories-03.jpg 1536w,\n/static/a3438c28915909cce143c8abeaa650fb/09658/skyward-sword-switch-accessories-03.jpg 2048w,\n/static/a3438c28915909cce143c8abeaa650fb/fdb5a/skyward-sword-switch-accessories-03.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Acessório para Skyward Sword HD</figcaption>\n  </figure></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 150%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAwQC/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAWlcDOgtBVblLIrYcjP/xAAbEAACAgMBAAAAAAAAAAAAAAAAAgMyAREhEP/aAAgBAQABBQLGBraJW0qc8lchoTdIan//xAAWEQEBAQAAAAAAAAAAAAAAAAAQESH/2gAIAQMBAT8BpkP/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGFP//EABsQAAEEAwAAAAAAAAAAAAAAABAAAQIRIUFh/9oACAEBAAY/Ak0WGFHZ6LP/xAAdEAACAwACAwAAAAAAAAAAAAABEQAhQRAxUWFx/9oACAEBAAE/IYGTq2eJl62X6dGKCp5cRCvbij6AhpfEc//aAAwDAQACAAMAAAAQIAeA/8QAGBEBAAMBAAAAAAAAAAAAAAAAARARIUH/2gAIAQMBAT8QQNRWvY//xAAXEQADAQAAAAAAAAAAAAAAAAABEBEx/9oACAECAQE/EAUq1F//xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMVFxEEFh4f/aAAgBAQABPxAwtmKdYp6Ii9TD0SmWoVJago3RUYKgc3X7L0Dk31GZAxk/SEg0gOq8f//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Acessório para Skyward Sword HD\"\n        title=\"Acessório para Skyward Sword HD\"\n        src=\"/static/3eb2010c1ecaf4c1c049209ef5302db0/63217/skyward-sword-switch-accessories-04.jpg\"\n        srcset=\"/static/3eb2010c1ecaf4c1c049209ef5302db0/db830/skyward-sword-switch-accessories-04.jpg 256w,\n/static/3eb2010c1ecaf4c1c049209ef5302db0/8102f/skyward-sword-switch-accessories-04.jpg 512w,\n/static/3eb2010c1ecaf4c1c049209ef5302db0/63217/skyward-sword-switch-accessories-04.jpg 1024w,\n/static/3eb2010c1ecaf4c1c049209ef5302db0/d58d1/skyward-sword-switch-accessories-04.jpg 1536w,\n/static/3eb2010c1ecaf4c1c049209ef5302db0/09658/skyward-sword-switch-accessories-04.jpg 2048w,\n/static/3eb2010c1ecaf4c1c049209ef5302db0/fdb5a/skyward-sword-switch-accessories-04.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Acessório para Skyward Sword HD</figcaption>\n  </figure></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAGVHWjId4Wf/8QAGhABAAIDAQAAAAAAAAAAAAAAAgABERMUEv/aAAgBAQABBQLWRCa98audDUJy9dT/xAAYEQADAQEAAAAAAAAAAAAAAAAAAQIRA//aAAgBAwEBPwGedUtNZ//EABYRAQEBAAAAAAAAAAAAAAAAAAAxIf/aAAgBAgEBPwGVj//EABwQAAICAgMAAAAAAAAAAAAAAAABAhEhURIi4f/aAAgBAQAGPwLjJ52KUaT2WpxKWDs7s8P/xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhQVFxgf/aAAgBAQABPyG3RIBVLg0ltRL5qWWgnsplLN6geMPYn//aAAwDAQACAAMAAAAQZM//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QRjCX/8QAFhEBAQEAAAAAAAAAAAAAAAAAACER/9oACAECAQE/EJBh/8QAHRABAAICAwEBAAAAAAAAAAAAAQARITFBYXFRsf/aAAgBAQABPxABRtgW+uo6OnQ0rIbIrEFlXLyZP4lhbHsx2JXL69hdjtsfk//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Acessório para Skyward Sword HD\"\n        title=\"Acessório para Skyward Sword HD\"\n        src=\"/static/2ba45cffed33975dc0e00073fa7de2eb/63217/skyward-sword-switch-accessories-05.jpg\"\n        srcset=\"/static/2ba45cffed33975dc0e00073fa7de2eb/db830/skyward-sword-switch-accessories-05.jpg 256w,\n/static/2ba45cffed33975dc0e00073fa7de2eb/8102f/skyward-sword-switch-accessories-05.jpg 512w,\n/static/2ba45cffed33975dc0e00073fa7de2eb/63217/skyward-sword-switch-accessories-05.jpg 1024w,\n/static/2ba45cffed33975dc0e00073fa7de2eb/d58d1/skyward-sword-switch-accessories-05.jpg 1536w,\n/static/2ba45cffed33975dc0e00073fa7de2eb/09658/skyward-sword-switch-accessories-05.jpg 2048w,\n/static/2ba45cffed33975dc0e00073fa7de2eb/fdb5a/skyward-sword-switch-accessories-05.jpg 2400w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Acessório para Skyward Sword HD</figcaption>\n  </figure></p>\n<p>Eles ficarão ainda mais bonitos com o <a href=\"https://www.eurogamer.net/articles/2021-03-26-legend-of-zelda-skyward-sword-joy-cons-nintendo-switch-available-to-order\" target=\"_blank\" rel=\"noreferrer\">Skyward Sword Joy-Cons</a>. Já reservei meu dia de sexta para jogar Skyward Sword HD, e você? Animado?</p>\n<p>Eu vou postar o unboxing do jogo e dos Joycons no <a href=\"https://www.youtube.com/playreplaybr\" target=\"_blank\" rel=\"noreferrer\">canal do PlayReplay no YouTube</a> semana que vem, então fiquem ligados.</p>\n<p>Caso você imprima esses modelos, me diga que achou e se precisar de ajuda comente la no Thingiverse que eu tento ajudar.</p>","fields":{"slug":"/2021/2021-07-14-criando-o-meu-acessorio-dos-sonhos-para-jogar-skyward-sword-hd.pt-br/","path":"/blog/games/criando-o-meu-acessorio-dos-sonhos-para-jogar-skyward-sword-hd/","locale":"pt-br"},"readingTime":{"minutes":3.135},"frontmatter":{"date":"2021-07-14T00:00:00.000Z","title":"Criando o meu acessório dos sonhos para jogar Skyward Sword HD","categories":["games"]}}},{"node":{"excerpt":"Para aqueles que não sabem, Metroidvania é provavelmente o…","html":"<p>Para aqueles que não sabem, Metroidvania é provavelmente o meu gênero de jogo favorito, então decidi adicionar um recurso clássico de jogos Metroidvania ao <a href=\"/pt-br/blog/tags/super-ollie-vs-pebble-corp/\">Super Ollie</a>, partes ocultas da fase que aparecem quando você se aproxima delas. Veja o gif abaixo.</p>\n<p><img src=\"/9f0bb01c8db7b56a5c0b198ad1c724a2/hidden-wall.gif\" alt=\"Parede oculta\"></p>\n<p>Para isso, vou precisar de 2 novas propriedades de layer no <code class=\"language-text\">Tiled</code>, uma chamada <code class=\"language-text\">hideOrShowOnContact</code> para sinalizar se essa layer deve ser escondida/exibida quando o jogador interage com ela, e uma chamada <code class=\"language-text\">isHidden</code> para sinalizar se essa layer deve começar escondida ou não.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 359px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.046875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuklEQVQY03XNMaqEMBSF4ex/BxoEG59oZSUoGWwSEkWDCDY2SuQKV7hPB1zAwFjKfMXP6Q7jnCdJkqZpFEV/X3Ech2Ho+z7nPAgC/oPneUwIked5URRKKWNM0zTGGCllVVVlWWZZJoR4/cCIqK7rvu/XdQWAuwCw7zsijuN4HMf74TzP67rYsixKKSnl/ay17rrOGGOtnabJWuucWx+ccwDAtm1r21ZrPQzD/xcR3QMA5nlGxP0BEYnoA5NS8DcUzluAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Esconder ou exibir layer no Tiled\"\n        title=\"Esconder ou exibir layer no Tiled\"\n        src=\"/static/b38a2c84793b20494c1fbd2afb94b251/16540/show-or-hide-layer-tiled.png\"\n        srcset=\"/static/b38a2c84793b20494c1fbd2afb94b251/e3135/show-or-hide-layer-tiled.png 256w,\n/static/b38a2c84793b20494c1fbd2afb94b251/16540/show-or-hide-layer-tiled.png 359w\"\n        sizes=\"(max-width: 359px) 100vw, 359px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Esconder ou exibir layer no Tiled</figcaption>\n  </figure></p>\n<p>Agora preciso percorrer todas as layers do meu mapa para verificar se alguma delas contém essas propriedades, algo tipo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// dynamicLayers is an array of Phaser.GameObjects.Group</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> dynamicLayers <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">;</span>\r\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>dynamicLayers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dynamicLayerGroup</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> layers <span class=\"token operator\">=</span> dynamicLayerGroup<span class=\"token punctuation\">.</span><span class=\"token function\">getChildren</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Check layers that should be hidden/shown on contact</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>layer<span class=\"token punctuation\">.</span>hideOrShowOnContact<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// TODO</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com esse código pronto, eu preciso criar um gatilho para ocultar / mostrar essa layer, e a melhor maneira de fazer isso é na minha função que cria o mapa e os custom colliders, <a href=\"/pt-br/blog/games/terceiro-game-devlog-do-skate-platformer/\">que eu expliquei em meu devlog #3</a>, e como eu quero criar as fases no <code class=\"language-text\">Tiled</code> e deixar que o código se vire para criar esses colliders, eu irei criar um loop que passa por todos os tiles da layer para criar colliders em volta da área da layer, como na imagem abaixo.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 754px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.6875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYElEQVQozx2QSU8TYQBA538UZr515ussnc7SztrSBeNGW2wxQIdpkUoChiJFStm0BxI9kZgQf4FxxWhUwIjReIAYE3+Ugcs7vMtLHqdhxyS2jk0NGWma0aCuE0undgqbKWzqxNagbog2E+yDtvRtSE+2heb6xmj3g7T6kguouwKn1oV2DzQ3QGuNn9kQ4k3QfiTM9UDUvzID2OomFn62it934PEOiPp9vveRrb/ifOAsgenbMChAfxznC4JbRuE4zpdhUIJBGeWKglsmYTVRvpif/LGFjndBNOjzm5/Y5muuIBV7JA4kT2KBlszJoqeyUE3mFRYqLFCTOUX0ZDkso9KfVuNsC12Wdwb87me2+5bzobcMpnxoMZTRiCMDS8VZjbgqyigoo2JHAaZCs8WR8KJdORugr9vC3OMBP/zChu+4APnL8K4PbYayGnVlaKvE0ain4qyCsipxFWDJ1CmO5M7blV978HRPiIbb/P4x2z/ixmh+FUU56imib7CxFPXTUt5gBV0MU6KvS2GKuBoLxkHpb9w4mpffr5B4f4t/dsKeHnE5HD5A0x42JGIq1GJQl4kpU+uKtiJmkiidlOyC4P7rNLrXg4Oms/j8SeLwt3R4ygXI6YLZ+3y1zd9aALXW6M0FvtoRavf4iXlhoiPUWiM3OqC6mGi8qUbtUmVQLzdWlujaC/XhAZcVvRl6LcL1Jq7FpD6LKnP4TkwaEZ68NLg+CysxqcekUQEFFzkK8hWQNbCbAjbHoE2RRWAaA50iEwkagQZFJoZpDNMEGYhXKTYpMiVkJS8v2jKyFTFIYuc/QQGtk6a6KAUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Layer com colliders\"\n        title=\"Layer com colliders\"\n        src=\"/static/8910a0dd98458e186da35267618eb9fe/a0d62/layer-area-colliders.png\"\n        srcset=\"/static/8910a0dd98458e186da35267618eb9fe/e3135/layer-area-colliders.png 256w,\n/static/8910a0dd98458e186da35267618eb9fe/06341/layer-area-colliders.png 512w,\n/static/8910a0dd98458e186da35267618eb9fe/a0d62/layer-area-colliders.png 754w\"\n        sizes=\"(max-width: 754px) 100vw, 754px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Layer com colliders</figcaption>\n  </figure></p>\n<p>Existem vários tutoriais sobre como fazer isso, basta pesquisar <a href=\"https://www.google.com.br/search?q=javascript+calcular+area+2d+array\" target=\"_blank\" rel=\"noreferrer\">JavaScript calcular area 2d array</a> e você verá alguns resultados. Depois de criar esses colliders, vou salvá-los em uma nova propriedade na layer chamada <code class=\"language-text\">hideOrShowOnContactTriggers</code> para que eu possa usá-los mais tarde na game scene.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">dynamicLayer<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> value<span class=\"token punctuation\">,</span> name <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> property<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> customColliders <span class=\"token operator\">=</span> <span class=\"token function\">generateCustomCollidersForAreaOf2DLayer</span><span class=\"token punctuation\">(</span>dynamicLayer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    dynamicLayer<span class=\"token punctuation\">.</span>hideOrShowOnContactTriggers <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        scene<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> customColliders<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> dynamicLayer<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// if the layer is supposed to start the game hidden, then set it's alpha to 0</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'isHidden'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        dynamicLayer<span class=\"token punctuation\">.</span><span class=\"token function\">setAlpha</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com essa lógica pronta, posso voltar ao meu loop principal e iniciar a lógica da colisão com o herói. Primeiro vou pegar todos os tiles da layer que estão na mesma posição que o herói, se o herói estiver realmente em contato com qualquer um desses tiles, isso significa que eu preciso fazer a layer ficar oculta, se o herói não estiver em contato com nenhum dos tiles da layer, então a layer deverá ser exibida.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// dynamicLayers is an array of Phaser.GameObjects.Group</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> dynamicLayers <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">;</span>\r\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>dynamicLayers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dynamicLayerGroup</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> layers <span class=\"token operator\">=</span> dynamicLayerGroup<span class=\"token punctuation\">.</span><span class=\"token function\">getChildren</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Check layers that should be hidden/shown on contact</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>layer<span class=\"token punctuation\">.</span>hideOrShowOnContact<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>layer<span class=\"token punctuation\">.</span>hideOrShowOnContactTriggers<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> tiles <span class=\"token operator\">=</span> layer<span class=\"token punctuation\">.</span><span class=\"token function\">getTilesWithinWorldXY</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height\r\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> tiles<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">t</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\r\n                    t<span class=\"token operator\">?.</span>index <span class=\"token operator\">>=</span> <span class=\"token number\">0</span>\r\n                    <span class=\"token operator\">&amp;&amp;</span> t<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> layer<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tweens<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token literal-property property\">targets</span><span class=\"token operator\">:</span> layer<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">alpha</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">ease</span><span class=\"token operator\">:</span> <span class=\"token string\">'Power2'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tweens<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token literal-property property\">targets</span><span class=\"token operator\">:</span> layer<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">alpha</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token literal-property property\">ease</span><span class=\"token operator\">:</span> <span class=\"token string\">'Power2'</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>É basicamente isso. Você pode ajustar os números do tween de acordo com as suas preferências, mas o resultado final com esses números é muito bom, eu acho.</p>\n<p>Ultimamente estou em uma onda de desenvolvimento muito boa, cheio de boas ideias para recursos no jogo, mas estou me esforçando muito para fazer um level design legal e ta difícil. Se você tiver alguma dica de como eu posso melhorar minhas skills de level design, por favor comente nesse post, porque eu realmente estou com dificuldades sinistras.</p>\n<p>Até o próximo devlog pessoal!</p>","fields":{"slug":"/2021/2021-07-06-escondendo-partes-do-mapa-com-o-phaser-js-game-devlog-21.pt-br/","path":"/blog/games/escondendo-partes-do-mapa-com-o-phaser-js-game-devlog-21/","locale":"pt-br"},"readingTime":{"minutes":2.995},"frontmatter":{"date":"2021-07-06T00:00:00.000Z","title":"Escondendo partes do mapa com o Phaser JS - Game Devlog #21","categories":["games"]}}},{"node":{"excerpt":"Fala galera! Estou finalmente de volta com outro devlog para…","html":"<p>Fala galera! Estou finalmente de volta com outro devlog para o jogo <a href=\"/pt-br/blog/tags/super-ollie-vs-pebble-corp/\">Super Ollie</a>, e hoje implementarei um elemento clássico de jogos de plataforma 2D, uma daquelas paradas que caem em cima do personagem quando ele passa por baixo, tipo uma estalactite.</p>\n<p><img src=\"/afce07b6a2fa5819c3b4faba127b9292/falling-spikes.gif\" alt=\"Estalactites que caem\"></p>\n<p>Primeiro vou criar a classe <code class=\"language-text\">stalactite</code>, bem simples:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Spike</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Sprite</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        scene<span class=\"token punctuation\">,</span>\r\n        x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n        y <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n        asset <span class=\"token operator\">=</span> <span class=\"token string\">'spike'</span><span class=\"token punctuation\">,</span>\r\n        enablePhysics <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n        addToScene <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n        frame<span class=\"token punctuation\">,</span>\r\n        name<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> asset<span class=\"token punctuation\">,</span> frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">||</span> asset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>addToScene<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            scene<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>enablePhysics<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora no meu loop do <code class=\"language-text\">dataLayer</code> (que expliquei no <a href=\"/pt-br/blog/games/criando-inimigos-e-itens-colecionaveis-no-phaser-js-skate-platformer-game-devlog-8/\">devlog 8</a>) vou adicionar um caso para as estalactites (spike) a serem adicionadas.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// in the scene create function</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">,</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'spike'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// TODO add spike logic here</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Antes de entrar na lógica, meu objetivo é ser capaz de adicionar uma estalactite onde eu quiser pelo <code class=\"language-text\">Tiled</code>, e o código irá automaticamente fazer a estalactite funcionar.</p>\n<p>Como funciona uma estalactite dessas que caem em jogos de plataforma? Bem, quando o jogador passa por debaixo dela, ela cai nele, imediatamente ou alguns milissegundos depois, e para isso precisamos de um custom collider no chão, que quando o jogador interagir com ele, fará com que a estalactite caia.</p>\n<p>Essa é a mecânica que eu quero automatizar, e para isso vou criar uma lógica para que a estalactite decida automaticamente onde o custom collider estará no mapa a partir da sua posição inicial.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'spike'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> spike <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Spike</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n        x<span class=\"token punctuation\">,</span>\r\n        y<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> customCollider <span class=\"token operator\">=</span> <span class=\"token function\">createColliderFromGameObjectToGround</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n        spike<span class=\"token punctuation\">,</span>\r\n        mapSize<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">.</span>dynamicLayers<span class=\"token punctuation\">.</span>ground\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> spikeY <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> spike<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> collider <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n        customCollider<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// TODO handle spike falling</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n        spike<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// TODO handle spike hitting the player</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A função <code class=\"language-text\">createColliderFromGameObjectToGround</code> terá toda a lógica para obter a posição da estalactite e encontrar o tile do tipo <code class=\"language-text\">ground</code> mais próximo de sua posição e colocar um custom collider lá.</p>\n<p>Dentro desta nova função, vou precisar de 2 outras funções, <code class=\"language-text\">createInteractiveGameObject</code>, que mostrei no <a href=\"/pt-br/blog/games/criando-uma-ai-mais-inteligente-e-performatica-no-phaser-js-skate-platformer-game-devlog-15/\">devlog 15</a>, e uma nova função chamada <code class=\"language-text\">isBelowTileCollidable</code>, que receberá um Game Object e verificará se o tile abaixo desse objeto é colidível ou não.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> isBelowTileCollidable <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\r\n    gameObject<span class=\"token punctuation\">,</span>\r\n    dynamicLayer <span class=\"token comment\">// single layer or GameObject Group</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> layers <span class=\"token operator\">=</span> dynamicLayer<span class=\"token operator\">?.</span>getChildren<span class=\"token operator\">?.</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span>dynamicLayer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">let</span> tile <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n    layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        tile <span class=\"token operator\">=</span> layer<span class=\"token punctuation\">.</span><span class=\"token function\">getTileAtWorldXY</span><span class=\"token punctuation\">(</span>\r\n            x <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\r\n            y <span class=\"token operator\">+</span> height <span class=\"token operator\">+</span> <span class=\"token number\">0.5</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            result <span class=\"token operator\">=</span> tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>collideUp<span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para a função <code class=\"language-text\">createColliderFromGameObjectToGround</code>, eu irei criar um loop do tamanho da altura do mapa e, a partir da posição da estalactite, começar a buscar pelo tile do tipo <code class=\"language-text\">ground</code> mais próximo, e também usarei a função <code class=\"language-text\">some</code> para poder sair do loop quando um tile for encontrado.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">createColliderFromGameObjectToGround</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token parameter\">scene<span class=\"token punctuation\">,</span>\r\n    gameobject<span class=\"token punctuation\">,</span>\r\n    mapSize<span class=\"token punctuation\">,</span>\r\n    mapLayer</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> customCollider<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// TODO improve the size of this array</span>\r\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>mapSize<span class=\"token punctuation\">.</span>height <span class=\"token operator\">/</span> gameobject<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token parameter\">val<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> posY <span class=\"token operator\">=</span> gameobject<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_HEIGHT</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            result <span class=\"token operator\">=</span> <span class=\"token function\">isBelowTileCollidable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                    <span class=\"token operator\">...</span>gameobject<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> posY<span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                mapLayer\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> spikeHeight <span class=\"token operator\">=</span> gameobject<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>posY <span class=\"token operator\">-</span> gameobject<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                customCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n                    scene<span class=\"token punctuation\">,</span>\r\n                    gameobject<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token comment\">// posY,</span>\r\n                    posY <span class=\"token operator\">-</span> spikeHeight <span class=\"token operator\">+</span> gameobject<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">,</span>\r\n                    gameobject<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token comment\">// spike.height,</span>\r\n                    spikeHeight<span class=\"token punctuation\">,</span>\r\n                    gameobject<span class=\"token punctuation\">.</span>name\r\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> customCollider<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Com essas 2 funções criadas, eu posso voltar ao meu loop do <code class=\"language-text\">dataLayer</code> e trabalhar na lógica da estalactite, por enquanto quero que a estalactite caia quando o jogador interagir com o custom collider, e em seguida, fazer a estalactite reaparecer no teto após 2 segundos.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'spike'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> spike <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Spike</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n        x<span class=\"token punctuation\">,</span>\r\n        y<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> customCollider <span class=\"token operator\">=</span> <span class=\"token function\">createColliderFromGameObjectToGround</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n        spike<span class=\"token punctuation\">,</span>\r\n        mapSize<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">.</span>dynamicLayers<span class=\"token punctuation\">.</span>ground\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// if for some reason the collider was not created, do nothing.</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>customCollider<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> spikeY <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> spike<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> collider <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            customCollider<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>spike<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>allowGravity<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    spike<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                        spike<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                        spike<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAcceleration</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        spike<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocity</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        spike<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>spikeY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        spike<span class=\"token punctuation\">.</span><span class=\"token function\">setActive</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        spike<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n            spike<span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>spike<span class=\"token operator\">?.</span>visible<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gameHud<span class=\"token punctuation\">.</span><span class=\"token function\">decreasePlayerLife</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    spike<span class=\"token punctuation\">.</span><span class=\"token function\">setActive</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    spike<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        spike<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Com o modo de debug ativado, é assim que o custom collider aparece no jogo:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.28125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnklEQVQoz4XO3U9SARjH8fOvCG6VcXg5r4gczgsgyAHUOa/qotZyc7V8LXKxyrU2bTOnXUTCwTeEc4gU8WXV1lVra7XWRdFyOWekq7yB8wIllqehaV3V9r14bj77PQA8uAYPrhkHPmanfWUBlHhYEaB/JPPwYQB6a3UPrx9gXOZxKWFWBFz665B5XBEwRcBlHvmDzcNZ6HbOOJR7O+1TH+gvttpJxNdMexwYy1o9XqvHgXn9No+njnVgPifqfj1SW05BYmJ/eWQdvpMzjm5mY/4fSfDxTWyghW2t8Sd7mC6abbeyqV7mBOi/0eiZCViiHZYch5aSsPQb383BoQ1j6HM27t9OgLtLpvxow9PzrJqmVvpdb4IuNUM972C3htzqI8PuPFyRh28j4U8It2mKfn0Xbyzz+jwPySHnd85ZCFNFjilFmXyY+hZxyvec+YSpEEf2NyUeLsRhALsvo7Et4+RWNu4tx4+KAqSE7TJHKhwlTxDyOKFwlBQl5bBdFkz7gxIPFwV4N40C1q4pNPLBnCqsZs7sLHullFkZY5QopXCUMm6rxO3dB3hPQl8msVgvBRBHbNjoC3ypuJo+vTPvE/+HxQS8nTKthCy4zg0QRhYPvcIeFicvtD1rc5SmCDHMyBFajNBSlJSiNjFCyxFKGnOIPCQmkHwcKSXhlZDFiboAAnTBsfeOl2qgPXD93EmVr1djNnXGps6QKm+tFCPVOKFO02pGr6ZNP9MmddGwMWFmoHqAMHiIy1P08JPg2f4rp/qSfS0LPd7lzua5S97FHv9it38u4F3qbFrobpq9ap8LOmaD9sw1ZrzXTUENAF5jR6vrEE0torXgWotOYwO1jKGKBrWUvqoSWE1XDi0NammdhtJpyONVpL6aRo/RvwD/rpYh2gmyswAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Custom colliders das estalactites\"\n        title=\"Custom colliders das estalactites\"\n        src=\"/static/683c6513701eb047f8fd1c483559b20d/663f3/spike-colliders.png\"\n        srcset=\"/static/683c6513701eb047f8fd1c483559b20d/e3135/spike-colliders.png 256w,\n/static/683c6513701eb047f8fd1c483559b20d/06341/spike-colliders.png 512w,\n/static/683c6513701eb047f8fd1c483559b20d/663f3/spike-colliders.png 650w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Custom colliders das estalactites</figcaption>\n  </figure></p>\n<p>Isso é tudo por hoje, até o próximo devlog!</p>","fields":{"slug":"/2021/2021-06-28-criando-estalactites-que-caem-com-phaser-js-game-devlog-20.pt-br/","path":"/blog/games/criando-estalactites-que-caem-com-phaser-js-game-devlog-20/","locale":"pt-br"},"readingTime":{"minutes":3.965},"frontmatter":{"date":"2021-06-28T00:00:00.000Z","title":"Criando estalactites que caem com Phaser JS - Game Devlog #20","categories":["games"]}}},{"node":{"excerpt":"Em um de meus primeiros devlogs do jogo Super Ollie, eu…","html":"<p><a href=\"/pt-br/blog/games/segundo-game-devlog-do-skate-platformer/\">Em um de meus primeiros devlogs do jogo Super Ollie</a>, eu expliquei como automatizar a geração de sprite sheets para o Phaser 3 usando Webpack, mas acho que seria mais útil se eu tivesse um script externo para fazer isso, para que qualquer pessoa pudesse usá-lo.</p>\n<p>Mas porque não simplesmente usar um daqueles sites que combinam arquivos <code class=\"language-text\">PNG</code> em um sprite sheet? Bem, porque o Phaser não precisa apenas do sprite sheet em <code class=\"language-text\">PNG</code>, mas também de um arquivo atlas em <code class=\"language-text\">JSON</code> com todos os detalhes do sprite sheet, como o nome do frame e as dimensões da imagem.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 658px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZElEQVQY011RS0/qUBD2p7sxcePKhQv/ghoFvNH4SIyJIkrKJfcqURQoWEopfdD2nJ5zOvOZWkzUbzUzyffKrAHIjFrIFIAiUw7M+Ab+XPnnscIagJY72O1eAXgMnB3rkogKKsCYZvHJ8F+YZ2f2YyxKdf5SUUoRUUlue8O9/gOI32L/oN/WxlTClmdv3h1bnr1+c/i2cAEYU5iiMMasyMw8n8+d8XuapFEQ2oORlLLZvN3f258bcT55GqdBfdidRAsAuVJPvV4mhNZ65RzI9O90BCBR0nIGAJrN29pRLSZde+2Mk+Dgpb3MythCyHq9sUyWxpiiIt97o+3OBRjP8WyrfZobXcX+v3A2W3+up/2NVmMYzAAQ0+/OPf+98WJpradJeNzvyDwnIjDcNDoZdJ9952rc85MIxEopledaayHEqnMUhO7EkTJP4qVjT6QQ1Y8AyEyEnk9FacjMUsiZOxNCVv4fvWi9umk4FTEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Sprites feito por kenney.nl\"\n        title=\"Sprites feito por kenney.nl\"\n        src=\"/static/8a32f26bd9206da785dc3795034528f5/e7930/hero-sprite-sheet.png\"\n        srcset=\"/static/8a32f26bd9206da785dc3795034528f5/e3135/hero-sprite-sheet.png 256w,\n/static/8a32f26bd9206da785dc3795034528f5/06341/hero-sprite-sheet.png 512w,\n/static/8a32f26bd9206da785dc3795034528f5/e7930/hero-sprite-sheet.png 658w\"\n        sizes=\"(max-width: 658px) 100vw, 658px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Sprites feito por kenney.nl</figcaption>\n  </figure></p>\n<p>Para isso, vou usar o package <a href=\"https://www.npmjs.com/package/free-tex-packer-core\" target=\"_blank\" rel=\"noreferrer\">free-tex-packer-core</a> feito pelo <a href=\"https://github.com/odrick\" target=\"_blank\" rel=\"noreferrer\">odrick</a>. O uso básico em sua documentação é o seguinte:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> packAsync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'free-tex-packer-core'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> images <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"img1.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">contents</span><span class=\"token operator\">:</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./img1.png\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"img2.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">contents</span><span class=\"token operator\">:</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./img2.png\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"img3.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">contents</span><span class=\"token operator\">:</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./img3.png\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">allowRotation</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">packImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> files <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">packAsync</span><span class=\"token punctuation\">(</span>images<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> item <span class=\"token keyword\">of</span> files<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Isso por si só já é super útil, mas eu quero melhorar isso e gerar sprite sheets para todos os meus sprites, e a estrutura como tenho meus arquivos e pastas é:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- original-files\r\n  - sprites\r\n    - hero\r\n      - hero_walking_1.png\r\n      - hero_walking_2.png\r\n      - hero_walking_3.png\r\n      - hero_jumping_1.png\r\n      - hero_jumping_2.png\r\n    - enemy\r\n      - enemy_walking_1.png\r\n      - enemy_walking_2.png</code></pre></div>\n<p>Com essa estrutura de diretórios, eu posso ter o seguinte script que percorrerá todos os diretórios no meu diretório de sprites e pegará as imagens dentro de cada um deles:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> packAsync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'free-tex-packer-core'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> readFileSync<span class=\"token punctuation\">,</span> readdirSync<span class=\"token punctuation\">,</span> writeFileSync <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">SOURCE_SPRITES_PATH</span> <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'original-files'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sprites'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">SPRITES_PATH</span> <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'assets'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sprites'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">generateAtlasFiles</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">assetName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> spritesFolders<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// use the parameter or get all folders from a directory</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>assetName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        spritesFolders <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>assetName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        spritesFolders <span class=\"token operator\">=</span> <span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SOURCE_SPRITES_PATH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> spritesFolder <span class=\"token keyword\">of</span> spritesFolders<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> spritesFiles <span class=\"token operator\">=</span> <span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token constant\">SOURCE_SPRITES_PATH</span><span class=\"token punctuation\">,</span> spritesFolder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> images <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        spritesFiles<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">spritesFile</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            images<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> spritesFile<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">contents</span><span class=\"token operator\">:</span> <span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>\r\n                    path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token constant\">SOURCE_SPRITES_PATH</span><span class=\"token punctuation\">,</span> spritesFolder<span class=\"token punctuation\">,</span> spritesFile<span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">await</span> <span class=\"token function\">packImages</span><span class=\"token punctuation\">(</span>images<span class=\"token punctuation\">,</span> spritesFolder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">packImages</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">images<span class=\"token punctuation\">,</span> spriteName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> files <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">packAsync</span><span class=\"token punctuation\">(</span>images<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">allowRotation</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// let's save the png and json files</span>\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> item <span class=\"token keyword\">of</span> files<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// get the file extension</span>\r\n            <span class=\"token keyword\">const</span> fileExt <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">at</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token comment\">// save the file in the sprites directory</span>\r\n            <span class=\"token keyword\">await</span> <span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>\r\n                path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token constant\">SPRITES_PATH</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>spriteName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fileExt<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                item<span class=\"token punctuation\">.</span>buffer\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">// process.argv[2] is the argument from the command when you run `node script.js arg`</span>\r\n<span class=\"token function\">generateAtlasFiles</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Este script irá criar os arquivos <code class=\"language-text\">my-sprite.png</code> e <code class=\"language-text\">my-sprite.json</code> para cada um de seus sprites em sua pasta de sprites ao executar <code class=\"language-text\">node generate-sprites.js</code>, ou <code class=\"language-text\">node generate-sprites.js hero</code> para gerar sprites sheets para apenas um sprite, neste caso o sprite <code class=\"language-text\">hero</code>.</p>\n<p>Espero que esse post tenha sido útil para você, até a próxima.</p>","fields":{"slug":"/2021/2021-06-22-como-gerar-sprite-sheets-automaticamente-para-o-seu-jogo-feito-com-phaser-js.pt-br/","path":"/blog/games/como-gerar-sprite-sheets-automaticamente-para-o-seu-jogo-feito-com-phaser-js/","locale":"pt-br"},"readingTime":{"minutes":2.51},"frontmatter":{"date":"2021-06-22T00:00:00.000Z","title":"Como gerar sprite sheets automaticamente para o seu jogo feito com Phaser JS","categories":["games"]}}},{"node":{"excerpt":"Fala pessoal, o devlog de hoje será muito semelhante ao…","html":"<p>Fala pessoal, o devlog de hoje será muito semelhante ao <a href=\"/pt-br/blog/games/criando-escadas-para-platformer-com-o-phaser-js-game-devlog-18/\">anterior</a>, mas em vez de subir uma escada, vou para implementar uma “Monkey Bar” na qual o herói possa se pendurar.</p>\n<p><img src=\"/05b626e03a5aa8631fbde669d7cd9b42/monkey_bar.gif\" alt=\"Monkey Bar\"></p>\n<p>Como sempre, criei uma nova propriedade chamada <code class=\"language-text\">canHang</code> no meu tileset, e usei a função <code class=\"language-text\">getOverlappingTileWithGameobjectDimensions</code> que implementei no último devlog para procurar um tile com essa propriedade.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hero hanging</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isUpDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroHanging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> <span class=\"token function\">getOverlappingTileWithGameobjectDimensions</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">.</span>dynamicLayers<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">'canHang'</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>canHang<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">HANGING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora que tenho o código para definir o estado do herói para <code class=\"language-text\">HANGING</code>, preciso adicionar o código para lidar com movimentações para a esquerda e direita, e pular.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroHanging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// Handle hero jump when hanging</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isAButtonJustDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JUMPING_START</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> <span class=\"token function\">getOverlappingTileWithGameobjectDimensions</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">.</span>dynamicLayers<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">'canHang'</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>canHang<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">.</span>customCollider<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> y<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> tile<span class=\"token punctuation\">.</span>customCollider<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> adjustedPosY <span class=\"token operator\">=</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> y <span class=\"token operator\">+</span> height <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> adjustedPosY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>adjustedPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isLeftDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">HANGING_LEFT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isRightDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">HANGING_RIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">HANGING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">IDLE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>O próximo passo é lidar com o movimento físico quando o herói estiver se pendurando:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hanging movement</span>\r\n<span class=\"token keyword\">let</span> newAccelerationX <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>acceleration<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">let</span> newAccelerationY <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>acceleration<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">HANGING_RIGHT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationX <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">HANGING_LEFT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationX <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">HANGING</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationY <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityX</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAccelerationX</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAccelerationX</span><span class=\"token punctuation\">(</span>newAccelerationX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAccelerationY</span><span class=\"token punctuation\">(</span>newAccelerationY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Claro, eu também preciso reiniciar a gravidade quando o herói não estiver pendurado:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Reset gravity when is not climbing</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroClimbing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A única coisa que falta agora são as animações:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hero hanging animation</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroHanging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hang'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">HANGING</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">pauseAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hang'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">HANGING_RIGHT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFlipX</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">HANGING_LEFT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFlipX</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E por hoje é isso, até o próximo devlog!</p>","fields":{"slug":"/2021/2021-06-19-criando-uma-monkey-bar-para-se-pendurar-com-o-phaser-js-game-devlog-19.pt-br/","path":"/blog/games/criando-uma-monkey-bar-para-se-pendurar-com-o-phaser-js-game-devlog-19/","locale":"pt-br"},"readingTime":{"minutes":1.68},"frontmatter":{"date":"2021-06-19T00:00:00.000Z","title":"Criando uma \"Monkey Bar\" para se pendurar com o Phaser JS - Game Devlog #19","categories":["games"]}}},{"node":{"excerpt":"Há 6785 dias atrás, Metroid 4 (também conhecido como Metroid…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAP/aAAwDAQACEAMQAAAB5tErS1GCf//EABoQAAMAAwEAAAAAAAAAAAAAAAABAgMREhP/2gAIAQEAAQUChpnMaWQmuT2bR//EABkRAAIDAQAAAAAAAAAAAAAAAAACARITIf/aAAgBAwEBPwGzT03c/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREv/aAAgBAgEBPwGIyj//xAAYEAEAAwEAAAAAAAAAAAAAAAARAAEQUf/aAAgBAQAGPwInMSoFZ//EABsQAQADAQADAAAAAAAAAAAAAAEAESFBUXGB/9oACAEBAAE/IUONNlVhQGq5coNH5LmjOksV76jXif/aAAwDAQACAAMAAAAQzM//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEDAQE/EHmswBLv/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxCrEr//xAAeEAEBAAEDBQAAAAAAAAAAAAABEQAhMVFhcZGh0f/aAAgBAQABPxBHEIQ7Xd9YbMYIpahPmPOy9mO5SwlhwV2JK18ecdHRzn//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Metroid Dread\"\n        title=\"Metroid Dread\"\n        src=\"/static/779614672fa641c3196af685498d62c4/63217/metroid-dread.jpg\"\n        srcset=\"/static/779614672fa641c3196af685498d62c4/db830/metroid-dread.jpg 256w,\n/static/779614672fa641c3196af685498d62c4/8102f/metroid-dread.jpg 512w,\n/static/779614672fa641c3196af685498d62c4/63217/metroid-dread.jpg 1024w,\n/static/779614672fa641c3196af685498d62c4/62aaf/metroid-dread.jpg 1280w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Metroid Dread</figcaption>\n  </figure></p>\n<p>Há 6785 dias atrás, Metroid 4 (também conhecido como Metroid Fusion) foi lançado. Isso foi muito tempo atrás, eu ainda estava aprendendo a mandar flip e nem sabia usar a internet direito. Foram 2 anos antes de eu criar o meu primeiro blog, sucrilhoscomlasanha.blogspot.com.</p>\n<p>E ai, do nada, no meio de uma pandemia global, em 2021, a Nintendo não só finalmente anuncia Metroid 5, a sequência de Metroid Fusion 19 anos depois, como divulga que o jogo é o legendário Metroid Dread, que tem sido rumorizado pela comunidade de fãs de Metroid desde 2005. E não só isso, mas o jogo será lançado esse ano! Boom!</p>\n<p>Além disso, eu descobri que eu tenho visão do futuro:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.015625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClUlEQVQoz0WSbVOicBTFyadAq1VXS0ECQcVSw1R84BmBvwKCaGmlppnlNvv9P8CutjM785vz4szcOffeORBWrmdLbLZYIaotut6l2A7JdjutntnomE1ev+9oLNfhumRXwrluutZoiYIiiYLM49UGBKNUNFeAMQrO5OFs/ltZ9q7P9cT7jsrxUrPHyXzGG6R9K+mCK10lZYUEerRwAyEYBaNH6PJpoRymmCDFkG2uJYsNSWiIfEsSWNvEZz7xNEUfvHPHjPv2mW2eEkUIwWgYpc7yJWwgp3QeNUUUSJdASgIJktv/EDmIb35zInAnAhcQ2zDFQDG8CKPUBcXkHR33bcIf4uMB4Q8ThoSoPUTlo5qAaDyiCUhfgDUeVvmQ1A7JncMwkjskX+QZwu5j0xHm27mJQz56P209PlDjQE07RhyoyWE/dXQSQy0ktQMSh9Dl49rZfIwoXTlmeuKkvGHKs9Jj64dlwLqEGPK3RjQxoHQDSi+gdEMaH9L4WLFyeBiSpSJ4oTifNrerynJ2u5jV1wtu/17drRu/3uv7bfv3Z+H1OQTUyECLDLQw0MKm+u9mBC8mswSwgPb8IPiOOp/qnt0C/fiDm5m6V49e5tFLjK0wUP9jqqcUA0UxGsHoc5TkXcvYrvTXF2k5NxbzO88KDLSgIQcMOWgqIVMJHgkdCZvKYRhGqViODl8X8PmE+9pV3pb0csZ+bMpvK2b9cvO2LK1f6OW8sl1djEDMNmKOiVh62FC+S0LHMDpyXcCfJux+y2yXt++r2sem9rG53b2y+23ja1f73FR3Byf3PKVWT8Rihlg6TJcPyYdWXhdSwMDHI8xzcN/FXCc/HaOunRlZqGvjvktOvEtnEBC757qaskAC9P827A9wMZf/Lb4YtgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Conversa no Whatsapp\"\n        title=\"Conversa no Whatsapp\"\n        src=\"/static/471abacba79e6dee80307e0564f1a35c/42a19/metroid-dread-prediction.png\"\n        srcset=\"/static/471abacba79e6dee80307e0564f1a35c/e3135/metroid-dread-prediction.png 256w,\n/static/471abacba79e6dee80307e0564f1a35c/06341/metroid-dread-prediction.png 512w,\n/static/471abacba79e6dee80307e0564f1a35c/42a19/metroid-dread-prediction.png 1024w,\n/static/471abacba79e6dee80307e0564f1a35c/b4ad3/metroid-dread-prediction.png 1080w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Conversa no Whatsapp</figcaption>\n  </figure></p>\n<p>A apresentação foi incrível, porque primeiro mostraram simplesmente “Metroid 5”, igual como mostra “Metroid 3” no Super Metroid e “Metroid 4” no Metroid Fusion, isso ja foi mindblowing, e depois de um pouco de gameplay eles revelam o nome do jogo: “Metroid Dread”. Whaaaat?!?</p>\n<p>Como esse ano não teve E3 presencial, eu assisti o Nintendo Direct com uns amigos via Google Meets, e gravei a nossa reação do reveal do jogo:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/U926deUqD4g?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Depois Yoshio Sakamoto falou um pouco sobre o jogo e sobre como esse jogo vai concluir a história da Samus com os Metroids. Espero que isso não signifique o fim da franquia, mas vamos ver. Veja o vídeo abaixo:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/afUI8nIrGgI?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Esse é basicamente o jogo que eu mais esperei durante a minha vida, porque eu entrei no mundo de Metroid no SNES com Super Metroid, e poucos anos depois tivemos Metroid Fusion e logo depois Metroid: Zero Mission, e ai fiquei com aquele feeling de “qualquer E3 dessas, vão apresentar Metroid 5”. E bom, demorou 19 anos mas aqui estamos!</p>\n<p>É estranho pensar que esta é a <a href=\"/pt-br/search/metroid\">primeira vez que escrevo sobre Metroid neste blog</a> e, na verdade, sou mais fã de Metroid do que de Zelda, e eu tenho esse blog <a href=\"/pt-br/blog/general/primeiro-post/\">há 13 anos</a>.</p>\n<p><a href=\"https://twitter.com/twilisita/status/1404880135908691975\" target=\"_blank\" rel=\"noreferrer\">Obrigado Nintendo</a> ❤</p>","fields":{"slug":"/2021/2021-06-16-depois-de-19-anos-metroid-5-e-anunciado.pt-br/","path":"/blog/games/depois-de-19-anos-metroid-5-e-anunciado/","locale":"pt-br"},"readingTime":{"minutes":1.665},"frontmatter":{"date":"2021-06-16T00:00:00.000Z","title":"Depois de 19 anos, Metroid 5 é anunciado","categories":["games"]}}},{"node":{"excerpt":"Fala galera, estou de volta com outro devlog para o jogo…","html":"<p>Fala galera, estou de volta com outro devlog para o jogo Super Ollie. Hoje vou explicar como adicionei o recurso de subir escadas ao jogo.</p>\n<p><img src=\"/613bc60519218869db385344997f27fa/climbing_ladder.gif\" alt=\"Subindo a escada\"></p>\n<p>Para fazer isso, eu criei uma nova propriedade para o meu tileset chamada <code class=\"language-text\">canClimb</code>, e então posso adicionar-la individualmente em qualquer tile do meu tileset. Agora, sempre que o jogador pressiona para cima, eu tenho um código que verifica se o herói está em um tile onde <code class=\"language-text\">canClimb</code> é true e, em seguida, troco o estado do herói para <code class=\"language-text\">CLIMBING</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hero climbing</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isUpDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroClimbing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> <span class=\"token function\">getOverlappingTileWithGameobjectDimensions</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">.</span>dynamicLayers<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">'canClimb'</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>canClimb<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CLIMBING_UP</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A função <code class=\"language-text\">getOverlappingTileWithGameobjectDimensions</code> verificará todas as layers por um tile com a propriedade enviada no último parâmetro da função:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getOverlappingTileWithGameobjectDimensions</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token parameter\">gameObject<span class=\"token punctuation\">,</span>\r\n    dynamicLayer<span class=\"token punctuation\">,</span>\r\n    property <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span></span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">;</span>\r\n    <span class=\"token comment\">// get an array of layers</span>\r\n    <span class=\"token keyword\">const</span> layers <span class=\"token operator\">=</span> dynamicLayer<span class=\"token operator\">?.</span>getChildren<span class=\"token operator\">?.</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span>dynamicLayer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">let</span> tile <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\r\n    layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> layer<span class=\"token punctuation\">.</span><span class=\"token function\">getTilesWithinWorldXY</span><span class=\"token punctuation\">(</span>\r\n            x<span class=\"token punctuation\">,</span>\r\n            y<span class=\"token punctuation\">,</span>\r\n            width<span class=\"token punctuation\">,</span>\r\n            height\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resultTile</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>property<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>resultTile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span>property<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    tile <span class=\"token operator\">=</span> resultTile<span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n                tile <span class=\"token operator\">=</span> resultTile<span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> tile<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Isso definirá corretamente o estado para <code class=\"language-text\">CLIMBING</code>, e agora precisamos mudar a física do herói para permitir que ele suba a escada, para isso irei desativar a gravidade para o body do herói e também diminuir as velocidades <code class=\"language-text\">X</code> e <code class=\"language-text\">Y</code> de movimentação:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> newAccelerationX <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>acceleration<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">let</span> newAccelerationY <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>acceleration<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// Handle climbing movement</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">CLIMBING_RIGHT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationX <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">CLIMBING_LEFT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationX <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">CLIMBING_UP</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationY <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">CLIMBING_DOWN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationY <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">CLIMBING</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    newAccelerationY <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    newAccelerationX <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAccelerationX</span><span class=\"token punctuation\">(</span>newAccelerationX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAccelerationY</span><span class=\"token punctuation\">(</span>newAccelerationY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E, claro, também preciso reiniciar a gravidade quando o herói não estiver subindo escadas:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Reset gravity when is not climbing</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroClimbing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Eeee as animações:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hero climbing animation</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroClimbing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'climb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroState <span class=\"token operator\">===</span> <span class=\"token constant\">CLIMBING</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">pauseAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'climb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E por hoje é isso, até o próximo devlog!</p>","fields":{"slug":"/2021/2021-06-05-criando-escadas-para-platformer-com-o-phaser-js-game-devlog-18.pt-br/","path":"/blog/games/criando-escadas-para-platformer-com-o-phaser-js-game-devlog-18/","locale":"pt-br"},"readingTime":{"minutes":1.945},"frontmatter":{"date":"2021-06-05T00:00:00.000Z","title":"Criando escadas para platformer com o Phaser JS - Game Devlog #18","categories":["games"]}}},{"node":{"excerpt":"Ao fazer um site usando JAMStack, alguns compromissos…","html":"<p>Ao fazer um site usando JAMStack, alguns compromissos precisam ser feitos, mas a habilidade de pesquisar não é um deles, graças a bibliotecas JavaScript como <a href=\"https://github.com/nextapps-de/flexsearch\" target=\"_blank\" rel=\"noreferrer\">flexsearch</a> e <a href=\"https://github.com/olivernn/lunr.js/\" target=\"_blank\" rel=\"noreferrer\">lunr.js</a>.</p>\n<p>Depois de seguir <a href=\"https://labs.walltowall.com/easy-client-side-search-for-gatsby-sites/\" target=\"_blank\" rel=\"noreferrer\">este tutorial</a> e combinar o código com o <a href=\"https://material-ui.com/components/autocomplete/\" target=\"_blank\" rel=\"noreferrer\">componente de autocomplete do Material UI</a>, eu consegui criar a barra de busca que você vê neste blog.</p>\n<p><img src=\"/fc4482c8ac57987aed00951b3a87145f/search-bar-results.gif\" alt=\"Resultados de busca\"></p>\n<p>Isso já foi bom, mas eu gostaria também de ter uma página de busca, onde um termo pudesse ser buscado nas tags, título e conteúdo do post.</p>\n<h2 id=\"criando-de-um-index-de-busca\" style=\"position:relative;\"><a href=\"#criando-de-um-index-de-busca\" aria-label=\"criando de um index de busca permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criando de um index de busca</h2>\n<p>First I will add the following code to my Gatsby config, this will create a new <code class=\"language-text\">localSearchPage</code> index to be queried via GraphQL.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token operator\">...</span>otherConfigs<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token string\">'gatsby-plugin-local-search'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'page'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">query</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n                {\r\n                    allMarkdownRemark(\r\n                        filter: {\r\n                            frontmatter:{ show: { eq: true } }\r\n                        }\r\n                        sort: { fields: [frontmatter___date], order: DESC }\r\n                        limit: 1000\r\n                    ) {\r\n                        edges {\r\n                            node {\r\n                                id\r\n                                fields {\r\n                                    locale\r\n                                    path\r\n                                }\r\n                                frontmatter {\r\n                                    date\r\n                                    title\r\n                                    show\r\n                                    tags\r\n                                }\r\n                                rawMarkdownBody\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token string\">'flexsearch'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">engineOptions</span><span class=\"token operator\">:</span> <span class=\"token string\">'speed'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">ref</span><span class=\"token operator\">:</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tags'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'body'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">store</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'path'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tags'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'locale'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'body'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'date'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"a-pagina-de-busca\" style=\"position:relative;\"><a href=\"#a-pagina-de-busca\" aria-label=\"a pagina de busca permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A página de busca</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 959px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJ0lEQVQY02XP4W6DIBAAYB+k7dpVhiIccMrauakFFJj7t+z9n2XRNUu3frmQ48jljqzrusPhwBirqirP87quCSGUUkTc7/cAUJbl42q73e52u81mw2hplCDkITPGFEXBGOOcU0oBgFJaFAUAEEI454yxp1W+Oh6PrCilqCjNs3meh2HgnAshlFJSSrWSUmqtf65aa3VDSgmw1LOY0hRC3/fOOdRarABAAFyTa0WqO1mMMaU0f8wpReedtTbGYIfBXy7Oe2utc34cfdd1Qojfva7N7yl5vzw7Z62z3rs4jcMUus8v732YphDCOI7e+77vjTG3/dn5dMa6MeZkzLlZ4oSoddPIl1ZrjYgalxMRjTGI+Gdy274q3Zjndo23xrzIlQKQd/79+Rtxw18oUHOvIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Página de busca\"\n        title=\"Página de busca\"\n        src=\"/static/dd40bbda0c272f4cda51e6846bd7bf54/c19a6/search-page.png\"\n        srcset=\"/static/dd40bbda0c272f4cda51e6846bd7bf54/e3135/search-page.png 256w,\n/static/dd40bbda0c272f4cda51e6846bd7bf54/06341/search-page.png 512w,\n/static/dd40bbda0c272f4cda51e6846bd7bf54/c19a6/search-page.png 959w\"\n        sizes=\"(max-width: 959px) 100vw, 959px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Página de busca</figcaption>\n  </figure></p>\n<p>Conforme mostrado no tutorial, o hook <code class=\"language-text\">useFlexSearch</code> pode ser usado para obter os resultados da busca, mas não há nenhuma indicação de onde o termo buscado foi correspondido nos campos do post.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> urlParams <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">URLSearchParams</span><span class=\"token punctuation\">(</span>location<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> urlParams<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'q'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token function\">useFlexSearch</span><span class=\"token punctuation\">(</span>\r\n    query<span class=\"token punctuation\">,</span>\r\n    data<span class=\"token punctuation\">.</span>localSearchPage<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">,</span>\r\n    data<span class=\"token punctuation\">.</span>localSearchPage<span class=\"token punctuation\">.</span>store\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getExcerpt</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">post<span class=\"token punctuation\">,</span> length <span class=\"token operator\">=</span> <span class=\"token number\">60</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// magic happens here</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> results<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> \r\n            <span class=\"token operator\">...</span>post<span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">excerpt</span><span class=\"token operator\">:</span> <span class=\"token function\">getExcerpt</span><span class=\"token punctuation\">(</span>\r\n                post<span class=\"token punctuation\">.</span>excerpt\r\n                    <span class=\"token comment\">// let's remove any line breaks</span>\r\n                    <span class=\"token comment\">// or URLS</span>\r\n                    <span class=\"token comment\">// or remove the markdown tags etc</span>\r\n                    <span class=\"token comment\">// it would be better to do this in the build process</span>\r\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(?:https?|ftp):\\/\\/[\\n\\S]+</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\n</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">[</span>results<span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>A função <code class=\"language-text\">getExcerpt</code> precisa, de alguma forma, retornar o trecho do post com o termo buscado em destaque.</p>\n<p>Portanto, preciso encontrar a posição exata do termo buscado no post e substituí-lo por um elemento HTML <code class=\"language-text\">span</code>, tipo <code class=\"language-text\">&lt;span>termo buscado aqui&lt;/span></code> e, para isso, usarei o bom e velho Regex.</p>\n<p>Além disso, precisarei de uma função para “cortar” o texto e adicionar as reticências se necessário, e <a href=\"https://stackoverflow.com/a/41267747/4307769\" target=\"_blank\" rel=\"noreferrer\">este código do StackOverflow</a> fará o trabalho perfeitamente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">const</span> getExcerpt <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">text<span class=\"token punctuation\">,</span> length <span class=\"token operator\">=</span> <span class=\"token number\">60</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// makes it lowercase to be sure to find it</span>\r\n        <span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\\\\b(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)\\\\b</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> matchedRegex <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>matchedRegex<span class=\"token operator\">?.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// now let's create a regex using the actual word found, capital-sensitive</span>\r\n            <span class=\"token keyword\">const</span> actualQuery <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span>matchedRegex<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> actualRegex <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\\\\b(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>actualQuery<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)\\\\b</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token comment\">// start of the excerpt</span>\r\n            <span class=\"token keyword\">const</span> excerptEnd <span class=\"token operator\">=</span> <span class=\"token function\">truncateStringToWord</span><span class=\"token punctuation\">(</span>\r\n                text<span class=\"token punctuation\">.</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span>matchedRegex<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                length<span class=\"token punctuation\">,</span>\r\n                <span class=\"token boolean\">true</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token comment\">// yolo let's reverse the string and use the same function for the</span>\r\n            <span class=\"token comment\">// beginning of the excerpt too</span>\r\n            <span class=\"token keyword\">const</span> excerptStart <span class=\"token operator\">=</span> <span class=\"token function\">truncateStringToWord</span><span class=\"token punctuation\">(</span>\r\n                text<span class=\"token punctuation\">.</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> matchedRegex<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reverse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                length<span class=\"token punctuation\">,</span>\r\n                <span class=\"token boolean\">true</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> excerpt <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>excerptStart<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reverse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>excerptEnd<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">const</span> highlightedQuery <span class=\"token operator\">=</span> <span class=\"token function\">renderToString</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>span className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>classes<span class=\"token punctuation\">.</span>highlightedQuery<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n                    <span class=\"token punctuation\">{</span>actualQuery<span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token comment\">// if nothing was found it means that the query matched</span>\r\n            <span class=\"token comment\">// a tag or the post title</span>\r\n            <span class=\"token keyword\">return</span> excerpt<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>actualRegex<span class=\"token punctuation\">,</span> highlightedQuery<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token function\">truncateStringToWord</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>classes<span class=\"token punctuation\">.</span>highlightedQuery<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Este código irá transformar uma string tipo <code class=\"language-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed condimentum risus nec scelerisque auctor</code> em <code class=\"language-text\">Lorem ipsum dolor sit amet, consectetur &lt;span>adipiscing&lt;/span> elit. Sed condimentum risus nec scelerisque auctor</code> quando a busca for pela palavra <code class=\"language-text\">adipiscing</code>, e como esta string está em HTML, para exibi-la usarei a propriedade <code class=\"language-text\">dangerouslySetInnerHTML</code> em um elemento <code class=\"language-text\">em</code>.</p>\n<p>A gambiarra com o uso reverso da função <code class=\"language-text\">truncateStringToWord</code> não é a melhor das soluções, mas a maior parte desse código pode ser movido para o processo de build do Gatsby, então o desempenho do blog não será afetado.</p>\n<p>Espero que este post seja útil para você, para ver como o resultado ficou, <a href=\"/pt-br/search?q=javascript\">basta buscar por algo nesse blog</a>. Nos vemos na próxima!</p>","fields":{"slug":"/2021/2021-05-29-como-criar-uma-pagina-de-busca-offline-com-o-gatsby.pt-br/","path":"/blog/coding/como-criar-uma-pagina-de-busca-offline-com-o-gatsby/","locale":"pt-br"},"readingTime":{"minutes":3.31},"frontmatter":{"date":"2021-05-29T00:00:00.000Z","title":"Como criar uma página de busca offline com o Gatsby","categories":["coding"]}}},{"node":{"excerpt":"Há cerca de 2 meses, o Gatsby v3 foi lançado, e eu estava…","html":"<p>Há cerca de 2 meses, o <a href=\"https://www.gatsbyjs.com/blog/gatsbyconf-product-announcements\" target=\"_blank\" rel=\"noreferrer\">Gatsby v3 foi lançado</a>, e eu estava super ansioso para atualizar este blog para v3 e começar a usar os <a href=\"https://www.gatsbyjs.com/docs/reference/release-notes/v3.0/#incremental-builds-in-oss\" target=\"_blank\" rel=\"noreferrer\">incremental builds</a>, mas “infelizmente” este blog tem muita customização, então fazer a atualização para v3 não vai ser fácil 😢.</p>\n<p>Porém, o meu projeto open source, <a href=\"https://github.com/blopa/Resume-Builder\" target=\"_blank\" rel=\"noreferrer\">Resume Builder</a>, não tinha muitas customizações, então foi tranquilo atualizá-lo para o Gatsby v3 com o comando <code class=\"language-text\">ncu -u</code>, usando o package <a href=\"https://github.com/raineorshine/npm-check-updates\" target=\"_blank\" rel=\"noreferrer\">npm-check-updates</a>. Então, depois de atualizá-lo para v3, eu meio que me empolguei e decidi implementar alguns novos recursos do meu backlog desde 2018, como o <a href=\"https://github.com/blopa/Resume-Builder#cover-letter-editor\" target=\"_blank\" rel=\"noreferrer\">editor de cover letter</a>.</p>\n<h2 id=\"o-que-e-o-resume-builder\" style=\"position:relative;\"><a href=\"#o-que-e-o-resume-builder\" aria-label=\"o que e o resume builder permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O que é o Resume Builder?</h2>\n<p>O Resume Builder é um projeto open source gratuito que permite a qualquer pessoa manter e construir facilmente qualquer tipo de currículo usando planilhas ou um JSON como a fonte de dados. Graças a este projeto eu fui contratado para morar no exterior, como já expliquei <a href=\"/pt-br/blog/coding/como-eu-consegui-um-trabalho-no-exterior-com-um-projeto-open-source/\">em outro post desse blog</a>.</p>\n<p>Uma das maiores falhas desse projeto é que você já deve ter o arquivo com os dados para o seu currículo, não havia como criar seu próprio currículo do zero.</p>\n<h2 id=\"formik\" style=\"position:relative;\"><a href=\"#formik\" aria-label=\"formik permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Formik</h2>\n<p>Alguns dias atrás, eu estava assistindo <a href=\"https://www.youtube.com/watch?v=uyLrwn8FdmM\" target=\"_blank\" rel=\"noreferrer\">uma palestra</a> do <a href=\"https://github.com/jaredpalmer\" target=\"_blank\" rel=\"noreferrer\">Jared Palmer</a> e me convenci totalmente de que deveria testar o <a href=\"https://github.com/formium/formik\" target=\"_blank\" rel=\"noreferrer\">Formik</a>, e eu tenho a feature perfeita para isso.</p>\n<h2 id=\"json-schema\" style=\"position:relative;\"><a href=\"#json-schema\" aria-label=\"json schema permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSON schema</h2>\n<p>Eu precisava que o formulário fosse dinâmico, para que os usuários pudessem adicionar quantos dados quisessem, e já estou usando o <a href=\"https://github.com/jsonresume/resume-schema/blob/81d9e75a3d7b599e202e7c3e31c55e634c7f1e39/schema.json\" target=\"_blank\" rel=\"noreferrer\">JSON schema do projeto json-resume</a>, por que não usá-lo para criar o formulário programaticamente para mim?</p>\n<p>Antes de começar a programar, eu decidi usar meu conhecimento de UML para fazer um diagrama de como isso vai funcionar:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFElEQVQY002PzaqCUACEeztfoheRMAg3Cm0kwZ2gJEp1wp0oCIa2CcOflUiEtAyqs7CVHefCNbx3VjMD38BMAJxOp6Zp8jxPkgTA5/MBcD6fF4uF67oA+r4H8H6/gyC4XC66rtd1DWACYLPZrNfr4/FICMGvHo/HcrlUFEXTNMdxhjlK6eFwqOvaMAzP876w67qEEFmWd7vd8/m83+++74uiKEnSarVSFCXLstfrlef5fD7neX673VZV9YX3+73neaqqWpYFgDHW971t24IgzGYz0zS7rgOQpinHcdPplBBSluUXvt1u1+uVUto0zfiwbdsoisIwpJQOXxhjZVkWRRHH8R88aGBGP8b/hjHWdR1jbGh+AML6LI6VT8DuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"De JSON schema para um formulário\"\n        title=\"De JSON schema para um formulário\"\n        src=\"/static/5bb124471650354914396e3c83c9a1f3/42a19/diagram.png\"\n        srcset=\"/static/5bb124471650354914396e3c83c9a1f3/e3135/diagram.png 256w,\n/static/5bb124471650354914396e3c83c9a1f3/06341/diagram.png 512w,\n/static/5bb124471650354914396e3c83c9a1f3/42a19/diagram.png 1024w,\n/static/5bb124471650354914396e3c83c9a1f3/e8464/diagram.png 1536w,\n/static/5bb124471650354914396e3c83c9a1f3/2eb59/diagram.png 2048w,\n/static/5bb124471650354914396e3c83c9a1f3/1ce76/diagram.png 4000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">De JSON schema para um formulário</figcaption>\n  </figure></p>\n<p>Para o propósito desse post, vamos usar uma versão mais simples do JSON schema do projeto json-resume.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"work\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"array\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token property\">\"additionalItems\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token property\">\"items\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"object\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"additionalProperties\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"properties\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"e.g. Facebook\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"location\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"e.g. Menlo Park, CA\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"e.g. Social Media Company\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"position\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"e.g. Software Engineer\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"e.g. http://facebook.example.com\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"format\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"uri\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"startDate\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"$ref\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#/definitions/iso8601\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"endDate\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"$ref\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#/definitions/iso8601\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"summary\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Give an overview of your responsibilities at the company\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token property\">\"highlights\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"array\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Specify multiple accomplishments\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"additionalItems\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token property\">\"items\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"e.g. Increased profits by 20% from 2011-2012 through viral advertising\"</span>\r\n          <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"percorrendo-o-json\" style=\"position:relative;\"><a href=\"#percorrendo-o-json\" aria-label=\"percorrendo o json permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Percorrendo o JSON</h2>\n<p>Existem 3 tipos de dados diferentes no JSON schema que estou usando, <code class=\"language-text\">object</code>, <code class=\"language-text\">array</code> e <code class=\"language-text\">string</code>, então ele vai ser bem fácil de percorrer.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> formik <span class=\"token operator\">=</span> <span class=\"token function\">useFormik</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getForm</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">jsonSchema</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>jsonSchema<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'object'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'array'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n              <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> value<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'string'</span><span class=\"token operator\">:</span> \r\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>TextField\r\n              key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span>\r\n              fullWidth\r\n              id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span>\r\n              name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span>\r\n              label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span>\r\n              value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>formik<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\r\n              onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>formik<span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> form <span class=\"token operator\">=</span> <span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span>jsonSchema<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Isso deve ser suficiente para a maioria dos casos em que não há keys repetidas no JSON e nem a necessidade do usuário inserir dados ilimitados.</p>\n<h2 id=\"usando-keys-unicas\" style=\"position:relative;\"><a href=\"#usando-keys-unicas\" aria-label=\"usando keys unicas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usando keys únicas</h2>\n<p>Agora as coisas começam a ficar um pouco gambiarradas, para garantir que cada campo tenha uma key única, vou acumular as keys de todos os nodes, por exemplo para o objeto <code class=\"language-text\">{foo: {bar: ''}}</code>, a key do node <code class=\"language-text\">bar</code> seria <code class=\"language-text\">foo-bar</code>. Não estou muito orgulhoso disso, mas sempre posso refatorá-lo mais tarde.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> getForm <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>jsonSchema<span class=\"token punctuation\">,</span> accKey <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>jsonSchema<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> newAccKey <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>accKey<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'object'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">,</span> newAccKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'array'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n              <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> value<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> newAccKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'string'</span><span class=\"token operator\">:</span> \r\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>TextField\r\n              key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newAccKey<span class=\"token punctuation\">}</span>\r\n              fullWidth\r\n              id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newAccKey<span class=\"token punctuation\">}</span>\r\n              name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span>\r\n              label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span>\r\n              value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>formik<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">[</span>newAccKey<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\r\n              onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>formik<span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"adicionando-mais-campos-dinamicamente\" style=\"position:relative;\"><a href=\"#adicionando-mais-campos-dinamicamente\" aria-label=\"adicionando mais campos dinamicamente permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adicionando mais campos dinamicamente</h2>\n<p>Para adicionar campos dinamicamente, decidi criar uma variável local que controlaria quantas vezes cada input deveria ser exibido baseado na key única de cada input.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>quantitiesObject<span class=\"token punctuation\">,</span> setQuantitiesObject<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> getForm <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>jsonSchema<span class=\"token punctuation\">,</span> accKey <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> quantity <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\r\n  Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>jsonSchema<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> newAccKey <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>accKey<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      newAccKey <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>accKey<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'object'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>quantity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\r\n              <span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n                  <span class=\"token punctuation\">{</span><span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>newAccKey<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n              <span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'array'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> currQuantity <span class=\"token operator\">=</span> quantitiesObject<span class=\"token punctuation\">[</span>newAccKey<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>quantity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\r\n              <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">{</span><span class=\"token function\">getForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                  <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> value<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>newAccKey<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> currQuantity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n              <span class=\"token operator\">&lt;</span>Button\r\n                onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                  <span class=\"token function\">setQuantitiesObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                    <span class=\"token operator\">...</span>quantitiesObject<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">[</span>newAccKey<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> currQuantity <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n                  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                color<span class=\"token operator\">=</span><span class=\"token string\">\"primary\"</span>\r\n                variant<span class=\"token operator\">=</span><span class=\"token string\">\"contained\"</span>\r\n              <span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">+ </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\r\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Button<span class=\"token operator\">></span>\r\n              <span class=\"token punctuation\">{</span>currQuantity <span class=\"token operator\">></span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n                <span class=\"token operator\">&lt;</span>Button\r\n                  onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token function\">setQuantitiesObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                      <span class=\"token operator\">...</span>quantitiesObject<span class=\"token punctuation\">,</span>\r\n                      <span class=\"token punctuation\">[</span>newAccKey<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> currQuantity <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n                  color<span class=\"token operator\">=</span><span class=\"token string\">\"secondary\"</span>\r\n                  variant<span class=\"token operator\">=</span><span class=\"token string\">\"contained\"</span>\r\n                <span class=\"token operator\">></span>\r\n                  <span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">- </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\r\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Button<span class=\"token operator\">></span>\r\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'string'</span><span class=\"token operator\">:</span>\r\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n          <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>quantity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\r\n              <span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> newKey <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>newAccKey<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n                  <span class=\"token operator\">&lt;</span>TextField\r\n                    key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newKey<span class=\"token punctuation\">}</span>\r\n                    fullWidth\r\n                    id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newKey<span class=\"token punctuation\">}</span>\r\n                    name<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newKey<span class=\"token punctuation\">}</span>\r\n                    label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span>\r\n                    value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>formik<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">[</span>newKey<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\r\n                    onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>formik<span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span>\r\n                  <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n              <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Depois de colocar esse código em um componente React, eu posso usar-lo assim:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>DynamicForm\r\n    schema<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>jsonSchema<span class=\"token punctuation\">}</span>\r\n    formik<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>formik<span class=\"token punctuation\">}</span>\r\n<span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>O resultado desse código meio confuso fica assim:</p>\n<p><img src=\"/49d9138f925cb97546d36f00f37d091a/dynamic-formik.gif\" alt=\"Dynamic form with Formik\"></p>\n<p>Você pode ver o <a href=\"https://github.com/blopa/Resume-Builder/blob/4.0.7/src/components/DynamicForm.jsx#L48\" target=\"_blank\" rel=\"noreferrer\">código real do formulário no GitHub</a>, e o bom é que da próxima vez que o schema do json-resume mudar, eu não preciso fazer nada yay.</p>\n<p>Acesse o <a href=\"https://resume-builder.js.org/pt-br/build\" target=\"_blank\" rel=\"noreferrer\">site do Resume Builder</a> e veja como o formulário ficou.</p>","fields":{"slug":"/2021/2021-05-21-criando-um-formulario-dinamico-a-partir-de-um-json-schema.pt-br/","path":"/blog/coding/criando-um-formulario-dinamico-a-partir-de-um-json-schema/","locale":"pt-br"},"readingTime":{"minutes":4.765},"frontmatter":{"date":"2021-05-21T00:00:00.000Z","title":"Criando um formulário dinâmico a partir de um JSON schema","categories":["coding"]}}},{"node":{"excerpt":"Hoje eu decidi fazer o deploy do meu blog no meu endereço do…","html":"<p>Hoje eu decidi fazer o deploy do meu blog no meu endereço do GitHub Pages, <a href=\"https://blopa.github.io/\" target=\"_blank\" rel=\"noreferrer\">blopa.github.io</a>, além do meu deploy normal no <a href=\"https://pablo.gg/\" target=\"_blank\" rel=\"noreferrer\">pablo.gg</a>, mas como fazer isso?</p>\n<p>Primeiro eu criei um repositório chamado <code class=\"language-text\">username.github.io</code>, onde <code class=\"language-text\">username</code> é o seu nome de usuário GitHub:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 872px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.390625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3KmwD//EABUQAQEAAAAAAAAAAAAAAAAAABBB/9oACAEBAAEFAmn/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAACAwEAAAAAAAAAAAAAAAABEQAQIUH/2gAIAQEAAT8hW8m02Yv/2gAMAwEAAgADAAAAEMPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAAICAwAAAAAAAAAAAAAAARExABAhQZH/2gAIAQEAAT8QUqCU24IsPdEBETviMBC9f//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Imagem do site do GitHub Pages\"\n        title=\"Imagem do site do GitHub Pages\"\n        src=\"/static/d564a27692cc9b7425ac9fd8bdbcf339/ffc01/username-github-io.jpg\"\n        srcset=\"/static/d564a27692cc9b7425ac9fd8bdbcf339/db830/username-github-io.jpg 256w,\n/static/d564a27692cc9b7425ac9fd8bdbcf339/8102f/username-github-io.jpg 512w,\n/static/d564a27692cc9b7425ac9fd8bdbcf339/ffc01/username-github-io.jpg 872w\"\n        sizes=\"(max-width: 872px) 100vw, 872px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Imagem do site do GitHub Pages</figcaption>\n  </figure></p>\n<p>Agora, no repositório onde estão os meus arquivos fonte, eu preciso adicionar um novo arquivo do GitHub Actions, vamos chamá-lo de <code class=\"language-text\">deploy-to-github.io.yml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> deploy<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>github.io.yml\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> main\r\n\r\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\r\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2.3.4\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">persist-credentials</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install and Build 🚧\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          npm cache clean --force\r\n          npm install\r\n          npm run clean\r\n          npm run build\r\n          rm -rf CNAME</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy 🚀\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> JamesIves/github<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>deploy<span class=\"token punctuation\">-</span>action@4.1.3\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">repository-name</span><span class=\"token punctuation\">:</span> blopa/blopa.github.io\r\n          <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\r\n          <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> public\r\n          <span class=\"token key atrule\">clean</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\r\n          <span class=\"token key atrule\">single-commit</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>Isso irá buildar e fazer o deploy do meu código em outro repositório do GitHub chamado <code class=\"language-text\">blopa/pablo.gg</code>. Para que isso funcione, eu preciso <a href=\"https://docs.github.com/pt/github/authenticating-to-github/creating-a-personal-access-token\" target=\"_blank\" rel=\"noreferrer\">criar um token de acesso pessoal</a> e então <a href=\"https://docs.github.com/pt/actions/reference/encrypted-secrets\" target=\"_blank\" rel=\"noreferrer\">adicioná-lo nos secrets do repositório</a> com o nome <code class=\"language-text\">ACCESS_TOKEN</code>.</p>\n<p>Como eu também faço o deploy normal do meu blog em outro repositório, este é meu arquivo do GitHub Actions para isso:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> deploy<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>gg.yml\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> main\r\n\r\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\r\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2.3.4\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">persist-credentials</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install and Build 🚧\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          npm cache clean --force\r\n          npm install\r\n          npm run clean\r\n          npm run build</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy 🚀\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> JamesIves/github<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>deploy<span class=\"token punctuation\">-</span>action@4.1.3\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">repository-name</span><span class=\"token punctuation\">:</span> blopa/pablo.gg\r\n          <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\r\n          <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> public\r\n          <span class=\"token key atrule\">clean</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\r\n          <span class=\"token key atrule\">single-commit</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>Pronto! Agora, sempre que eu atualizar o branch <code class=\"language-text\">main</code> no meu repositório, ele fará o deploy do meu blog nos meus repositórios <a href=\"https://github.com/blopa/pablo.gg\" target=\"_blank\" rel=\"noreferrer\">github.com/blopa/pablo.gg</a> e <a href=\"https://github.com/blopa/blopa.github.io\" target=\"_blank\" rel=\"noreferrer\">github.com/blopa/blopa.github.io</a> no branch <code class=\"language-text\">gh-pages</code>.</p>","fields":{"slug":"/2021/2021-05-15-usando-o-github-actions-para-fazer-o-deploy-do-meu-blog-em-dois-dominios-diferentes.pt-br/","path":"/blog/coding/usando-o-github-actions-para-fazer-o-deploy-do-meu-blog-em-dois-dominios-diferentes/","locale":"pt-br"},"readingTime":{"minutes":1.46},"frontmatter":{"date":"2021-05-15T00:00:00.000Z","title":"Usando o GitHub Actions para fazer o deploy do meu blog em domínios diferentes","categories":["coding"]}}},{"node":{"excerpt":"Hoje eu precisei saber a inflação acumulada dos últimos 1…","html":"<p>Hoje eu precisei saber a inflação acumulada dos últimos 12 meses para um cálculo em um projeto que eu estou trabalhando, informação que pode ser facilmente acessada no <a href=\"https://www.ibge.gov.br/explica/inflacao.php\" target=\"_blank\" rel=\"noreferrer\">site do IBGE</a>, porem eu precisava desses dados em <code class=\"language-text\">JSON</code> ou pelo menos <code class=\"language-text\">XML</code>.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 635px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.70312499999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCA//EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABt13XE6gf/8QAGRAAAQUAAAAAAAAAAAAAAAAAIwADERIg/9oACAEBAAEFAizZ5Fx//8QAFREBAQAAAAAAAAAAAAAAAAAAABL/2gAIAQMBAT8BlL//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGq/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAIxESD/2gAIAQEABj8Cq6VSrx//xAAbEAABBQEBAAAAAAAAAAAAAAARAAEhMWEggf/aAAgBAQABPyFhNvEiVFinNucf/9oADAMBAAIAAwAAABAM/wD/xAAZEQACAwEAAAAAAAAAAAAAAAAAARFRcZH/2gAIAQMBAT8Q0+kLZ//EABYRAQEBAAAAAAAAAAAAAAAAAABxAf/aAAgBAgEBPxCU4//EABsQAAICAwEAAAAAAAAAAAAAAAERACEQMUHh/9oACAEBAAE/EARhdvCAaGz8QGv2NrwMf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Inflação\"\n        title=\"Inflação\"\n        src=\"/static/e3e2aaf1472fe90ed2248507cb20f4fa/22ee5/inflation-pt-br.jpg\"\n        srcset=\"/static/e3e2aaf1472fe90ed2248507cb20f4fa/db830/inflation-pt-br.jpg 256w,\n/static/e3e2aaf1472fe90ed2248507cb20f4fa/8102f/inflation-pt-br.jpg 512w,\n/static/e3e2aaf1472fe90ed2248507cb20f4fa/22ee5/inflation-pt-br.jpg 635w\"\n        sizes=\"(max-width: 635px) 100vw, 635px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Inflação</figcaption>\n  </figure></p>\n<p>Por incrível que pareça, apenas pesquisar por ”<a href=\"https://www.google.com/search?q=API+infla%C3%A7%C3%A3o+acumulada+2021\" target=\"_blank\" rel=\"noreferrer\">API inflação acumulada 2021</a>” não me retornou nenhum resultado útil. Eu até tentei ”<a href=\"https://www.google.com/search?q=como+calcular+a+infla%C3%A7%C3%A3o+acumulada+%22javascript%22\" target=\"_blank\" rel=\"noreferrer\">como calcular a inflação acumulada “javascript”</a>” e nada, e é por isso que eu estou fazendo esse post.</p>\n<p>O Banco Central fornece diversos end-points com dados relacionados à economia brasileira, porem para uma pessoa que não entende muito do assunto como eu, é difícil saber qual é o endpoint correto para pegar os dados corretos.</p>\n<p>O Banco Central possuí end-points no formato <code class=\"language-text\">https://api.bcb.gov.br/dados/serie/bcdata.sgs.XXX/dados</code>, no qual <code class=\"language-text\">XXX</code> é o código de referência dos dados. Primeiro eu encontrei <a href=\"https://api.bcb.gov.br/dados/serie/bcdata.sgs.10844/dados?formato=json\" target=\"_blank\" rel=\"noreferrer\">esse end-point</a>, que parecia ser correto, porem o valor de Abril de 2021 é <code class=\"language-text\">0.05</code> e no <a href=\"https://www.ibge.gov.br/explica/inflacao.php\" target=\"_blank\" rel=\"noreferrer\">site do IBGE</a> o valor é <code class=\"language-text\">0.31</code>, ou seja não é isso que eu preciso.</p>\n<p>Depois de tentar alguns códigos diferentes que eu achei pesquisando no Google, eu encontrei <a href=\"https://api.bcb.gov.br/dados/serie/bcdata.sgs.433/dados?formato=json\" target=\"_blank\" rel=\"noreferrer\">esse end-point</a>, no qual o valor de Abril de 2021 é <code class=\"language-text\">0.31</code>. Yay!</p>\n<p>É possível filtrar os resultados desse end-point usando <code class=\"language-text\">https://api.bcb.gov.br/dados/serie/bcdata.sgs.433/dados/ultimos/12?formato=json</code>, que me retorna os valores dos últimos 12 meses.</p>\n<p>Agora podemos usar esses dados para calcular a inflação acumulada dos últimos 12 meses:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchBacenData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token string\">'https://api.bcb.gov.br/dados/serie/bcdata.sgs.433/dados/ultimos/12?formato=json'</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchBacenData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para calcular a inflação acumulada usamos a seguinte fórmula: <code class=\"language-text\">inflação acumulada = ((1 + inflação mensal anterior) * (1 + inflação mensal atual)) - 1</code> (formulada fornecida pelo meu grande amigo matemático sinistro Leandro). E como acumulamos dados usando JavaScript? Usando <code class=\"language-text\">reduce</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> inflation <span class=\"token operator\">=</span>\r\n    data<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">acc<span class=\"token punctuation\">,</span> curr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>curr<span class=\"token punctuation\">.</span>valor<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Isso nos resultará em <code class=\"language-text\">0,06759188526903293</code>, que arredondando chegaremos ao valor de 6,76%, exatamente como está no site do IBGE. GG!</p>\n<p>Espero que a próxima pessoa que pesquisar no Google por “API inflação acumulada 2021” encontre esse post 😊</p>\n<p>Isso é tudo por hoje, até a próxima!</p>","fields":{"slug":"/2021/2021-05-13-como-calcular-a-inflacao-acumulada-dos-ultimos-12-meses-com-javascript.pt-br/","path":"/blog/coding/como-calcular-a-inflacao-acumulada-dos-ultimos-12-meses-com-javascript/","locale":"pt-br"},"readingTime":{"minutes":1.86},"frontmatter":{"date":"2021-05-13T00:00:00.000Z","title":"Como calcular a inflação acumulada dos últimos 12 meses com JavaScript","categories":["coding"]}}},{"node":{"excerpt":"Essa semana eu estava trabalhando no meu projeto Resume…","html":"<p>Essa semana eu estava trabalhando no meu projeto <a href=\"https://github.com/blopa/Resume-Builder\" target=\"_blank\" rel=\"noreferrer\">Resume Builder</a> e eu queria poder criar um botão que fizesse o download de um JSON sem usar JavaScript.</p>\n<p>A única maneira que eu sabia fazer isso era usando <code class=\"language-text\">URL.createObjectURL</code> em um arquivo <code class=\"language-text\">blob</code>, mas isso não funcionaria para mim, porque este link estaria dentro de um arquivo PDF.</p>\n<p>Então eu fiz a primeira coisa que qualquer millennial faria, pesquisei no Stack Overflow, mas não consegui encontrar nada… como isso é possível? Bom, de qualquer maneira, depois de algumas tentativas, consegui fazer o que eu queria usando Base 64.</p>\n<p>Digamos que eu queira criar um botão de download que baixará JSON <code class=\"language-text\">{foo: 'bar'}</code>, primeiro precisamos convertê-lo para uma string em Base 64, podemos fazer isso com a função <code class=\"language-text\">btoa</code> do JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token string\">'bar'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> jsonString <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> base64Json <span class=\"token operator\">=</span> <span class=\"token function\">btoa</span><span class=\"token punctuation\">(</span>jsonString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// eyJmb28iOiJiYXIifQ==</span></code></pre></div>\n<p>Ok, agora que sei qual é o valor Base 64 para o objeto <code class=\"language-text\">{foo: 'bar'}</code>, posso criar um elemento <code class=\"language-text\">anchor</code> da seguinte maneira:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data:application/json;base64,eyJmb28iOiJiYXIifQ==<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">download</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>object.json<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>download<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>E isso é tudo. No meu caso, eu só precisava que o código fosse servido como HTML e, como estou usando Gatsby, o código real que eu fiz foi um elemento React que será pre-renderizado usando SSR para o meu arquivo PDF:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> DownloadJsonLink <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    children<span class=\"token punctuation\">,</span>\r\n    json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    name <span class=\"token operator\">=</span> <span class=\"token string\">'object.json'</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> href <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> base64Data <span class=\"token operator\">=</span> <span class=\"token function\">btoa</span><span class=\"token punctuation\">(</span><span class=\"token function\">unescape</span><span class=\"token punctuation\">(</span><span class=\"token function\">encodeURIComponent</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">data:application/json;base64,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>base64Data<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">return</span> <span class=\"token string\">'#'</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">[</span>json<span class=\"token punctuation\">]</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token operator\">&lt;</span>a\r\n            href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>href<span class=\"token punctuation\">}</span>\r\n            download<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span>\r\n            target<span class=\"token operator\">=</span><span class=\"token string\">\"_blank\"</span>\r\n        <span class=\"token operator\">></span>\r\n            <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> DownloadJsonLink<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Eu sabia que era possível fazer isso para baixar uma imagem, mas nunca tinha tentado para outros tipos de arquivos.</p>\n<p>Incrível ainda aprender coisas de HTML mesmo depois de muitos anos de experiência e espero que mais alguém aprenda algo novo com esse post, até a próxima pessoal.</p>","fields":{"slug":"/2021/2021-05-09-como-criar-um-link-para-download-de-um-json-apenas-com-html.pt-br/","path":"/blog/coding/como-criar-um-link-para-download-de-um-json-apenas-com-html/","locale":"pt-br"},"readingTime":{"minutes":1.605},"frontmatter":{"date":"2021-05-09T00:00:00.000Z","title":"Como criar um link para download de um JSON apenas com HTML","categories":["coding"]}}},{"node":{"excerpt":"Entre em contato com o profissional de nutrição da sua…","html":"<p>Entre em contato com o profissional de nutrição da sua cidade. GG IZI.</p>","fields":{"slug":"/2021/2021-05-02-eu-perdi-14kg-esse-ano-saiba-como-voce-pode-fazer-o-mesmo.pt-br/","path":"/blog/general/eu-perdi-14kg-esse-ano-saiba-como-voce-pode-fazer-o-mesmo/","locale":"pt-br"},"readingTime":{"minutes":0.065},"frontmatter":{"date":"2021-05-02T00:00:00.000Z","title":"Eu perdi 14kg esse ano, saiba como você pode fazer o mesmo","categories":["general"]}}},{"node":{"excerpt":"Bom… por onde começar, né? Já se passaram quatro meses desde…","html":"<p>Bom… por onde começar, né? Já se passaram quatro meses desde o último devlog sobre o Super Ollie, mas sabe como é, a vida às vezes é complicada.</p>\n<p>Anyway, hoje quero mostrar como criei o <a href=\"https://www.youtube.com/watch?v=_g0hm6TeD0s\" target=\"_blank\" rel=\"noreferrer\">pogo-attack</a> com Phaser para o meu jogo.</p>\n<p><img src=\"/d9e1edab738bb1d7378e2f71f4b2b23d/pogo-attack.gif\" alt=\"pogo-attack\"></p>\n<p>Primeiro precisamos verificar se o herói pode realizar o ataque, e como estamos planejando ter algumas fases onde você não pode usar seu skate, esta é a verificação para o pogo-ataque:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hero using down attack</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroOnGround</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDownJustDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canUseSkate\r\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ATTACKING_DOWN_START</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Don't handle any other state</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Depois de definir o estado do pogo-attack, preciso controlar o movimento do herói para os lados durante o ataque:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroAttackingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroOnGround</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isRightDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ATTACKING_DOWN_RIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isLeftDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ATTACKING_DOWN_LEFT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ATTACKING_DOWN_START</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Em seguida, dentro da função de callback do collider com o inimigo, basta adicionar:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>player<span class=\"token punctuation\">.</span><span class=\"token function\">isHeroAttackingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>down<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E aí está, um ataque novo que adiciona muitas possibilidades ao jogo e muito simples de fazer. Vejo vocês no próximo devlog!</p>","fields":{"slug":"/2021/2021-04-24-criando-um-pogo-attack-com-o-phaser-js-game-devlog-17.pt-br/","path":"/blog/games/criando-um-pogo-attack-com-o-phaser-js-game-devlog-17/","locale":"pt-br"},"readingTime":{"minutes":0.95},"frontmatter":{"date":"2021-04-24T00:00:00.000Z","title":"Criando um \"pogo-attack\" com o Phaser JS - Game Devlog #17","categories":["games"]}}},{"node":{"excerpt":"Quando eu estava na faculdade, web development não era uma…","html":"<p>Quando eu estava na faculdade, web development não era uma parte importante da programação como é hoje, eu não tive uma única aula sobre web e agora trabalho com isso todos os dias. Quem diria.</p>\n<p>Eu lembro que aprendi um pouco de HTML na escola, por volta de 1999, e ficava fazendo sites incríveis tipo o gif abaixo:</p>\n<p><img src=\"/e896371a7e308e9c9abee35bb587b61d/my-website.gif\" alt=\"My website\"></p>\n<h2 id=\"the-old-ways\" style=\"position:relative;\"><a href=\"#the-old-ways\" aria-label=\"the old ways permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The old ways</h2>\n<p>Antigamente (na época do Dreamweaver), se eu quisesse fazer um site, eu teria algo assim:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- website\r\n  - index.html\r\n  - about.html\r\n  - contact.html</code></pre></div>\n<p>E aí para cada um desses arquivos, eu teria que escrever o HTML completo para aquela página, mesmo se todas elas tivessem o mesmo header ou logo etc. Neste exemplo não há banco de dados, dados dinâmicos e nem compilação, o site é 100% estático, eu posso simplesmente abrir esses arquivos no meu browser localmente e tudo funcionará sem a necessidade de servidores, porque HTML é praticamente um texto com esteróides.</p>\n<p>Claro que isso está longe de ser o ideal, então outras soluções como o PHP surgiram com a possibilidade de deixar as coisas mais dinâmicas.</p>\n<h2 id=\"not-that-old-ways\" style=\"position:relative;\"><a href=\"#not-that-old-ways\" aria-label=\"not that old ways permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Not that old ways</h2>\n<p>Com o PHP, eu posso dividir o meu template de HTML em pedaços reutilizáveis, então eu poderia facilmente inicializar um framework tipo WordPress e me concentrar apenas na criação do conteúdo do site.</p>\n<p>O problema é que o meu browser não entende PHP, então eu preciso de um servidor para converter toda a lógica do PHP em HTML estático, então toda a vez que alguém faz uma solicitação para ver uma página no meu site, a solicitação vai para o meu servidor, que vai processar o código PHP e servir uma página HTML e, claro, isso custa muito mais do que simplesmente servir arquivos HTML estáticos.</p>\n<p>Uma estrutura de arquivos de um site em PHP seria algo assim:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- website\r\n      - index.php\r\n      - header.php\r\n      - footer.php\r\n  - content\r\n      - home.php\r\n      - about.php\r\n      - contact.php</code></pre></div>\n<p>É aqui que se encontra a maior parte dos sites agora, e por um bom motivo, a Web 2.0 é complexa e toda esse dinamismo é necessário… pelo menos na maioria dos casos, mas e os sites que quase não mudam, como blogs ou portfólios?</p>\n<h2 id=\"the-new-way---jamstack\" style=\"position:relative;\"><a href=\"#the-new-way---jamstack\" aria-label=\"the new way   jamstack permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The new way - JAMStack</h2>\n<p>JAMStack significa <code class=\"language-text\">JavaScript, API &amp; Markup - Stack</code> e está aqui para trazer o melhor dos velhos tempos para nossas vidas. Com JAMStack eu posso criar meu site da mesma forma que faria usando PHP, mas em vez de ter os dados processados em cada solicitação, eu posso programar o meu site inteiro em módulos, pré-compilá-lo apenas uma vez e depois servi-lo como HTML estático + JavaScript. Isso é muito útil para sites como este, e essa técnica não é nova, todos os nossos aplicativos de desktop são pré-compilados e servidos “estaticamente” - vamos esquecer o SaaS por um segundo, ok?</p>\n<p>Por exemplo, neste site eu tenho um template para uma página de posts do blog e eu preencho esse template com dados vindo de um arquivo Markdown, a estrutura do projeto é algo tipo:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- website\r\n      - index.html\r\n  - pages\r\n      - home.html\r\n      - contact.html\r\n  - templates\r\n      - blog-posts.html\r\n  - content\r\n      - my-first-post.md\r\n      - my-second-post.md</code></pre></div>\n<p>Eu estou usando o Gatsby para fazer <a href=\"https://pablo.gg/\" target=\"_blank\" rel=\"noreferrer\">esse</a> site, então posso escrever tudo usando componentes React, e o Gatsby compila tudo em um monte de arquivos HTML que são servidos ao navegador.</p>\n<h2 id=\"por-onde-comecar\" style=\"position:relative;\"><a href=\"#por-onde-comecar\" aria-label=\"por onde comecar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Por onde começar?</h2>\n<p>Antes de testar o Gatsby, eu comecei com o <a href=\"https://jekyllrb.com/\" target=\"_blank\" rel=\"noreferrer\">Jekyll</a>, que é uma forma de <a href=\"https://jekyllrb.com/docs/github-pages/\" target=\"_blank\" rel=\"noreferrer\">criar um blog JAMStack e hospeda-lo gratuitamente no GitHub Pages</a>, era tudo que eu precisava, mas primeiro tive que converter todos os meus 12 anos de posts no WordPress em arquivos Markdown com <a href=\"https://hexo.io/pt-br/docs/front-matter.html\" target=\"_blank\" rel=\"noreferrer\">frontmatter</a>.</p>\n<p>Os posts do WordPress são (geralmente) armazenados em um banco de dados, então preciso extrair esses dados e salvá-los como um arquivo Markdown, e a maneira mais fácil de fazer isso é simplesmente usar um plugin do WordPress, como o <a href=\"https://github.com/benbalter/wordpress-to-jekyll-exporter\" target=\"_blank\" rel=\"noreferrer\">wordpress-to-jekyll-exporter</a>. Se você não tem mais acesso ao seu blog, mas ainda tem o arquivo <code class=\"language-text\">database.sql</code> (como eu 😅) apenas <a href=\"https://imasters.com.br/back-end/instalando-wordpress-em-ambiente-local\" target=\"_blank\" rel=\"noreferrer\">inicialize uma versão local do WordPress</a> para exportar seus posts.</p>\n<p>Eu também criei um <a href=\"https://gist.github.com/blopa/a6e49c798cf0fd5c875025c6ae282064\" target=\"_blank\" rel=\"noreferrer\">script em Python</a> para alterar alguns dados dos arquivos Markdown gerados para atender algumas das minhas necessidades.</p>\n<p>Eu tinha mais de 100 posts no meu blog, então foi uma surpresa para mim, descobrir que <a href=\"https://pages.github.com/versions/\" target=\"_blank\" rel=\"noreferrer\">não tinha como usar o plugin de paginação v2 do Jekyll</a> e fazer o deploy automaticamente no GitHub Pages, então decidi procurar outras soluções.</p>\n<h2 id=\"o-grande-gatsby\" style=\"position:relative;\"><a href=\"#o-grande-gatsby\" aria-label=\"o grande gatsby permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O Grande Gatsby</h2>\n<p>Como eu já conheço bem React, usar o Gatsby é praticamente um <em>no-brainer</em>, e eles têm uma excelente documentação e muitos plugins e tutoriais e com o lançamento do <a href=\"https://github.com/features/actions\" target=\"_blank\" rel=\"noreferrer\">GitHub Actions</a>, é possível fazer o build e deploy do Gatsby no próprio GitHub sem precisar de serviços externos como <a href=\"https://travis-ci.org/\" target=\"_blank\" rel=\"noreferrer\">travis-ci.org</a>. Não só isso, mas eu poderia até mesmo ter meu código em um repositório privado e fazer o deploy em outro repositório público, dessa forma eu posso ter posts que são rascunho e que não quero que fiquem públicos.</p>\n<p>Primeiro eu fiz <a href=\"https://github.com/blopa/gatsby-material-ui-starter\" target=\"_blank\" rel=\"noreferrer\">este</a> repositório com base nas instruções <a href=\"https://github.com/mui-org/material-ui/tree/master/examples/gatsby\" target=\"_blank\" rel=\"noreferrer\">deste</a> repositório do Material UI. Tudo o que ele faz é vincular a biblioteca Material UI React ao Gatsby.</p>\n<p>A próxima etapa foi pegar o <a href=\"https://github.com/blopa/gatsby-material-ui-starter\" target=\"_blank\" rel=\"noreferrer\">gatsby-material-ui-starter</a> como base para adicionar toda a lógica do meu blog, mas primeiro eu precisava de uma lista de todos os recursos que eu queria que o meu blog tivesse, e esses eram:</p>\n<ul>\n<li>Página inicial com lista de posts</li>\n<li>Página de blog com lista de posts</li>\n<li>Página de posts do blog com posts relacionados</li>\n<li>Página de arquivo com paginação</li>\n<li>Comentários</li>\n<li>Página de contato</li>\n<li>Página de álbuns com fotos do Google Photos</li>\n<li>Caixa de busca</li>\n<li>SEM SERVIDORES</li>\n</ul>\n<p>Tudo parece bastante razoável até que você lembrar que tudo isso precisa ser feito com JAMStack e sem servidores. Isso é mesmo possível? SIM. Gatsby e React são ferramentas realmente poderosas.</p>\n<h2 id=\"lista-de-posts-e-posts-relacionados\" style=\"position:relative;\"><a href=\"#lista-de-posts-e-posts-relacionados\" aria-label=\"lista de posts e posts relacionados permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lista de posts e posts relacionados</h2>\n<p>O Gatsby fornece uma API de GraphQL bem simples para obter dados dos arquivos Markdown, e isso pode ser feito facilmente usando o plugin <a href=\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-remark\" target=\"_blank\" rel=\"noreferrer\">gatsby-transformer-remark</a> e uma query de GraphQL como a abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n    query Posts($locale: String) {\r\n        allMarkdownRemark(\r\n            filter: {\r\n                fields: { locale: { eq: $locale } }\r\n                frontmatter: { show: { eq: true } }\r\n            }\r\n            sort: { fields: [frontmatter___date], order: DESC }\r\n        ) {\r\n            edges {\r\n                node {\r\n                    excerpt\r\n                    fields {\r\n                        slug\r\n                        path\r\n                        locale\r\n                    }\r\n                    frontmatter {\r\n                        date\r\n                        title\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Se você quiser saber mais sobre como criar seu próprio blog com o Gatsby do zero, siga <a href=\"https://www.gatsbyjs.com/blog/2017-07-19-creating-a-blog-with-gatsby/\" target=\"_blank\" rel=\"noreferrer\">o tutorial oficial</a>.</p>\n<p>Para os posts relacionados, decidi pegar todos os meus posts e verificar em cada um deles quais outros posts tem as mesmas tags, e então ordena-los por quantidade de tags iguais. Esta pode não ser a maneira eficiente de fazer isso, mas lembre-se de que só estou compilando o site uma vez, então tudo bem 😊</p>\n<h2 id=\"paginacao\" style=\"position:relative;\"><a href=\"#paginacao\" aria-label=\"paginacao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Paginação</h2>\n<p>O Material UI já tem um <a href=\"https://material-ui.com/components/pagination/\" target=\"_blank\" rel=\"noreferrer\">componente de paginação</a>, então eu criei um template <code class=\"language-text\">Archive.jsx</code> que recebe uma lista de posts, um número total de páginas e o número da página atual e durante o <a href=\"https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/\" target=\"_blank\" rel=\"noreferrer\">processo de compilação de Gatsby</a>, eu crio várias páginas de arquivo usando o meu template e é isso. Fácil demais.</p>\n<h2 id=\"busca\" style=\"position:relative;\"><a href=\"#busca\" aria-label=\"busca permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Busca</h2>\n<p>Já que o Gatsby usa tecnologias de JavaScript ultra-modernas, criar uma pesquisa local deve ser muito fácil, certo? SIM! Existe até <a href=\"https://github.com/angeloashmore/gatsby-plugin-local-search\" target=\"_blank\" rel=\"noreferrer\">um plugin</a> para isso já! Show!</p>\n<p>Basta seguir <a href=\"https://labs.walltowall.com/easy-client-side-search-for-gatsby-sites/\" target=\"_blank\" rel=\"noreferrer\">esse tutorial</a> e combinar o código com o <a href=\"https://material-ui.com/components/autocomplete/\" target=\"_blank\" rel=\"noreferrer\">componente de autocomplete do Material UI</a> para criar um componente <code class=\"language-text\">SearchBar</code> igual ao desse blog.</p>\n<h2 id=\"integracao-com-google-photos\" style=\"position:relative;\"><a href=\"#integracao-com-google-photos\" aria-label=\"integracao com google photos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Integração com Google Photos</h2>\n<p>A parte ruim do JAMStack é que meu repositório git conterá não apenas todo o meu código-fonte, mas também todos os meus dados de conteúdo, incluindo fotos, etc, e isso acaba deixando o meu repositório muito grande.</p>\n<p>Claro que eu poderia consumir meus dados via uma API externa em vez de arquivos Markdown e isso já vai ajudar um pouco, mas poder não armazenar fotos no repositório vai economizar muito espaço.</p>\n<p>Graças a <a href=\"https://medium.com/@ValentinHervieu/how-i-used-google-photos-to-host-my-website-pictures-gallery-d49f037c8e3c\" target=\"_blank\" rel=\"noreferrer\">este belo post</a> feita pelo <a href=\"https://medium.com/@ValentinHervieu\" target=\"_blank\" rel=\"noreferrer\">@ValentinHervieu</a> podemos ter uma ideia de como obter a URL das imagens de um álbum do Google Photos, eu posso simplesmente seguir esse post e adicionar o código no meu processo de build do Gatsby.</p>\n<h2 id=\"multi-linguas\" style=\"position:relative;\"><a href=\"#multi-linguas\" aria-label=\"multi linguas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multi-línguas</h2>\n<p>Bom como português é a minha língua nativa, e eu moro fora do Brasil, é útil poder escrever posts em múltiplos idiomas para poder compartilhar com meus amigos aqui e no Brasil, e para isso eu preciso adicionar uma funcionalidade de poder criar posts em línguas diferentes, e óbviamente <a href=\"https://github.com/wiziple/gatsby-plugin-intl\" target=\"_blank\" rel=\"noreferrer\">existe um plugin do Gatsby para isso</a>.</p>\n<p>Esse plugin é baseado no famoso <a href=\"https://formatjs.io/docs/react-intl/\" target=\"_blank\" rel=\"noreferrer\">React Intl</a>, e é bem simples de usar, basta adicionar um novo objeto nas configurações de plugin do Gatsby a passar uma array com os códigos das línguas que você quer adicionar e um path para onde ficarão as traduções para essas línguas. Veja abaixo como é esse objeto para esse blog:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token operator\">...</span>config<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token string\">'gatsby-plugin-intl'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/intl</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">languages</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pt-br'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">defaultLanguage</span><span class=\"token operator\">:</span> <span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">redirect</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">redirectComponent</span><span class=\"token operator\">:</span> require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/utils/redirect.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>O que isso fará é que sempre que você criar uma página tipo <code class=\"language-text\">/contact/</code>, ele criará uma página para cada um dos idiomas para os quais você configurou, tipo <code class=\"language-text\">/en/contact/</code> e <code class=\"language-text\">/pt-br/contact/</code>. Maneiro! Mas, e os posts do blog? Não quero paths tipo <code class=\"language-text\">/en/hello-world/</code> e <code class=\"language-text\">/pt-br/hello-world/</code>, eu quero <code class=\"language-text\">/en/hello-world/</code> e <code class=\"language-text\">/pt-br/ola-mundo/</code>.</p>\n<p>Para ter o mesmo post em diferentes idiomas, eu crio arquivos de markdown tipo <code class=\"language-text\">hello-world.en.md</code> e <code class=\"language-text\">hello-world.pt-br.md</code> e, em seguida, conecto eles pelo título e a data do post, dessa forma é possível mudar o idioma na página do post e ver o mesmo post em outro idioma.</p>\n<p><img src=\"/2105ea55eebac25b4267be0420fbb6e5/language-switcher.gif\" alt=\"Language switcher\"></p>\n<h2 id=\"pagina-de-contato-e-sistema-de-comentarios\" style=\"position:relative;\"><a href=\"#pagina-de-contato-e-sistema-de-comentarios\" aria-label=\"pagina de contato e sistema de comentarios permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Página de contato e sistema de comentários</h2>\n<p>Existem alguns serviços que oferecem sistemas de comentários para o seu site, como <a href=\"https://disqus.com/\" target=\"_blank\" rel=\"noreferrer\">disqus.com</a> e o <a href=\"https://developers.facebook.com/docs/plugins/comments/\" target=\"_blank\" rel=\"noreferrer\">Facebook Comments</a>, mas o plano gratuito do Disqus adicionará anúncios ao seu site, e o Facebook exigirá que os usuários tenham uma conta no Facebook para usá-lo.</p>\n<p>Depois de um tempo pesquisando eu descobri ser possível usar o <a href=\"https://blog.webjeda.com/google-form-customize/\" target=\"_blank\" rel=\"noreferrer\">Google Forms como um sistema de comentários</a> para o meu blog em JAMStack.</p>\n<p>Os dados dos comentários são armazenados em uma planilha do Google no seu Google Drive, que pode então ser acessada no processo de build do Gatsby para passar todos os comentários para os devidos posts do blog.</p>\n<p>Um problema de usar este sistema é que se eu quiser que os novos comentários apareçam no blog, eu preciso buildar o site todo novamente, mas vamos pensar nisso como um processo para aprovar / desaprovar comentários 😄 e também <a href=\"https://www.gatsbyjs.com/docs/reference/release-notes/v3.0/#incremental-builds-in-oss\" target=\"_blank\" rel=\"noreferrer\">se você configurar o Gatsby direitinho, fazer re-builds não é um grande problema</a>.</p>\n<h2 id=\"github-actions\" style=\"position:relative;\"><a href=\"#github-actions\" aria-label=\"github actions permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub Actions</h2>\n<p>Após programar tudo isso (incluindo algumas gambiarras), tudo o que resta é usar GitHub Actions para fazer o build e o deploy do meu site, e para isso eu simplesmente crio um arquivo <code class=\"language-text\">.github/workflows/deploy.yml</code> no meu repositório do GitHub com as seguintes configurações:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy to GitHub Pages\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> main\r\n\r\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\r\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2.3.4\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">persist-credentials</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install and Build 🚧\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          npm cache clean --force\r\n          npm install\r\n          npm run clean\r\n          npm run build</span>\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy 🚀\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> JamesIves/github<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>deploy<span class=\"token punctuation\">-</span>action@4.1.1\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">repository-name</span><span class=\"token punctuation\">:</span> blopa/pablo.gg\r\n          <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\r\n          <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> public\r\n          <span class=\"token key atrule\">clean</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\r\n          <span class=\"token key atrule\">single-commit</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>Isso irá buildar o site toda vez que eu commitar no branch <code class=\"language-text\">main</code> e depois fará o deploy no meu repositório público <a href=\"https://github.com/blopa/pablo.gg\" target=\"_blank\" rel=\"noreferrer\">github.com/blopa/pablo.gg</a> para que possa ser acessado via <a href=\"https://pablo.gg/\" target=\"_blank\" rel=\"noreferrer\">https://pablo.gg/</a>.</p>\n<h2 id=\"por-que\" style=\"position:relative;\"><a href=\"#por-que\" aria-label=\"por que permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Por quê?</h2>\n<p>Você pode estar se perguntando “por que você simplesmente não pega um servidor de R$5,00 por mes e roda um WordPress nele?”, e eu digo por que, não é apenas uma questão de economizar dinheiro, mas também é uma coisa a menos com que se preocupar, e se eu morrer ou entrar em coma sei la, meu site ainda estará online - desde que o GitHub Pages ainda exista e seja gratuito. E ao usar o JAMStack você automaticamente diminuirá o poder de processamento usado para servir o seu site, o que também diminuirá as emissões de CO2 e salvará o planeta (ou pelo menos ajudará um pouquinho).</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Eu não só aprendi um novo framework em React, mas também criei um blog pessoal ultra leve com custo de hospedagem de R$0,00, e mesmo que o GitHub Actions ou o GitHub Pages deixe de existir um dia, eu posso simplesmente buildar o meu blog localmente e depois hospeda-lo em algum servidor de arquivos estáticos e isso me custaria muito pouco por ano, então yay!</p>\n<p>Claro que eu acabo pagando pelo <a href=\"https://pt.godaddy.com/tlds/gg-domain\" target=\"_blank\" rel=\"noreferrer\">domínio .gg</a>, mas se você quiser ir <em><a href=\"https://pt.wikipedia.org/wiki/Frugalidade\" target=\"_blank\" rel=\"noreferrer\">full frugal</a></em>, você pode simplesmente hospedar o seu site usando domínios gratuitos como o <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noreferrer\">github.io</a> ou o <a href=\"https://freenom.com\" target=\"_blank\" rel=\"noreferrer\">freenom.com</a>.</p>","fields":{"slug":"/2021/2021-04-17-eu-pago-0-em-hospedagem-para-esse-site.pt-br/","path":"/blog/coding/eu-pago-0-em-hospedagem-para-esse-site/","locale":"pt-br"},"readingTime":{"minutes":10.8},"frontmatter":{"date":"2021-04-17T00:00:00.000Z","title":"Eu pago R$0,00 em hospedagem para esse site","categories":["coding"]}}},{"node":{"excerpt":"Feliz #quarantineversary! Oh yeah, já faz um ano, um ano…","html":"<p>Feliz <a href=\"https://twitter.com/hashtag/quarantineversary?f=live\" target=\"_blank\" rel=\"noreferrer\">#quarantineversary</a>! Oh yeah, já faz um ano, um ano desde que me pediram para trabalhar de casa por duas semanas e, aparentemente, isso inclui mais ou menos umas ~50 semanas extras - e contando.</p>\n<p>Felizmente tive o privilégio de manter o meu emprego e ainda ganhar um monte de tempo livre para investir em alguns projetos pessoais, como <a href=\"/pt-br/blog/tags/skate-platformer\">trabalhar no jogo Skate Platformer</a>, aprender React Hooks, jogar muito videogame - algo que eu estava lutando para encontrar tempo para fazer no passado.</p>\n<p>Na verdade, não tenho nada a acrescentar nesse post, apenas senti que precisava escrever algo sobre 2020, então why not? Para encerrar, aqui está uma foto do meu último dia no escritório versus uma foto do meu almoço hoje (pizza grátis patrocinada pelo hackathon no trabalho):</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEEAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB0XMY3kZL/8QAGhABAAMAAwAAAAAAAAAAAAAAAQIDEgAiI//aAAgBAQABBQKxwyQejyEZW2L5wa8//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAgMAAwAAAAAAAAAAAAAAAAECESESMTL/2gAIAQEABj8CSwxnslykX27Nxn//xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMVFxkf/aAAgBAQABPyEO2dd5OxB8NZMhB9mDCO0TS6gcfcqf/9oADAMBAAIAAwAAABBzH//EABURAQEAAAAAAAAAAAAAAAAAAAEA/9oACAEDAQE/ECAv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EJXb/8QAHBABAAICAwEAAAAAAAAAAAAAAREhADFBUWGR/9oACAEBAAE/EJoPa3E6ru7cLDoEI0vXecxBZwvWMby9iWYr5j74YU2WWZRk6AYfaM//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Último dia no escritório\"\n        title=\"Último dia no escritório\"\n        src=\"/static/841023e8bc81cea51096b4b07fa0ff89/63217/IMG_20200312.jpg\"\n        srcset=\"/static/841023e8bc81cea51096b4b07fa0ff89/db830/IMG_20200312.jpg 256w,\n/static/841023e8bc81cea51096b4b07fa0ff89/8102f/IMG_20200312.jpg 512w,\n/static/841023e8bc81cea51096b4b07fa0ff89/63217/IMG_20200312.jpg 1024w,\n/static/841023e8bc81cea51096b4b07fa0ff89/d58d1/IMG_20200312.jpg 1536w,\n/static/841023e8bc81cea51096b4b07fa0ff89/09658/IMG_20200312.jpg 2048w,\n/static/841023e8bc81cea51096b4b07fa0ff89/08826/IMG_20200312.jpg 3264w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Último dia no escritório</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.203125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgQF/8QAFwEAAwEAAAAAAAAAAAAAAAAAAQIDBP/aAAwDAQACEAMQAAAB1xy9ILyRWSxtYtJQ0S//xAAcEAEAAgIDAQAAAAAAAAAAAAABAAIDERASISL/2gAIAQEAAQUCrZW5NsvnstL/AD3lgcgaiaeD2f/EABkRAQACAwAAAAAAAAAAAAAAAAABEQISIf/aAAgBAwEBPwGutGaof//EABgRAAMBAQAAAAAAAAAAAAAAAAABEQMS/9oACAECAQE/ATsxdZWf/8QAHRAAAgICAwEAAAAAAAAAAAAAABEBIUFRECAzcf/aAAgBAQAGPwKGrwPR5itmZ+8JXsURXSz/xAAcEAEAAgMBAQEAAAAAAAAAAAABABEhMUFRYYH/2gAIAQEAAT8hWKjwyfsKwJeh7LQuz9ZRKBijVTfHLUCeRiKot9SvSByFU77UN32G2YLVz//aAAwDAQACAAMAAAAQ3xk9/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAQIf/aAAgBAwEBPxACAzyRH//EABkRAQACAwAAAAAAAAAAAAAAAAEAEBEhUf/aAAgBAgEBPxBUMtNFwjD/xAAeEAEAAgMAAgMAAAAAAAAAAAABABEhMUFRYYGR8f/aAAgBAQABPxBsSDF5Ne31KlIKpm/CXAaM0SzszuDa9uHoyy11Xvx8S1zKa1B/mUNH8nJkFN+5UJQHgGA0GFX2oBB0xrIQpa8J/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Almoço saudável sqn\"\n        title=\"Almoço saudável sqn\"\n        src=\"/static/29060b3b6d7ca48c75fec59ae15c07f7/63217/IMG_20210312.jpg\"\n        srcset=\"/static/29060b3b6d7ca48c75fec59ae15c07f7/db830/IMG_20210312.jpg 256w,\n/static/29060b3b6d7ca48c75fec59ae15c07f7/8102f/IMG_20210312.jpg 512w,\n/static/29060b3b6d7ca48c75fec59ae15c07f7/63217/IMG_20210312.jpg 1024w,\n/static/29060b3b6d7ca48c75fec59ae15c07f7/5bcb7/IMG_20210312.jpg 1471w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Almoço saudável sqn</figcaption>\n  </figure></p>\n<p>Minha barba cresceu bastante 👀</p>","fields":{"slug":"/2021/2021-03-12-um-ano-de-home-office.pt-br/","path":"/blog/general/um-ano-de-home-office/","locale":"pt-br"},"readingTime":{"minutes":0.705},"frontmatter":{"date":"2021-03-12T00:00:00.000Z","title":"Um ano de home office","categories":["general"]}}},{"node":{"excerpt":"Ora ora ora, esse Telegram tá que tá, eim? Menos de 7 dias…","html":"<p>Ora ora ora, esse Telegram tá que tá, eim? Menos de 7 dias depois de <a href=\"/pt-br/blog/general/tinha-que-ser-o-whatsapp-de-novo/\">não conseguir restaurar o backup das minhas mensagens no Whatsapp</a>, o Telegram anunciou que agora você pode <a href=\"https://telegram.org/blog/move-history/pt-br\" target=\"_blank\" rel=\"noreferrer\">importar mensagens de outros aplicativos de chat</a>. Tinha que ser o Telegram denovo, não é mesmo? Como o Telegram consegue ser tão foda? Desde a última atualização você pode importar seu histórico de mensagens do WhatsApp, Line e KakaoTalk, para isso você precisa exportar seu chat do Whatsapp (por exemplo) e compartilhá-lo com o contato equivalente no Telegram.</p>\n<p><img src=\"/a1e04df6ad4fb7475359d1ae76aacc63/importing-to-telegram.gif\" alt=\"Importando para o Telegram\"></p>\n<p>O Telegram disse que eventualmente disponibilizará uma API para que você possa construir seus próprios scripts e importar mensagens de qualquer aplicativo de chat, next level foda! Mas… temos mesmo que esperar essa atualização? Uhmn acho que não eim. Vamos dar uma olhada como é esse arquivo <code class=\"language-text\">.txt</code> exportado do Whatsapp:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">8/13/10, 12:11 - Scott Pilgrim: Qual é o site da Amazon.ca?\r\n8/13/10, 12:12 - Wallace Wells: Amazon.ca..</code></pre></div>\n<p>Então digamos que, como eu, você só tenha acesso ao seu arquivo <code class=\"language-text\">msgstore.db</code> do Whatsapp, não é possível exportar o chat do Whatsapp, certo? Neste caso você pode usar a ferramenta <a href=\"https://github.com/andreas-mausch/whatsapp-viewer\" target=\"_blank\" rel=\"noreferrer\">Whatsapp Viewer</a> para exportar suas mensagens para um arquivo <code class=\"language-text\">JSON</code>, que fica nesse formato:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0000000000000@s.whatsapp.net\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token property\">\"contactName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Wallace Wells\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token property\">\"messages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token property\">\"timestamp\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2010-08-13T12:11:00Z\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"fromMe\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Qual é o site da Amazon.ca?\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token property\">\"timestamp\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2010-08-13T12:12:00Z\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"fromMe\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Amazon.ca..\"</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora tudo que você precisa fazer é carregar este arquivo <code class=\"language-text\">JSON</code> com um script qualquer e converte-lo para um <code class=\"language-text\">.txt</code> naquele formato. Vamos tentar fazer isso usando <code class=\"language-text\">Node.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n    readFileSync<span class=\"token punctuation\">,</span>\r\n    writeFileSync<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> yourName <span class=\"token operator\">=</span> <span class=\"token string\">'Scott Pilgrim'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// TODO put your name here</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">convertMessageObjToTxt</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">messageObj<span class=\"token punctuation\">,</span> sender</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// format \"2010-08-13T12:11:00Z\"</span>\r\n    <span class=\"token keyword\">const</span> dateObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>messageObj<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> dateObj<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleDateString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'en-US'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> time <span class=\"token operator\">=</span> dateObj<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'en-US'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">hour12</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// format is \"M/DD/YY, HH:MM - Sender's Name: Message\"</span>\r\n    <span class=\"token keyword\">return</span> date <span class=\"token operator\">+</span> <span class=\"token string\">', '</span> <span class=\"token operator\">+</span> time <span class=\"token operator\">+</span> <span class=\"token string\">' - '</span> <span class=\"token operator\">+</span> sender <span class=\"token operator\">+</span> <span class=\"token string\">': '</span> <span class=\"token operator\">+</span> messageObj<span class=\"token punctuation\">.</span>text <span class=\"token operator\">+</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// read the JSON file</span>\r\n    <span class=\"token keyword\">const</span> chatJson <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">let</span> txtContent <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\r\n\r\n    chatJson<span class=\"token punctuation\">.</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        txtContent <span class=\"token operator\">+=</span> <span class=\"token function\">convertMessageObjToTxt</span><span class=\"token punctuation\">(</span>\r\n            message<span class=\"token punctuation\">,</span>\r\n            message<span class=\"token punctuation\">.</span>fromMe <span class=\"token operator\">?</span> yourName <span class=\"token operator\">:</span> chatJson<span class=\"token punctuation\">.</span>contactName\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// save is as a .txt</span>\r\n    <span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>process<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.txt</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> txtContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Execute esse script com o comando <code class=\"language-text\">node script.js seu-arquivo-json.json</code> e o resultado será um arquivo <code class=\"language-text\">.txt</code> que você pode importar para o Telegram. Facinho, né? O único problema é que você precisa importar este <code class=\"language-text\">.txt</code> pelo app de celular do Telegram.</p>\n<p>Então é isso! Enquanto o WhatsApp pede que você ceda sua privacidade por um aplicativo super merda, o Telegram continua a ser gratuito, com código aberto (o aplicativo, não seus servidores) e com uma API incrível que permite fazer quase tudo. Muito foda!</p>","fields":{"slug":"/2021/2021-01-31-tinha-que-ser-o-telegram-de-novo.pt-br/","path":"/blog/general/tinha-que-ser-o-telegram-de-novo/","locale":"pt-br"},"readingTime":{"minutes":2.38},"frontmatter":{"date":"2021-01-31T00:00:00.000Z","title":"Tinha que ser o Telegram de novo!","categories":["general"]}}},{"node":{"excerpt":"O Whatsapp estava em todos os sites de notícias recentemente…","html":"<p>O Whatsapp estava em todos os sites de notícias recentemente devido às suas novas políticas de privacidade, mas este post não é sobre isso. Ah não não, este post é sobre minha batalha de 28 horas para restaurar meu backup de mensagens do Whatsapp que não deu em nada, quer dizer, mais ou menos em nada.</p>\n<p>Whatsapp não é um aplicativo bom, acho que todos nós sabemos disso, né? Tipo é sério que eu preciso ter o meu celular conectado à internet para usar a versão web? Como assim?! Mas tudo bem, todos nós usamos porque é o aplicativo de mensagem que todos usam, certo? Fazer o que?</p>\n<p>Eu sou da galera que começou a usar o Whatsapp assim que ele saiu, quando ainda tinha uma versão Symbian que eu usava no meu Nokia, então assim, eu já estou usando o Whatsapp por muitos e muitos anos, e sempre faço backup do meu histórico de mensagens, primeiro com <a href=\"https://play.google.com/store/apps/details?id=com.keramidas.TitaniumBackup\" target=\"_blank\" rel=\"noreferrer\">Titanium Backup</a> e depois com a integração do Google Drive, que foi bem conveniente porque não precisava mais fazer o root no meu celular e ter problemas com a garantia.</p>\n<h2 id=\"e-o-que-aconteceu\" style=\"position:relative;\"><a href=\"#e-o-que-aconteceu\" aria-label=\"e o que aconteceu permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>E o que aconteceu?</h2>\n<p>Eu comprei um celular novo, um <a href=\"https://www.gsmarena.com/oneplus_nord_n10_5g-10556.php\" target=\"_blank\" rel=\"noreferrer\">OnePlus Nord N10</a>, eu sei que não é um celular 👌TOP👌™, mas é uma boa atualização para quem está usando o <a href=\"https://www.gsmarena.com/motorola_moto_z3_play-9003.php\" target=\"_blank\" rel=\"noreferrer\">Motorola Moto Z3 Play</a> e ainda por cima tem 5G, então eu estou feliz que estou ajudando o Bill Gates a trazer a Nova Ordem Mundial para nós via o coronavírus.</p>\n<p>A verdade é que eu me irrito muito com o Whatsapp, é um aplicativo com poucas features, mas super lento e com muitos bugs, que eu só uso para falar com alguns amigos que ainda não usam o Telegram (noobs). Antes de mover tudo para o meu celular novo, eu fiz um novo backup do Whatsapp e logo em seguida já desinstalei ele do meu celular, de tanto ódio que eu tenho. Isso foi um erro.</p>\n<p>Eu iniciei o processo de restauração do backup do Whatsapp através do Google Drive no meu celular novo e, quando atingiu 24%, apareceu um erro: <strong>Não foi possível restaurar o backup</strong>. São 10GB de backup, então não me preocupei muito e resolvi tentar de novo, bom acontece que para tentar de novo, você precisa desinstalar o Whatsapp e instalar novamente… ok…</p>\n<p>Então eu fui la instalei e desinstalei, tentei denovo, e para minha surpresa aconteceu o mesmo erro. E não existe opção de tentar novamente ou mudar para restauração de arquivos no armazenamento local, não não não, se você quiser tentar novamente, desinstale e instale novamente esse incrível aplicativo. Continuei tentando mais algumas vezes, com tipos de backup diferentes (local, nuvem), com arquivos de backup diferentes, e depois de tanto tentar, eu passei a ter que esperar 2 horas para pedir um SMS para ativar a minha conta. Tá né… Esperei, tentei de novo, e claro que não funcionou, aí tive que esperar 7 horas. Impressionante.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 576px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 222.265625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAsABQDASIAAhEBAxEB/8QAGQAAAwEBAQAAAAAAAAAAAAAAAAECBAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAfCqAYhNDzsZIUc2tEB//8QAGxAAAQUBAQAAAAAAAAAAAAAAAQACESAhEBP/2gAIAQEAAQUCWVDAR5hOEHVJrPf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AV//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AV//xAAXEAADAQAAAAAAAAAAAAAAAAAAIDEw/9oACAEBAAY/Ampc/wD/xAAdEAACAQQDAAAAAAAAAAAAAAAAAREQIVFhIDGB/9oACAEBAAE/IRYWex+cFltjaLUicmbGXfdZJZJZLP/aAAwDAQACAAMAAAAQe/KDIw//xAAWEQEBAQAAAAAAAAAAAAAAAAABESD/2gAIAQMBAT8QGa//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EF//xAAiEAEAAgEDAwUAAAAAAAAAAAABABExIVFhEIGhQXGx0fH/2gAIAQEAAT8QMVZUpzaMsT4ibyuQmkXoEQpdVEPX7Qb5Sr1gRQB7s/TYqXZeZ9Tv5iN/MNXVicziO9P/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Bora esperar 24h\"\n        title=\"Bora esperar 24h\"\n        src=\"/static/ac157d47debff09e795b787faedeee4d/17d4d/whatsapp-waiting-time.jpg\"\n        srcset=\"/static/ac157d47debff09e795b787faedeee4d/db830/whatsapp-waiting-time.jpg 256w,\n/static/ac157d47debff09e795b787faedeee4d/8102f/whatsapp-waiting-time.jpg 512w,\n/static/ac157d47debff09e795b787faedeee4d/17d4d/whatsapp-waiting-time.jpg 576w\"\n        sizes=\"(max-width: 576px) 100vw, 576px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Bora esperar 24h</figcaption>\n  </figure></p>\n<p>Então comecei a pesquisar <a href=\"https://www.google.com.br/search?q=whatsapp+backup+travou+em+24%25&#x26;oq=whatsapp+backup+travou+em+24%25\" target=\"_blank\" rel=\"noreferrer\">e muitas outras pessoas têm o mesmo problema</a>. Eu não entendo como um aplicativo de uma empresa bilionária pode ser tão ruim. Tentei entrar em contato com o suporte ao cliente, mas eles falaram que não podiam me ajudar. Levei menos de 5 minutos para restaurar meu backup do Signal para meu celular novo e já estava há 20 horas tentando restaurar meu backup do Whatsapp.</p>\n<h2 id=\"ta-e-agora\" style=\"position:relative;\"><a href=\"#ta-e-agora\" aria-label=\"ta e agora permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tá e agora?</h2>\n<p>Eu desisti. Pois é, sério, eu desisti. Tudo o que quero fazer agora é acessar meu histórico de mensagens de qualquer maneira possível, tipo uma planilha ou sei lá. Eu tenho os arquivos de backup, então isso tem que ser possível de algum jeito, né?</p>\n<h2 id=\"1---faca-o-root-no-seu-celular\" style=\"position:relative;\"><a href=\"#1---faca-o-root-no-seu-celular\" aria-label=\"1   faca o root no seu celular permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 - Faça o root no seu celular</h2>\n<p>Isso não é muito legal, mas não tem outro jeito, se você quiser descriptografar o arquivo <code class=\"language-text\">msgstore.db.crypt12</code> do backup do Whatsapp, você vai precisar da sua chave de criptografia do Whatsapp, que está localizada em <code class=\"language-text\">/data/data/com.whatsapp/files/key</code>, e para conseguir copiar esse arquivo é necessario o root.</p>\n<h2 id=\"2---descriptografe-o-seu-arquivo-de-banco-de-dados\" style=\"position:relative;\"><a href=\"#2---descriptografe-o-seu-arquivo-de-banco-de-dados\" aria-label=\"2   descriptografe o seu arquivo de banco de dados permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 - Descriptografe o seu arquivo de banco de dados</h2>\n<p>Depois de obter a chave, você pode descriptografar o seu arquivo de backup por meio de um <a href=\"https://github.com/CanciuCostin/crypt12-decrypt\" target=\"_blank\" rel=\"noreferrer\">script Go (ou .exe)</a> ou usando o incrível <a href=\"https://github.com/andreas-mausch/whatsapp-viewer\" target=\"_blank\" rel=\"noreferrer\">Whatsapp Viewer</a>, que não só descriptografa o seu arquivo de backup (que é um arquivo SQLite), mas também carrega todos os seus chats e permite exportá-los para <code class=\"language-text\">HTML</code> ou <code class=\"language-text\">JSON</code> um por um.</p>\n<h2 id=\"3---acesse-seus-dados\" style=\"position:relative;\"><a href=\"#3---acesse-seus-dados\" aria-label=\"3   acesse seus dados permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 - Acesse seus dados</h2>\n<p>Como mencionado antes, você pode usar o Whatsapp Viewer para visualizar todas as suas conversas ou pode até usar um aplicativo de navegador SQLite e ver os dados direto por lá. Eu encontrei um <a href=\"https://github.com/KnugiHK/Whatsapp-Chat-Exporter\" target=\"_blank\" rel=\"noreferrer\">script em Python muito bom no GitHub</a> (que tem apenas 6 dias de vida - sorte minha) que me permitiu exportar todos os meus chats em uma vez só para um único arquivo <code class=\"language-text\">JSON</code>, e com este arquivo <code class=\"language-text\">JSON</code> posso fazer o que quiser com meu histórico do Whatsapp, posso até usar <a href=\"https://github.com/detaysoft/react-chat-elements#readme\" target=\"_blank\" rel=\"noreferrer\">react-chat-elements</a> para criar um pequeno projeto com <a href=\"https://www.gatsbyjs.com/\" target=\"_blank\" rel=\"noreferrer\">Gatsby</a> para carregar todas as minhas mensagens, quem sabe.</p>\n<h2 id=\"moral-da-historia\" style=\"position:relative;\"><a href=\"#moral-da-historia\" aria-label=\"moral da historia permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Moral da história</h2>\n<p>O Whatsapp é muito ruim e você não deveria usá-lo. De verdade. E nem estou falando da questão da privacidade, é apenas um aplicativo horrível que não tem features básicas que qualquer aplicativo de mensagens hoje em dia deveria ter. Esquece o Whatsapp e use o Telegram.</p>\n<p>Infelizmente eu ainda vou continuar usando o Whatsapp, porque preciso manter contato com outras pessoas que só usam ele e, pior ainda, vou usá-lo sem o meu backup 😭. Pelo menos agora sei que não posso confiar nele para isso e que existem outras soluções (não oficiais) para resolver esse problema.</p>","fields":{"slug":"/2021/2021-01-24-tinha-que-ser-o-whatsapp-de-novo.pt-br/","path":"/blog/general/tinha-que-ser-o-whatsapp-de-novo/","locale":"pt-br"},"readingTime":{"minutes":4.745},"frontmatter":{"date":"2021-01-24T00:00:00.000Z","title":"Tinha que ser o Whatsapp de novo!","categories":["general"]}}},{"node":{"excerpt":"Fala galera, estou aqui mais uma vez humildemente atrasado…","html":"<p>Fala galera, estou aqui mais uma vez humildemente atrasado com um devlog devido ao natal e etc. Mas bom, deixa isso pra la e vamos ver logo o video de hoje.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/WKK5jc3rl1w?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Bom isso é bem simples de fazer, porém adiciona uma nivel de polimento bem legal no jogo. Primeiro eu criei uma game scene nova chamada <code class=\"language-text\">StagePresentationScene</code>, e nela, eu pego a variável <code class=\"language-text\">stageName</code> e a mostro no meio da tela por 1,5 segundo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Scene <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'phaser'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> handleSceneEnd <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/scenes'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">StagePresentationScene</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Scene</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token string\">'StagePresentationScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>initData <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cameras<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>initData<span class=\"token punctuation\">.</span>stageName\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token number\">1500</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">handleSceneEnd</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'GameScene'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>initData<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> StagePresentationScene<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Eu consigo acessar o atributo <code class=\"language-text\">stageName</code> do Tiled com uma simples função de <code class=\"language-text\">filter</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// stageNameProperty will be an object with a property value in it</span>\r\n<span class=\"token keyword\">const</span> stageNameProperty <span class=\"token operator\">=</span> stageJson<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> property<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token constant\">STAGE_NAME</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E apesar de ser bem simples de fazer, isso deixa o jogo bem mais bonitinho.</p>\n<p><img src=\"/286f7df54e54aa88ad4967a1424de1c5/stage-presentation.gif\" alt=\"Transição para fase\"></p>\n<p>E por hoje é isso. Não esqueça de adicionar a propriedade <code class=\"language-text\">stageName</code> nas propriedades de mapa no Tiled. Vejo vocês semana que vem!</p>","fields":{"slug":"/2020/2020-29-12-adicionando-transicao-ao-carregar-uma-fase-no-phaser-js-skate-platformer-game-devlog-16.pt-br/","path":"/blog/games/adicionando-transicao-ao-carregar-uma-fase-no-phaser-js-skate-platformer-game-devlog-16/","locale":"pt-br"},"readingTime":{"minutes":1.035},"frontmatter":{"date":"2020-12-29T00:00:00.000Z","title":"Adicionando transição ao carregar uma fase no Phaser JS - Game Devlog #16","categories":["games"]}}},{"node":{"excerpt":"Vamos lá, se prepare pois o devlog de hoje é longo, mas vale…","html":"<p>Vamos lá, se prepare pois o devlog de hoje é longo, mas vale a pena. Eu estou muito feliz que eu consegui fazer esse devlog, afinal Cyberpunk 2077 saiu essa semana e eu comecei a jogar no Stadia! O devlog de hoje está longo porque quero explicar o motivo pelo qual estou fazendo certas coisas.</p>\n<p>Hoje vou mostrar como melhorei a AI dos inimigos do jogo e por que lido com tantos edge cases no meu código. Bora lá!</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/KoCubm17q8s?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Minha primeira tentativa no algoritmo de AI foi calculá-lo em tempo de execução, então onde quer que eu colocasse um inimigo, ele se moveria e calcularia se deveria girar ou não em cada frame, isso era muito pesado para o processador, especialmente quando eu tinha muitos inimigos na tela ao mesmo tempo.</p>\n<p>Havia duas maneiras de abordar esse problema, uma seria criar manualmente um path estático no Tiled e fazer o inimigo seguir esse path, mas sempre que adicionar um novo inimigo, eu teria que adicionar um path para ele também, e isso pode acaba sendo um trabalho super tedioso, sem contar às vezes que eu com certeza esqueceria de adicionar o path. Complicado.</p>\n<p>A segunda opção é ao invés de calcular o comportamento do inimigo em cada frame, eu poderia pré-calcular todos eles assim que a fase fosse carregada, e então definir esse path estaticamente, desta forma eu teria a liberdade de adicionar inimigos onde eu quisesse no Tiled, sem ter que adicionar paths extras para eles seguirem e também manter a taxa de frames estável por não processar a lógica do inimigo em cada frame.</p>\n<p>Então, como eu fiz isso? Primeiro, há alguns edge cases que eu preciso lidar, tipo e se o inimigo não estiver em uma plataforma ou chão? Ou e se a plataforma não tiver bordas? Eu sei que eu mesmo estarei fazendo as fases no Tiled, mas é bom lidar com esses problemas de qualquer forma, porque nunca sabemos quais bugs o futuro nos reserva.</p>\n<p>Já que eu não tenho como saber se o inimigo já está em uma plataforma ou não, eu preciso esperar a física do jogo entrar em ação e calcular a posição do inimigo, como à gravidade e outras coisas, então ao invés de calcular a AI estática no <code class=\"language-text\">construtor</code>, estou fazendo isso na função <code class=\"language-text\">update</code> e, depois de calculado, simplesmente “removo” a função <code class=\"language-text\">update</code> substituindo-a por uma função <code class=\"language-text\">no-op</code> (no operation).</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Enemy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Sprite</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> scene<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> asset <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> asset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>staticAi <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">PLATFORM_WALKING</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>aiColliders <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>aiColliders<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// we don't need the update function anymore</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">update</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>staticAi<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">aiStrategy</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>aiStrategy <span class=\"token operator\">===</span> <span class=\"token constant\">PLATFORM_WALKING</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// first check if the enemy is on a platform</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token operator\">?.</span>layer<span class=\"token operator\">?.</span>tilemapLayer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token comment\">// then calculate the colliders that will make the enemy change direction</span>\r\n                    <span class=\"token keyword\">const</span> colliders <span class=\"token operator\">=</span> <span class=\"token function\">staticPlatformWalkingBehavior</span><span class=\"token punctuation\">(</span>\r\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>tilemapLayer\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token comment\">// TODO concat array</span>\r\n                    colliders<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">collider</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>aiColliders<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>collider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Enemy<span class=\"token punctuation\">;</span></code></pre></div>\n<p>E então toda a mágica acontece dentro do <code class=\"language-text\">staticPlatformWalkingBehavior</code>, que honestamente é super simples e zero mágica, eu só preciso pegar a layer de colisão do inimigo e verificar se há uma borda na plataforma em ambas as direções. O único problema dessa função é que não quero que ela rode para sempre até encontrar uma borda, porque talvez a plataforma não tenha uma borda, quem sabe? Então, em vez disso, executarei esse loop para cada tile que eu tenho dentro da largura do mapa.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">staticPlatformWalkingBehavior</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token parameter\">gameObject<span class=\"token punctuation\">,</span>\r\n    dynamicLayer</span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> scene <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> divider <span class=\"token operator\">=</span> <span class=\"token constant\">TILE_WIDTH</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> loopSize <span class=\"token operator\">=</span> scene<span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">.</span>tileSize<span class=\"token punctuation\">.</span>width <span class=\"token operator\">*</span> divider<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> layers <span class=\"token operator\">=</span> dynamicLayer<span class=\"token operator\">?.</span>getChildren<span class=\"token operator\">?.</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span>dynamicLayer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// for each collision layer</span>\r\n    layers<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// for each direction</span>\r\n        <span class=\"token punctuation\">[</span><span class=\"token constant\">FACING_RIGHT</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">FACING_LEFT</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">direction</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// for each tile of the map * divider</span>\r\n            <span class=\"token keyword\">let</span> lastGroundTile<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>loopSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token punctuation\">(</span><span class=\"token parameter\">num<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">const</span> multiplier <span class=\"token operator\">=</span> direction <span class=\"token operator\">===</span> <span class=\"token constant\">FACING_RIGHT</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">const</span> posX <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> multiplier<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">const</span> groundTile <span class=\"token operator\">=</span> layer<span class=\"token punctuation\">.</span><span class=\"token function\">getTileAtWorldXY</span><span class=\"token punctuation\">(</span>\r\n                        posX<span class=\"token punctuation\">,</span>\r\n                        gameObject<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">0.5</span>\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> layer<span class=\"token punctuation\">.</span><span class=\"token function\">getTileAtWorldXY</span><span class=\"token punctuation\">(</span>\r\n                        posX<span class=\"token punctuation\">,</span>\r\n                        gameObject<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span>\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token comment\">// check for collisions</span>\r\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n                        <span class=\"token operator\">!</span>groundTile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>collideUp\r\n                        <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">===</span> <span class=\"token constant\">FACING_RIGHT</span> <span class=\"token operator\">&amp;&amp;</span> tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>collideLeft<span class=\"token punctuation\">)</span>\r\n                        <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">===</span> <span class=\"token constant\">FACING_LEFT</span> <span class=\"token operator\">&amp;&amp;</span> tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>collideRight<span class=\"token punctuation\">)</span>\r\n                    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token keyword\">let</span> newPosX <span class=\"token operator\">=</span>\r\n                            lastGroundTile<span class=\"token operator\">?.</span>pixelX\r\n                            <span class=\"token operator\">||</span> tile<span class=\"token operator\">?.</span>pixelX\r\n                            <span class=\"token operator\">||</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>posX <span class=\"token operator\">/</span> <span class=\"token constant\">TILE_WIDTH</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token constant\">TILE_WIDTH</span><span class=\"token punctuation\">;</span>\r\n                        newPosX <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">TILE_WIDTH</span> <span class=\"token operator\">*</span> multiplier<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                        <span class=\"token comment\">// create a custom collider object</span>\r\n                        <span class=\"token keyword\">const</span> platformLimitCollider <span class=\"token operator\">=</span> <span class=\"token function\">createInteractiveGameObject</span><span class=\"token punctuation\">(</span>\r\n                            gameObject<span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">,</span>\r\n                            newPosX<span class=\"token punctuation\">,</span>\r\n                            gameObject<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token constant\">TILE_WIDTH</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token constant\">TILE_HEIGHT</span><span class=\"token punctuation\">,</span>\r\n                            <span class=\"token string\">'something'</span>\r\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                        <span class=\"token comment\">// create a collision between the gameobject and the custom collider</span>\r\n                        scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>gameObject<span class=\"token punctuation\">,</span> platformLimitCollider<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                            gameObject<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityX</span><span class=\"token punctuation\">(</span>\r\n                                <span class=\"token operator\">-</span>gameObject<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x\r\n                            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            gameObject<span class=\"token punctuation\">.</span><span class=\"token function\">setFlipX</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>gameObject<span class=\"token punctuation\">.</span>flipX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>platformLimitCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                        <span class=\"token comment\">// return true so the 'some' doesn't run anymore</span>\r\n                        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n\r\n                    lastGroundTile <span class=\"token operator\">=</span> groundTile<span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E com esse código, temos o resultado abaixo.</p>\n<p><img src=\"/c44e9c39ebda2dbd1987240257d76317/static-ai-calculation.gif\" alt=\"Cálculo estático da AI\"></p>\n<p>O meu principal objetivo é criar todas as regras de jogo baseadas em elementos e interações para que depois eu possa simplesmente criar uma fase no Tiled e tudo funcionar sem eu precisar ficar mexendo muito nela, criando colliders e outras coisas manualmente, assim como fizeram no Breath of The Wild. Eu prefiro que o jogo calcule tudo isso pra mim para que eu possa focar em criar novas fases sem dificuldade. E no final eu vou ter tipo um Mario Maker 😃.</p>\n<p>E por hoje ficamos por aqui, obrigado por ler e assistir o vídeo e não se esqueça de deixar o seu comentário sobre o que você está achando dessa série de posts / vídeos. Até semana que vem!</p>","fields":{"slug":"/2020/2020-15-12-criando-uma-ai-mais-inteligente-e-performatica-no-phaser-js-skate-platformer-game-devlog-15.pt-br/","path":"/blog/games/criando-uma-ai-mais-inteligente-e-performatica-no-phaser-js-skate-platformer-game-devlog-15/","locale":"pt-br"},"readingTime":{"minutes":4.665},"frontmatter":{"date":"2020-12-15T00:00:00.000Z","title":"Criando uma AI mais inteligente e performática no Phaser JS - Game Devlog #15","categories":["games"]}}},{"node":{"excerpt":"Fala galera. Esta semana eu trago outro devlog pequenininho…","html":"<p>Fala galera. Esta semana eu trago outro devlog pequenininho por causa do Hyrule Warriors… É eu sei, mas agora eu fechei o jogo no modo <code class=\"language-text\">Very Hard</code> e estou “livre”. Hoje vou mostrar como criar um clima chuvoso com base em variáveis definidas no Tiled.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/z6b3F9SwxN0?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Isso é muito fácil de fazer, a única parte que leva algum tempo é ajustar as configurações de partículas até encontrar algo que você goste, você pode usar <a href=\"https://www.particlebarn.com/\" target=\"_blank\" rel=\"noreferrer\">particlebarn.com</a> para ajudar. Depois de encontrar a configuração desejada, basta copia-la para o jogo, no meu caso estou usando a configuração abaixo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rain <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">particles</span><span class=\"token punctuation\">(</span><span class=\"token string\">'rain_drop'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span><span class=\"token function\">createEmitter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">min</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">max</span><span class=\"token operator\">:</span> mapWidth <span class=\"token operator\">+</span> <span class=\"token number\">50</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">lifespan</span><span class=\"token operator\">:</span> <span class=\"token number\">1200</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">speedY</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">min</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">max</span><span class=\"token operator\">:</span> <span class=\"token number\">400</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">gravityY</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">gravityX</span><span class=\"token operator\">:</span> PhaserMath<span class=\"token punctuation\">.</span><span class=\"token function\">Between</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">scale</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">start</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">end</span><span class=\"token operator\">:</span> <span class=\"token number\">0.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">quantity</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">blendMode</span><span class=\"token operator\">:</span> <span class=\"token string\">'ADD'</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span><span class=\"token constant\">WEATHER_DEPTH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"/d5995b4f2529cb05217c237b43bad353/rainy-weather.gif\" alt=\"Tempo chuvoso\" title=\"A compressão do gif não está fazendo jus ao efeito\"></p>\n<p>Depois é só colocar esse código dentro de um <code class=\"language-text\">if</code> e executa-lo sempre que tiver a propriedade <code class=\"language-text\">weather</code> definida como <code class=\"language-text\">rainy</code> no mapa do Tiled. E foi isso por hoje, curto, mas incrível haha.</p>\n<p>Até semana que vem!</p>","fields":{"slug":"/2020/2020-09-12-criando-clima-chuvoso-no-phaser-js-skate-platformer-game-devlog-14.pt-br/","path":"/blog/games/criando-clima-chuvoso-no-phaser-js-skate-platformer-game-devlog-14/","locale":"pt-br"},"readingTime":{"minutes":0.955},"frontmatter":{"date":"2020-12-09T00:00:00.000Z","title":"Criando clima chuvoso no Phaser JS - Skate Platformer Game Devlog #14","categories":["games"]}}},{"node":{"excerpt":"Fala pessoal, no game devlog de hoje eu vou adicionar uma…","html":"<p>Fala pessoal, no game devlog de hoje eu vou adicionar uma loading screen mostrando os assets que estão sendo carregados e também adicionar a opção de usar traduções nos textos do jogo.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/IlOlv-9hKZc?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Para fazer a loading screen, eu segui o <a href=\"https://gamedevacademy.org/creating-a-preloading-screen-in-phaser-3/\" target=\"_blank\" rel=\"noreferrer\">tutorial feito pelo site Zenva</a>, que basicamente se resume em utilizar 3 eventos que são disparados pelo Phaser durante o processo de load dos assets na função <code class=\"language-text\">preload</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'progress'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            \r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fileprogress'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n \r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'complete'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'complete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E o resultado final ficará tipo o código abaixo. Veja <a href=\"https://gamedevacademy.org/creating-a-preloading-screen-in-phaser-3/\" target=\"_blank\" rel=\"noreferrer\">o post no blog do Zenva</a> para um tutorial mais detalhado.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> progressBox <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">graphics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> progressBar <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">graphics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nprogressBox<span class=\"token punctuation\">.</span><span class=\"token function\">fillStyle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x222222</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nprogressBox<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">240</span><span class=\"token punctuation\">,</span> <span class=\"token number\">270</span><span class=\"token punctuation\">,</span> <span class=\"token number\">320</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'progress'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    progressBar<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    progressBar<span class=\"token punctuation\">.</span><span class=\"token function\">fillStyle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xffffff</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    progressBar<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">250</span><span class=\"token punctuation\">,</span> <span class=\"token number\">280</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span> <span class=\"token operator\">*</span> value<span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Para a tradução, tenho que inicializar o plugin <code class=\"language-text\">i18next</code> com os idiomas que desejo que meu jogo suporte. Isso precisa ser inicializado no entry point do jogo, provavelmente o arquivo <code class=\"language-text\">index.js</code> ou <code class=\"language-text\">main.js</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> i18next <span class=\"token keyword\">from</span> <span class=\"token string\">'i18next'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> LanguageDetector <span class=\"token keyword\">from</span> <span class=\"token string\">'i18next-browser-languagedetector'</span><span class=\"token punctuation\">;</span>\r\n\r\ni18next<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>LanguageDetector<span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">resources</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">en</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">translation</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token string-property property\">\"loading_ellipsis\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string-property property\">\"loading_asset_colon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Loading asset:\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string-property property\">\"select_your_stage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Select Your Stage\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token string-property property\">'pt-BR'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">translation</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n          <span class=\"token string-property property\">\"loading_ellipsis\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Carregando...\"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string-property property\">\"loading_asset_colon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Carregando arquivo: \"</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string-property property\">\"select_your_stage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Selecione sua fase\"</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Depois disso, você pode usar <code class=\"language-text\">i18next.t('translation_key')</code> em qualquer lugar do jogo para obter a tradução de uma key para o idioma atual. Você também pode alterar o idioma manualmente chamando <code class=\"language-text\">i18next.changeLanguage('language_key')</code>.</p>\n<p>E por hoje é isso, eu ainda estou jogando o novo Hyrule Warriors mas pelo menos consegui fazer um pouco de progresso no jogo e no devlog. Vejo vocês semana que vem, até!</p>","fields":{"slug":"/2020/2020-29-11-criando-uma-loading-screen-e-traduzindo-o-meu-jogo-no-phaser-js-skate-platformer-game-devlog-13.pt-br/","path":"/blog/games/criando-uma-loading-screen-e-traduzindo-o-meu-jogo-no-phaser-js-skate-platformer-game-devlog-13/","locale":"pt-br"},"readingTime":{"minutes":1.425},"frontmatter":{"date":"2020-11-29T00:00:00.000Z","title":"Criando uma loading screen e traduzindo o meu jogo no Phaser JS - Skate Platformer Game Devlog #13","categories":["games"]}}},{"node":{"excerpt":"Fala pessoal! No vídeo de hoje vou mostrar como eu fiz para…","html":"<p>Fala pessoal! No vídeo de hoje vou mostrar como eu fiz para criar um checkpoint para o herói no meu jogo de uma maneira bem fácil.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/KKsg96FD2qI?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Bom, eu basicamente fiz tudo em duas etapas. Primeiro, defino um overlap entre o herói e meu objeto de checkpoint e, dentro da função de callback, salvo a posição atual do herói para ser usada posteriormente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> checkpoint <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Checkpoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> overlap <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n  checkpoint<span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">(</span><span class=\"token parameter\">objectA<span class=\"token punctuation\">,</span> objectB</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    checkpoint<span class=\"token punctuation\">.</span><span class=\"token function\">setAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'save'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    overlap<span class=\"token operator\">?.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// save it to the browser local storage</span>\r\n    localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero_checkpoint'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> hero<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\r\n      <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> hero<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E no final da minha função <code class=\"language-text\">create</code> da minha scene, eu coloco o herói na nova posição salva de antes.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> heroCheckpoint <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero_checkpoint'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>heroCheckpoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> position <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>heroCheckpoint<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">// always remove the key just in case</span>\r\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">removeItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hero_checkpoint'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E é isso. Super simples, certo? Desculpe pelo devlog curto esta semana, mas eu tive um pequeno acidente na minha mão, como falei no vídeo, e me impossibilitou de programar por uns dias.</p>\n<p>Essa semana, o novo Hyrule Warriors será lançado, então não posso prometer que farei novos devlogs também 😬 mas vou tentar!</p>","fields":{"slug":"/2020/2020-19-11-salvando-progresso-do-jogador-com-checkpoints-no-phaser-js-skate-platformer-game-devlog-12.pt-br/","path":"/blog/games/salvando-progresso-do-jogador-com-checkpoints-no-phaser-js-skate-platformer-game-devlog-12/","locale":"pt-br"},"readingTime":{"minutes":0.99},"frontmatter":{"date":"2020-11-19T00:00:00.000Z","title":"Salvando progresso do jogador com checkpoints no Phaser JS - Skate Platformer Game Devlog #12","categories":["games"]}}},{"node":{"excerpt":"Fala pessoal, no devlog de hoje vou fazer uma parada muito…","html":"<p>Fala pessoal, no devlog de hoje vou fazer uma parada muito legal - carregar dinamicamente arquivos externos de mapa do Tiled criado pelo usuário.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/RiC4T97s8eI?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Primeiro, temos que entender como o Phaser funciona. O Phaser é executado dentro de um elemento de canvas do HTML que é anexado a qualquer ID de elemento HTML que você colocar na opção <code class=\"language-text\">parent</code> de configurações do Phaser, então, se eu quiser usar uma ação relacionada ao browser, como enviar um arquivo usando o elemento HTML de file input, eu tenho que cria-lo manualmente e para depois poder usa-lo quando necessário.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fileInput <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlFileInput</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">spriteKey</span><span class=\"token operator\">:</span> <span class=\"token string\">'file-input'</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">callBackFunction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// trigget the HTML file input click</span>\r\n    fileInput<span class=\"token punctuation\">.</span>fileInput<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Mas que diabos é esse <code class=\"language-text\">HtmlFileInput</code>? É basicamente uma classe que em seu construtor eu crio dinamicamente um elemento HTML de input a anexo ele ao DOM da página. A parte de estilo existe para garantir que o elemento não seja visível para o usuário.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">HtmlFileInput</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\r\n        scene<span class=\"token punctuation\">,</span>\r\n        spriteKey<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Phaser's parent HTML element</span>\r\n        <span class=\"token keyword\">const</span> mainElement <span class=\"token operator\">=</span> scene<span class=\"token punctuation\">.</span>sys<span class=\"token punctuation\">.</span>game<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>parentElement<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create html input type</span>\r\n        <span class=\"token keyword\">const</span> fileInput <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        fileInput<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'type'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'file'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        fileInput<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'accept'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        fileInput<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> spriteKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// TODO this stylings</span>\r\n        fileInput<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>position <span class=\"token operator\">=</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">;</span>\r\n        fileInput<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>top <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n        fileInput<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">'block'</span><span class=\"token punctuation\">;</span>\r\n        fileInput<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>marginTop <span class=\"token operator\">=</span> <span class=\"token string\">'-400px'</span><span class=\"token punctuation\">;</span>\r\n\r\n        mainElement<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>fileInput<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFileInput</span><span class=\"token punctuation\">(</span>fileInput<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setScene</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function-variable function\">setFileInput</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">fileInput</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fileInput <span class=\"token operator\">=</span> fileInput<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function-variable function\">setScene</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">scene</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene <span class=\"token operator\">=</span> scene<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> HtmlFileInput<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Eu sei que parece uma gambiarra, mas esta é a maneira correta de fazer isso na Phaser 3, apenas não se esqueça de remover o elemento do DOM quando terminar de usá-lo, chamando <code class=\"language-text\">fileInput.fileInput.remove()</code>.</p>\n<p>Agora preciso fazer o parse do arquivo <code class=\"language-text\">.json</code> enviado pelo usuário e deixa-lo disponível no “gerenciador de arquivos em cache” do Phaser, e a melhor maneira de fazer isso é usando a função <code class=\"language-text\">preload</code> do Phaser. Primeiro, vamos dar uma olhada em como a função de callback realmente funciona.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">callBackFunction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    fileInput<span class=\"token punctuation\">.</span>textfield<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onchange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        reader<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>reader<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token string\">'CustomStageLoadingScene'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">stageKey</span><span class=\"token operator\">:</span> <span class=\"token string\">'custom_stage'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">stageData</span><span class=\"token operator\">:</span> result<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">nextScene</span><span class=\"token operator\">:</span> <span class=\"token string\">'GameScene'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsText</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n    fileInput<span class=\"token punctuation\">.</span>textfield<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Como você pode ver, eu estou usando o <code class=\"language-text\">FileReader</code> para carregar o arquivo e passando ele como parâmetro para uma scene nova chamada <code class=\"language-text\">CustomStageLoadingScene</code> que só existe como uma game scene auxiliar para carregar dinamicamente a fase enviada pelo usuário.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomStageLoadingScene</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Scene</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token string\">'CustomStageLoadingScene'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// data sent as a second parameter when calling the scene</span>\r\n        <span class=\"token comment\">// will be available here</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> stageKey<span class=\"token punctuation\">,</span> stageData<span class=\"token punctuation\">,</span> nextScene <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>stageKey <span class=\"token operator\">=</span> stageKey<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>stageData <span class=\"token operator\">=</span> stageData<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nextScene <span class=\"token operator\">=</span> nextScene<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> stageKey<span class=\"token punctuation\">,</span> stageData <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// make the JSON data available to Phaser's internal cache</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">.</span><span class=\"token function\">tilemapTiledJSON</span><span class=\"token punctuation\">(</span>stageKey<span class=\"token punctuation\">,</span> stageData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> stageKey<span class=\"token punctuation\">,</span> nextScene <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// start the next scene</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span>nextScene<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> stageKey<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">stageName</span><span class=\"token operator\">:</span> <span class=\"token string\">'custom'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora que eu tenho os dados setados com o <code class=\"language-text\">this.load.tilemapTiledJSON()</code>, eu posso criar o novo estágio com <code class=\"language-text\">scene.make.tilemap ({key: stageKey})</code>. Show de bola!</p>\n<p>E isso é tudo por hoje, por favor, não esqueça de curtir o vídeo e se inscrever no meu canal, e se esses devlogs forem de alguma utilidade para você, me avise nos comentários abaixo. Obrigado e até a próxima.</p>","fields":{"slug":"/2020/2020-11-11-carregando-fases-criadas-pelo-usuario-no-tiled-no-phaser-js-skate-platformer-game-devlog-11.pt-br/","path":"/blog/games/carregando-fases-criadas-pelo-usuario-no-tiled-no-phaser-js-skate-platformer-game-devlog-11/","locale":"pt-br"},"readingTime":{"minutes":2.815},"frontmatter":{"date":"2020-11-11T00:00:00.000Z","title":"Carregando fases criadas pelo usuário no Tiled no Phaser JS - Skate Platformer Game Devlog #11","categories":["games"]}}},{"node":{"excerpt":"Fala pessoal, no game devlog de hoje vou mostrar como eu fiz…","html":"<p>Fala pessoal, no game devlog de hoje vou mostrar como eu fiz para criar o HUD com os status do herói.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/JVeRYsaXxpg?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>A primeira coisa que fiz foi cortar o design do HUD que o Ítalo fez em pequenas partes reutilizáveis para que eu pudesse aumentar/diminuir as barras de vida à vontade. O PNG do atlas ficou assim:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 330px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 142.578125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAF+ubkVWhYLbpao0pCRH//EABwQAAEEAwEAAAAAAAAAAAAAAAEAAgMSESIxBP/aAAgBAQABBQJ5qBKwjq9MbnnSkeKB1DaPCkCHWDX/xAAZEQADAAMAAAAAAAAAAAAAAAAAASESMUH/2gAIAQMBAT8BSXR7HaZH/8QAGxEAAQQDAAAAAAAAAAAAAAAAAAECAxEQE0H/2gAIAQIBAT8BvCR100tP/8QAIRAAAQMBCQAAAAAAAAAAAAAAAAECETEQEiAhMkFhcYH/2gAIAQEABj8Cly+mqxsZolS9DooJBwbdYKn/xAAcEAADAQADAQEAAAAAAAAAAAAAAREhMUFRYXH/2gAIAQEAAT8hpQblcCY1+hNJU6hiq6sGpwPsiXWl05Seh5U3+Bbptb2LVXpjH//aAAwDAQACAAMAAAAQHCNP/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERMaH/2gAIAQMBAT8QuKRkiAb3eH//xAAYEQEBAQEBAAAAAAAAAAAAAAABABExUf/aAAgBAgEBPxDLyHYA5PW//8QAHBABAAMAAwEBAAAAAAAAAAAAAQARITFBUXGB/9oACAEBAAE/EAPCm7H4grm+w5DIk4RlyWRrZ3fnAxWg0ZgNWdQa0R9NjaknC8TAQtlGvyBKKpVxyIWpoFe87KaasF+RmlGVk//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"HUD do herói\"\n        title=\"HUD do herói\"\n        src=\"/static/e238085b17b34974e3945879aea90722/4f5c6/hero_hud.jpg\"\n        srcset=\"/static/e238085b17b34974e3945879aea90722/db830/hero_hud.jpg 256w,\n/static/e238085b17b34974e3945879aea90722/4f5c6/hero_hud.jpg 330w\"\n        sizes=\"(max-width: 330px) 100vw, 330px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">HUD do herói</figcaption>\n  </figure></p>\n<p>Depois de ter todas as partes do HUD separadas, eu criei um <code class=\"language-text\">GameGroup</code> com todas as imagens, e sempre que eu precisar aumentar ou diminuir a vida do herói eu chamo as funções <code class=\"language-text\">increasePlayerLife</code> e <code class=\"language-text\">decreasePlayerLife</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">PlayerHud</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GameGroup</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">scene</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> children <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token comment\">// create all the game object images</span>\r\n        <span class=\"token punctuation\">[</span>\r\n            <span class=\"token string\">'hud_meter_border'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'hud_meter_point_border'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'player_face_hud'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'player_life_hud'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'skate_hud'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'skate_life_hud'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'collectable_times'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'coin'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">asset</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n              <span class=\"token punctuation\">[</span><span class=\"token string\">'hud_meter_border'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hud_meter_point_border'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>asset<span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token punctuation\">[</span><span class=\"token string\">'skate'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'player'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">hudType</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">const</span> assetName <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>hudType<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">_</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>asset<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">const</span> child <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Image</span><span class=\"token punctuation\">(</span>\r\n                        scene<span class=\"token punctuation\">,</span>\r\n                        x<span class=\"token punctuation\">,</span>\r\n                        y<span class=\"token punctuation\">,</span>\r\n                        asset\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                    child<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    child<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span>assetName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    child<span class=\"token punctuation\">.</span><span class=\"token function\">setScrollFactor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    children<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">const</span> child <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Image</span><span class=\"token punctuation\">(</span>\r\n                scene<span class=\"token punctuation\">,</span>\r\n                x<span class=\"token punctuation\">,</span>\r\n                y<span class=\"token punctuation\">,</span>\r\n                asset\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span>asset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            child<span class=\"token punctuation\">.</span><span class=\"token function\">setScrollFactor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            children<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> children<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// create a dummy game object to store the data manager</span>\r\n        <span class=\"token keyword\">const</span> dataGameobject <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Data<span class=\"token punctuation\">.</span>DataManager</span><span class=\"token punctuation\">(</span>dataGameobject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set data manager listeners</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PLAYER_LIFE_DATA</span><span class=\"token punctuation\">,</span> initialPlayerLife<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SKATE_LIFE_DATA</span><span class=\"token punctuation\">,</span> initialSkateLife<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COLLECTED_NUTS_DATA</span><span class=\"token punctuation\">,</span> initialCollectedNuts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span>\r\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">changedata-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">SKATE_LIFE_DATA</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onSkateLifeChanged\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span>\r\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">changedata-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">PLAYER_LIFE_DATA</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onPlayerLifeChanged\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span>\r\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">changedata-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">COLLECTED_NUTS_DATA</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onCollectedNutsChanged\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// After everythibg is set</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHudPositions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function-variable function\">setHudPositions</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// TODO</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function-variable function\">increasePlayerLife</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// TODO</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function-variable function\">decreasePlayerLife</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// TODO</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Como eu não queria deixar a função <code class=\"language-text\">construct</code> grande demais, criei a função <code class=\"language-text\">setHudPositions</code> que seta todas as pocições das imagens do HUD.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function-variable function\">setHudPositions</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> width<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>cameras<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> paddingX <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> paddingY <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> skateLife <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SKATE_LIFE_DATA</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> playerLife <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PLAYER_LIFE_DATA</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getChildren</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">child</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> child<span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>paddingX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>paddingY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'player_face_hud'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// TODO</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'player_hud_meter_border'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setScale</span><span class=\"token punctuation\">(</span>playerLife <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>depth <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'player_hud_meter_point_border'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> playerLife <span class=\"token operator\">+</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>depth <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'player_life_hud'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setScale</span><span class=\"token punctuation\">(</span>playerLife<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>depth <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'skate_hud'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'skate_hud_meter_border'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">34</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setScale</span><span class=\"token punctuation\">(</span>skateLife <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>depth <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'skate_hud_meter_point_border'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> skateLife <span class=\"token operator\">+</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">35</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>depth <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'skate_life_hud'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">35</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setScale</span><span class=\"token punctuation\">(</span>skateLife<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>depth <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'coin'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'nut_text'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">42</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'collectable_times'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token number\">52</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                child<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E por último as funções <code class=\"language-text\">increasePlayerLife</code> e <code class=\"language-text\">decreasePlayerLife</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function-variable function\">decreasePlayerLife</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> playerLife <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PLAYER_LIFE_DATA</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PLAYER_LIFE_DATA</span><span class=\"token punctuation\">,</span> playerLife <span class=\"token operator\">-</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function-variable function\">increasePlayerLife</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> playerLife <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PLAYER_LIFE_DATA</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PLAYER_LIFE_DATA</span><span class=\"token punctuation\">,</span> playerLife <span class=\"token operator\">+</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora bastou eu adicionar <code class=\"language-text\">gameHud.decreasePlayerLife(5)</code> na função de colisão entre o herói e os inimigos e pronto 😄</p>\n<p>E isso conclui o game devlog dessa semana, não esqueça de deixar o seu comentário tanto aqui quanto no vídeo sobre o que tem achado desses posts e vídeos.</p>","fields":{"slug":"/2020/2020-05-11-criando-status-do-heroi-hud-no-phaser-js-skate-platformer-game-devlog-10.pt-br/","path":"/blog/games/criando-status-do-heroi-hud-no-phaser-js-skate-platformer-game-devlog-10/","locale":"pt-br"},"readingTime":{"minutes":2.805},"frontmatter":{"date":"2020-11-05T00:00:00.000Z","title":"Criando status do herói (HUD) no Phaser JS - Skate Platformer Game Devlog #10","categories":["games"]}}},{"node":{"excerpt":"Fala galera! Para o game devlog de hoje, vou mostrar mais…","html":"<p>Fala galera! Para o game devlog de hoje, vou mostrar mais detalhes da AI dos inimigos que implementei.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/9vocKXNKNjk?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Eu decidi criar algumas mixin functions para a lógica de inteligência artificial, o que significa que preciso chamar a função dando bind à classe que está chamando ela, para isso, estou usando o <a href=\"https://github.com/tc39/proposal-bind-operator\" target=\"_blank\" rel=\"noreferrer\">“bind operator” do ES7</a> para que eu possa chamar a função tipo <code class=\"language-text\">this::someExternalFunction()</code>. Outra maneira de fazer isso seria executando <code class=\"language-text\">Object.assign(this, { someExternalFunction })</code> dentro do constructor, e então chame a função como se ela fosse um método de classe, tipo <code class=\"language-text\">this.someExternalFunction()</code>, desse jeito você não precisa usar o bind operator.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">platformWalkingBehavior</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Para a lógica de dentro do <code class=\"language-text\">platformWalkingBehavior</code>, eu fiz da maneira mais simples possível, mas ainda preciso melhorar ela um pouco para ter uma eficiência melhor quando muitos inimigos estão na tela. Primeiro eu verifico se o inimigo tem um tile de chão colidível na frente dele, se tiver, significa que pode continuar andando. Eu também verifico se há algum tile colidível bem na frente do inimigo, se houver, significa que o inimigo deve virar e andar na outra direção. Veja o código abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">platformWalkingBehavior</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// checks if the next ground tile is collidable</span>\r\n    <span class=\"token keyword\">const</span> nextGroundTile <span class=\"token operator\">=</span> <span class=\"token function\">isNextGroundTileCollidable</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>tilemapLayer<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'right'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'left'</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// checks if the next tile is collidable</span>\r\n    <span class=\"token keyword\">const</span> nextTile <span class=\"token operator\">=</span> <span class=\"token function\">isNextTileCollidable</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>tilemapLayer<span class=\"token punctuation\">,</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'right'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'left'</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>nextGroundTile <span class=\"token operator\">||</span> nextTile<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityX</span><span class=\"token punctuation\">(</span>\r\n            <span class=\"token operator\">-</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isNextGroundTileCollidable</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token parameter\">gameObject<span class=\"token punctuation\">,</span>\r\n    dynamicLayer<span class=\"token punctuation\">,</span>\r\n    direction <span class=\"token operator\">=</span> <span class=\"token constant\">FACING_RIGHT</span></span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">.</span><span class=\"token function\">getBounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> posX <span class=\"token operator\">=</span> direction <span class=\"token operator\">===</span> <span class=\"token constant\">FACING_RIGHT</span> <span class=\"token operator\">?</span> x <span class=\"token operator\">+</span> width <span class=\"token operator\">:</span> x <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> dynamicLayer<span class=\"token punctuation\">.</span><span class=\"token function\">getTileAtWorldXY</span><span class=\"token punctuation\">(</span>posX<span class=\"token punctuation\">,</span> y <span class=\"token operator\">+</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>collideUp<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isNextTileCollidable</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token parameter\">gameObject<span class=\"token punctuation\">,</span>\r\n    dynamicLayer<span class=\"token punctuation\">,</span>\r\n    direction <span class=\"token operator\">=</span> <span class=\"token constant\">FACING_RIGHT</span></span>\r\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> width<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">.</span><span class=\"token function\">getBounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> gameObject<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> posX <span class=\"token operator\">=</span> direction <span class=\"token operator\">===</span> <span class=\"token constant\">FACING_RIGHT</span> <span class=\"token operator\">?</span> x <span class=\"token operator\">+</span> width <span class=\"token operator\">:</span> x <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> dynamicLayer<span class=\"token punctuation\">.</span><span class=\"token function\">getTileAtWorldXY</span><span class=\"token punctuation\">(</span>posX<span class=\"token punctuation\">,</span> y <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>direction <span class=\"token operator\">===</span> <span class=\"token constant\">FACING_RIGHT</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>collideLeft<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span> tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>collideRight<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E é assim que fica no jogo:</p>\n<p><img src=\"/537f29d5bf323126defd6f9011d39ab5/enemy-walking-on-platform.gif\" alt=\"Enemy walking on platform\"></p>\n<p>Por hoje é isso, não esqueça de curtir meu vídeo e se inscrever no meu canal.</p>","fields":{"slug":"/2020/2020-30-10-criando-inteligencia-artificial-ai-dos-inimigos-no-phaser-js-skate-platformer-game-devlog-9.pt-br/","path":"/blog/games/criando-inteligencia-artificial-ai-dos-inimigos-no-phaser-js-skate-platformer-game-devlog-9/","locale":"pt-br"},"readingTime":{"minutes":1.945},"frontmatter":{"date":"2020-10-30T00:00:00.000Z","title":"Criando inteligência artificial (AI) dos inimigos no Phaser JS - Skate Platformer Game Devlog #09","categories":["games"]}}},{"node":{"excerpt":"Fala galera, estou de volta com outro game devlog, demorei…","html":"<p>Fala galera, estou de volta com outro game devlog, demorei um pouco para fazer este tiveram algumas coisas que eu realmente não sabia fazer (e ainda não sei). Veja o video abaixo.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/I6btT6AHv78?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Agora vamos dar uma olhada no código, lembra do meu loop na variavel <code class=\"language-text\">dataLayer</code>? É aqui que vamos adicionar nossos novos objetos.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// in the scene create function</span>\r\n<span class=\"token keyword\">const</span> dataLayer <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">getObjectLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ndataLayer<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">,</span> width <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'coin'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// TODO add coin logic here</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'box'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'long_box'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// TODO add box logic here</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'enemy2'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// TODO add enemy logic here</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>A primeira coisa nova são os itens colecionáveis, que é bem simples, tudo o que eu precisei fazer foi instanciar um novo GameObject e destruí-lo quando ele colidir com o hero.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'coin'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> coin <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Coin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    \r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span> coin<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        coin<span class=\"token punctuation\">.</span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora, para a caixa, eu queria que ela ficasse completamente parada, a menos que o hero começasse a empurrá-la. Se eu simplesmente habilitasse o Arcade Physics nas configurações padrão, o hero iria exercer uma força na caixa, e a caixa uma força no hero, e fica algo assim:</p>\n<p><img src=\"/94a2464e81d64e9716fa39fd0d9a6470/bouncing-physics.gif\" alt=\"Física de pula-pula\" title=\"poin poin poin\"></p>\n<p>Eu precisava que a caixa não exercesse nenhuma força no hero, e para fazer isso eu estou usando <code class=\"language-text\">this.body.setAllowGravity(false)</code> e <code class=\"language-text\">this.body.setImmovable(true)</code>, como você pode ver abaixo:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> scene<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> asset<span class=\"token punctuation\">,</span> frame <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> asset<span class=\"token punctuation\">,</span> frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// set physics</span>\r\n    scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAccelerationY</span><span class=\"token punctuation\">(</span>\r\n        scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> gravityY <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>world<span class=\"token punctuation\">.</span>gravity<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAccelerationY</span><span class=\"token punctuation\">(</span>gravityY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>acceleration<span class=\"token punctuation\">.</span>y <span class=\"token operator\">!==</span> gravityY<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Agora se você acha que aquela gambiarra na função <code class=\"language-text\">update</code> foi a pior parte, mermão, você está enganado. Deixe-me te mostrar o que chamo de “a doideira da colisão”.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'box'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'long_box'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> box<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'box'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        box <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Box</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            x<span class=\"token punctuation\">,</span>\r\n            y<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        box <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LongBox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n            x<span class=\"token punctuation\">,</span>\r\n            y<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// Add colliders that forces the box to stop</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>dynamicLayers<span class=\"token punctuation\">.</span>ground<span class=\"token punctuation\">,</span> box<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>dynamicLayers<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">,</span> box<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>mapGroundColliders<span class=\"token punctuation\">,</span> box<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>mapElementsColliders<span class=\"token punctuation\">,</span> box<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// Handles pushing the box</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>box<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>right\r\n            <span class=\"token operator\">&amp;&amp;</span> box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>left\r\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n            box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityX</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>left\r\n            <span class=\"token operator\">&amp;&amp;</span> box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>touching<span class=\"token punctuation\">.</span>right\r\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\r\n            box<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityX</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>velocity<span class=\"token punctuation\">.</span>x\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E por último o inimigo, que é praticamente o mesmo que a <code class=\"language-text\">coin</code>, mas ao invés de destruir o inimigo na colisão, eu faço o hero ficar piscando por uns segundos.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'enemy2'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> enemy2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Enemy2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n       <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// add hero blinking effect</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">overlap</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">,</span>\r\n        enemy2<span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token parameter\">objectA<span class=\"token punctuation\">,</span> objectB</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tweens<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">targets</span><span class=\"token operator\">:</span> player<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">alpha</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">ease</span><span class=\"token operator\">:</span> <span class=\"token string\">'Cubic.easeOut'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">120</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">repeat</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">yoyo</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E por hoje é isso! Fique ligado na próxima semana, quando vou mostrar como construir a Inteligência Artificial do inimigo. Não esqueça de curtir o meu vídeo e se inscrever no meu canal 😊.</p>","fields":{"slug":"/2020/2020-22-10-criando-inimigos-e-itens-colecionaveis-no-phaser-js-skate-platformer-game-devlog-8.pt-br/","path":"/blog/games/criando-inimigos-e-itens-colecionaveis-no-phaser-js-skate-platformer-game-devlog-8/","locale":"pt-br"},"readingTime":{"minutes":2.745},"frontmatter":{"date":"2020-10-22T00:00:00.000Z","title":"Criando inimigos e itens colecionáveis no Phaser JS - Skate Platformer Game Devlog #08","categories":["games"]}}},{"node":{"excerpt":"Importando tilesets externos Tiled é uma ferramenta open…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVQY0wHoARf+ADOI3DOI3DKH3CiC3CeB2yqC2TKH3ESHzFGHv3hyh3R2j12MwMDO3dnY3cDL3EOP3DCG3DSI3DSJ3DWK3QAyiN0xiN02it1spd5xruRlqeUrkuyBcH+4X0CSa2+YbWvPbEPhzcauz+lVouYyi+Ayh9wziN0thtwmgtwAOIjXNYfXQI3XvsvY7JiG2XZomFttsFdcrkdHpFlfo1NZoURInUROk1duklJoY3mwMIveM4TVWZrcnb7iAGuQpGuQpWmPpWOMppFWYJ03QLFCQrhIRK5MTqVVXZdhaJhQV6lLSrNFQ6o/Q4xrdmyTp2eNoouiq8XEvADEo2PDomPDomPGpGO/pWm/omWtk2aMd2qFb2leTGWHcmqcg2qOe22nj2i8oGW+o2XEo2PEo2O/oGK4nWEAn4k5o4o4nIo5ooo5oIs4o4w5bFZJPzlQQztOQTtPRD5ORT1NPTpOXVFJook5oYo5oIo5oYw5oIs6pIw5ACFKViFLViBLViFLVSFHVCBLUSFcRylUTilMUylRVCdRVChQVChRVCRNVCFKVSFMVSFHVSJJUiFIVCFKVgA8M0s9NEs9NEs9MUs/WVc1gVkigU8xgFk9W1g7MEs6M0w7Mkw7Mkw8M0s9NEs9MktCUVQ7f1w+YVU+M0tQItiEJydQCgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Super Ollie vs Pebble Corp.\"\n        title=\"Super Ollie vs Pebble Corp.\"\n        src=\"/static/e75f123fcd3c27b5e43b60fe5c9b9a09/42a19/super-ollie-vs-pebble-corp-tittle-screen.png\"\n        srcset=\"/static/e75f123fcd3c27b5e43b60fe5c9b9a09/e3135/super-ollie-vs-pebble-corp-tittle-screen.png 256w,\n/static/e75f123fcd3c27b5e43b60fe5c9b9a09/06341/super-ollie-vs-pebble-corp-tittle-screen.png 512w,\n/static/e75f123fcd3c27b5e43b60fe5c9b9a09/42a19/super-ollie-vs-pebble-corp-tittle-screen.png 1024w,\n/static/e75f123fcd3c27b5e43b60fe5c9b9a09/e2f49/super-ollie-vs-pebble-corp-tittle-screen.png 1366w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Super Ollie vs Pebble Corp.</figcaption>\n  </figure></p>\n<p>No Game Devlog de hoje, vou mostrar como importar tilesets externos no Phaser JS, mas primeiro vamos tirar isso do caminho: Esqueça o nome \"Skate Platformer\", o nome do nosso jogo vai ser <span\n          \n          class='highlighted-text'\n        >Super Ollie vs Pebble Corp</span>. A gente não planejava dar um nome ao jogo agora, mas a ideia simplesmente veio nas nossas cabeças e achamos que o nome é perfeito. Deixa eu te perguntar uma coisa, qual é o pior inimigo do skatista? Indiscutivelmente essas pequenas pedrinhas, certo? E se no futuro houver uma empresa do mal que quer proibir o skate em todos os lugares, como essa empresa se chamaria? Pebble Corp, é claro. Pebble é o nome em inglês daquelas pedrinhas que geralmente você encontra em praias e tal. Agora com isso fora do caminho, vamos continuar com o post.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/a4oeHCm_Tig?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<h2 id=\"importando-tilesets-externos\" style=\"position:relative;\"><a href=\"#importando-tilesets-externos\" aria-label=\"importando tilesets externos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Importando tilesets externos</h2>\n<p><a href=\"https://www.mapeditor.org/\" target=\"_blank\" rel=\"noreferrer\">Tiled</a> é uma ferramenta <a href=\"https://github.com/bjorn/tiled\" target=\"_blank\" rel=\"noreferrer\">open source</a> poderosa para construir mapas 2D suportados por <a href=\"https://discourse.mapeditor.org/t/which-game-engine-s-are-you-using-with-tiled/757/8\" target=\"_blank\" rel=\"noreferrer\">muitas engines de jogos diferentes</a>, incluindo Phaser JS, que é o framework que eu estou usando para <a href=\"/en/blog/tags/super-ollie-vs-pebble-corp\">esse jogo</a>.</p>\n<p>Há um pequeno problema, ao carregar mapas do Tiled no Phaser JS, o tileset precisa estar “embutido” no mapa, caso contrário, o Phaser JS não consegue carregá-lo. Isso é muito frustrante porque sempre que eu faço alterações em um tileset, eu tenho que ir em todos os meus arquivos de mapa e “reembutir” o tileset, isso acaba demorando muito se o projeto tiver muitos mapas e tilesets diferentes.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 518px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACV0lEQVQoz3XRy1LTUBgH8Ox9CDc+gT6AOo6Wneg449ChilZALr2ALRSQS9PQc07SJg0pEQqdkgOlleKQQG6YtqFNW+oiFRe8j1NW4uhv5vt2/5nvQmCMFUWWZdmyLMM0DU3XdePcsgzDMHRdPTszTUNVNcuy6jdqtZpt247jmKZJbOd2kiRcXFhhWEYQhASXTiOQZRlxUxS3tnlBzO3s8jy/J0mlUunw8LBYLH49OjpVFFVVCSG5NjjgffbkxcCAJzwbvf/Wu7C8NDUxuRQJJj9H1hdnUGIVIRqCWyiKSqVSxBcazHmHJsfCXp/fM/bhzt17nvHRBw+fvvYO5Tf59aVPDLmAEE336xYIIZETC8vv38Wia2yS+TgfGfGN+AMB//hEKBzOCxkGMggk0b/0w3t5PDw8PujxHucPspkM4rM0l43GSAhRAsANkU0C8N+whA98I1Oh4DyJUiwDDRA4oabJNy+5lYgQC+apEMfSN1P/DQBA7ONiKrErcVyZIemZ6bNZT4MabkK/nIqmqVW4GJsbCwEqyTDMnwsjhDiO64fng+z6WjqT5Z8/eux7NVQCscrqqA4CACFIM3OTsxSZgPDWvePxeC6XIyqVb7tbhdzOsWnVEKAFNlMpSvuF/MFeHmOp/9lyCWMs3cAYFwoFjHG5XFYUhahWq67r9Ez1Z02/apx3tRNbOW12Oo7TdlpO02m1Wu1Op9Ptdi/7+r3nutfX167rEhe2XbWb7Q3+RxZeinSDjrdK5brj2PV648I2rMap9t3QtWbTabf6rn5d9Xo9TVNlWf4Nd4mgdymyqM4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Embutir Tileset\"\n        title=\"Embutindo um tileset no Tiled\"\n        src=\"/static/51df513f0b0acbe195eb3327398273b4/2f227/tiled-embed-tileset.png\"\n        srcset=\"/static/51df513f0b0acbe195eb3327398273b4/e3135/tiled-embed-tileset.png 256w,\n/static/51df513f0b0acbe195eb3327398273b4/06341/tiled-embed-tileset.png 512w,\n/static/51df513f0b0acbe195eb3327398273b4/2f227/tiled-embed-tileset.png 518w\"\n        sizes=\"(max-width: 518px) 100vw, 518px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Embutindo um tileset no Tiled</figcaption>\n  </figure></p>\n<p>Para resolver este problema, decidi encontrar uma solução para embutir automaticamente os tilesets com o Webpack. Para fazer isso, comparei o arquivo JSON do mesmo mapa antes e depois de embutir um tileset, e ficou assim:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.984375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVQoz22Ra2/aMBSG82s6RmP7GCexHUxz5VIQaimJk8CHdtIu0qYmDqH8/olLt3bdo1fWsXQeHR/ZSqe3k9k8mczCJI3H0ygdJ+NplEzGs0WYpDdxosJIBaEKo+GfBGGQxMu7O4tSCkAJACFATsX5yhyXBxGPY8QdL4hEENEhB987RvlYqWgxtxh1nIGDbNR/D0a2lz7w1S+2eAq0SfJnf/Vd3H/j91/F+ifPTFDUluRKyRvKgDJy/QZCMJ9qv9gJ3YbVId4e1GbnF53QndA7kbcyN5bnCs8VNkJHo/9evi2lNnz9HFb7ZPsitRF5c4oRuZF5Y9m2zRxGARC2L0H2RZ5vZG5EVkvdjspOFa3U7dl8lRGmjMOAYcAYCAKCAa4RBuaI5aPMG5HVPDdDvUs3h1HZSv12MjDipuCOwHXAcQlzQAwx48wP/YcfIqtFduke6U4Vu9PjX2Vn4DLGjuv2+6el++eaAIjl03nyuZvnJir3qmj/ygwYALU/AHTwjyyP8ktQGJnXF/nq01Wv1/v8ARthd/HIs8Zb115mvMzwzKiiG1Z7WXb89FuW53n8f/i+H62+xFUTl/XxrJpkY6KqiTdtsm2jyiwed78BOSS64qW11kUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Tileset embutido vs não embutido\"\n        title=\"Tileset embutido vs não embutido\"\n        src=\"/static/fce7ff4d25c0afd53f6c31a041518dd8/42a19/embedded-vs-non-embedded.png\"\n        srcset=\"/static/fce7ff4d25c0afd53f6c31a041518dd8/e3135/embedded-vs-non-embedded.png 256w,\n/static/fce7ff4d25c0afd53f6c31a041518dd8/06341/embedded-vs-non-embedded.png 512w,\n/static/fce7ff4d25c0afd53f6c31a041518dd8/42a19/embedded-vs-non-embedded.png 1024w,\n/static/fce7ff4d25c0afd53f6c31a041518dd8/b38ab/embedded-vs-non-embedded.png 1168w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Tileset embutido vs não embutido</figcaption>\n  </figure></p>\n<p>Como você pode ver, em vez de ter a propriedade <code class=\"language-text\">source</code> apontando para um arquivo externo, tipo <code class=\"language-text\">\"source\": \"../tilesets/test_tileset.json\"</code>, ele contém todo o conteúdo desse arquivo mais um atributo <code class=\"language-text\">firstgid</code>, então tudo o que eu preciso fazer é percorrer todos os mapas do Tiled, ler a propriedade <code class=\"language-text\">tilesets</code>, carregar cada arquivo tileset e colocar o seu conteúdo em uma nova array na propriedade <code class=\"language-text\">tilesets</code>.</p>\n<p>Foi assim que eu fiz:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> CopyWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copy-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">promises</span><span class=\"token operator\">:</span> fs <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> stageFiles <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdir</span><span class=\"token punctuation\">(</span><span class=\"token constant\">STAGES_PATH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// get only the JSON files</span>\r\n<span class=\"token keyword\">const</span> stageJsons <span class=\"token operator\">=</span> stageFiles\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stage</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> stage<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">'json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> copyWebpackPluginPatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\nstageJsons<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stage</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    copyWebpackPluginPatterns<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">STAGES_PATH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>stage<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> <span class=\"token string\">'../assets/stages'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token function-variable function\">transform</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">fileBuffer<span class=\"token punctuation\">,</span> elPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> manifestString <span class=\"token operator\">=</span> fileBuffer<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> stageData <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>manifestString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> newTilesets <span class=\"token operator\">=</span> stageData<span class=\"token punctuation\">.</span>tilesets<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tileset</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token comment\">// firstgid is an important id reference for Tiled</span>\r\n                <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> firstgid <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> tileset<span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tileset<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token comment\">// if there's no source, it means the Tileset</span>\r\n                    <span class=\"token comment\">// is already embedded</span>\r\n                    <span class=\"token keyword\">return</span> tileset<span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token comment\">// on my setup, stages are in root/stages/</span>\r\n                <span class=\"token comment\">// and the tilesets are in root/tilesets/</span>\r\n                <span class=\"token comment\">// so we need to remove \"../tilesets/\" from the path</span>\r\n                <span class=\"token comment\">// and load it based on the root dir of the tilesets</span>\r\n                <span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span> tileset<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../tilesets/'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token comment\">// eslint-disable-next-line import/no-dynamic-require</span>\r\n                <span class=\"token keyword\">const</span> tilesetData <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">TILESETS_PATH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filePath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tilesetData<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Could not find file'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">TILESETS_PATH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filePath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">return</span> tileset<span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token operator\">...</span>tilesetData<span class=\"token punctuation\">,</span>\r\n                    firstgid<span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            stageData<span class=\"token punctuation\">.</span>tilesets <span class=\"token operator\">=</span> newTilesets<span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">return</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>stageData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">CopyWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">patterns</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n                <span class=\"token operator\">...</span>copyWebpackPluginPatterns<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Como você pode ver, precisamos do plugin <code class=\"language-text\">copy-webpack-plugin</code> para fazê-lo funcionar, copiando todos os mapas do diretório <code class=\"language-text\">assets/stages</code> para o diretório <code class=\"language-text\">dist/assets/stages</code>, e ao copiá-lo, definimos uma função <code class=\"language-text\">transform</code> que carregará os tilesets externos e os embutirá nos mapas Tiled. Adicione este código ao seu arquivo de configuração do Webpack se quiser obter o mesmo resultado.</p>\n<h2 id=\"criando-a-tela-inicial\" style=\"position:relative;\"><a href=\"#criando-a-tela-inicial\" aria-label=\"criando a tela inicial permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Criando a tela inicial</h2>\n<p>Isso foi realmente muito fácil e direto, especialmente porque é praticamente o mesmo código do Game Devlog anterior.</p>\n<p>Primeiro eu carrego o mapa na função <code class=\"language-text\">create</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> map <span class=\"token operator\">=</span> scene<span class=\"token punctuation\">.</span>make<span class=\"token punctuation\">.</span><span class=\"token function\">tilemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'title_screen'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> tileset <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">addTilesetImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'title_screen'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'city_tileset'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> width<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cameras<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> background <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">createDynamicLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'background'</span><span class=\"token punctuation\">,</span> tileset<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> ground <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">createDynamicLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ground'</span><span class=\"token punctuation\">,</span> tileset<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> foreground <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">createDynamicLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foreground'</span><span class=\"token punctuation\">,</span> tileset<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token punctuation\">[</span>background<span class=\"token punctuation\">,</span> ground<span class=\"token punctuation\">,</span> foreground<span class=\"token punctuation\">]</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dynamicLayer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        dynamicLayer<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>\r\n            height <span class=\"token operator\">-</span> background<span class=\"token punctuation\">.</span>height\r\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// set this property to make the the layers move in different speeds</span>\r\n        dynamicLayer<span class=\"token punctuation\">.</span><span class=\"token function\">setScrollFactor</span><span class=\"token punctuation\">(</span>dynamicLayer<span class=\"token punctuation\">.</span>parallaxSpeedX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// we're going to use that in the update function</span>\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parallaxCounter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Agora tudo o que fiz foi mover a câmera até a posição <code class=\"language-text\">y = 640</code> e, quando ela chegar lá, mudar a posição de volta para<code class=\"language-text\">y = 0</code>, e repetir isso indefinidamente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parallaxCounter <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parallaxCounter <span class=\"token operator\">===</span> <span class=\"token number\">640</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parallaxCounter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cameras<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span>scrollX <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parallaxCounter<span class=\"token punctuation\">;</span></code></pre></div>\n<p>E por hoje é isso! Espero que tenha gostado, se quiser, deixe um comentário e considere se inscrever no meu canal no YouTube.</p>","fields":{"slug":"/2020/2020-08-10-importando-arquivo-de-tileset-externo-no-phaser-js-com-webpack-skate-platformer-game-devlog-7.pt-br/","path":"/blog/games/importando-arquivo-de-tileset-externo-no-phaser-js-com-webpack-skate-platformer-game-devlog-7/","locale":"pt-br"},"readingTime":{"minutes":3.97},"frontmatter":{"date":"2020-10-08T00:00:00.000Z","title":"Importando arquivo de tileset externo no Phaser JS com Webpack - Skate Platformer Game Devlog #07","categories":["games"]}}},{"node":{"excerpt":"Fala pessoal! O Game Devlog dessa semana é um pouco longo…","html":"<p>Fala pessoal! O Game Devlog dessa semana é um pouco longo, 15 minutos, mas vale a pena assistir, pois, tem muitas coisas interessantes sobre o jogo.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/dUNkwPYmzb4?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<h2 id=\"selecao-de-fases\" style=\"position:relative;\"><a href=\"#selecao-de-fases\" aria-label=\"selecao de fases permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Seleção de Fases</h2>\n<p>Para facilitar o teste de novas fases, eu decidi adicionar uma tela de seleção de estágio básica, para que eu pudesse testar várias fases no mesmo build ao invés de ficar alterando o mesmo arquivo de fase toda a hora. Agora, sempre que adiciono um novo arquivo de estágio à pasta de fases, essa fase será automaticamente incluída no bundle do jogo, graças a algumas configurações personalizadas no Webpack.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> CopyWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copy-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">promises</span><span class=\"token operator\">:</span> fs <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> stageFiles <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdir</span><span class=\"token punctuation\">(</span><span class=\"token constant\">STAGES_PATH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// get only the JSON files</span>\r\n<span class=\"token keyword\">const</span> stageJsons <span class=\"token operator\">=</span> stageFiles\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stage</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> stage<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">'json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">GAME_STAGES</span> <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>\r\n    stageJsons<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stage</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// eslint-disable-next-line import/no-dynamic-require</span>\r\n        <span class=\"token keyword\">const</span> stageData <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">STAGES_PATH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>stage<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">const</span> stageName <span class=\"token operator\">=</span> <span class=\"token function\">getStageNameFromMap</span><span class=\"token punctuation\">(</span>stageData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n            stageName<span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">stageKey</span><span class=\"token operator\">:</span> stage<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>DefinePlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token constant\">GAME_STAGES</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Na scene de seleção de fases, você pode acessar os dados de fases na variável <code class=\"language-text\">GAME_STAGES</code>, então eu faço um loop por esses dados das fases e crio um seletor de fases.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> posX <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">let</span> posY <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token constant\">GAME_STAGES</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stageData<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> stageKey<span class=\"token punctuation\">,</span> stageName <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> stageData<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> stageSelector <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StageSelector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> posX<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> posY<span class=\"token punctuation\">,</span>\r\n        stageKey<span class=\"token punctuation\">,</span>\r\n        stageName<span class=\"token punctuation\">,</span>\r\n        <span class=\"token function-variable function\">onClickCallback</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GameScene'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span>\r\n        posX <span class=\"token operator\">+</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\r\n        posY <span class=\"token operator\">+</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">padStart</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setDepth</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span>stageSelector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    stageSelectors<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>stageSelector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    posX <span class=\"token operator\">+=</span> <span class=\"token number\">52</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> <span class=\"token number\">7</span> <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        posY <span class=\"token operator\">+=</span> <span class=\"token number\">52</span><span class=\"token punctuation\">;</span>\r\n        posX <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"parallax-effect\" style=\"position:relative;\"><a href=\"#parallax-effect\" aria-label=\"parallax effect permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parallax Effect</h2>\n<p>O jogo não estaria completo sem um bom parallax effect, e para conseguir isso eu decidi adicionar algumas propriedades personalizadas às layers do Tiled e acesso elas na função update da game scene.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">time<span class=\"token punctuation\">,</span> delta</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> dynamicLayers <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mapData<span class=\"token punctuation\">;</span>\r\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>dynamicLayers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dynamicLayer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        dynamicLayer<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> value <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> property<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">!==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'parallaxSpeedX'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    dynamicLayer<span class=\"token punctuation\">.</span><span class=\"token function\">setX</span><span class=\"token punctuation\">(</span>\r\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cameras<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span>scrollX <span class=\"token operator\">*</span> value\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'parallaxSpeedY'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                    dynamicLayer<span class=\"token punctuation\">.</span><span class=\"token function\">setY</span><span class=\"token punctuation\">(</span>\r\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cameras<span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span>scrollY <span class=\"token operator\">*</span> value\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Obs: Depois de escrever esse post, eu descobri a função <a href=\"https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.Components.ScrollFactor.html#setScrollFactor\" target=\"_blank\" rel=\"noreferrer\">setScrollFactor</a> e com ela é possível definir um atributo direto na layer ao invés de fazer um loop na função update.</p>\n<h2 id=\"descendo-de-plataformas\" style=\"position:relative;\"><a href=\"#descendo-de-plataformas\" aria-label=\"descendo de plataformas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Descendo de Plataformas</h2>\n<p>Para fazer isso eu pesquisei um pouco, e acabei fazendo de um jeito que é meio que uma gambiarra, mas funciona por enquanto, então decidi seguir em frente.</p>\n<p>Primeiro eu verifico se o hero está no chão, se há um elemento encostando no hero por baixo e se o botão para baixo está sendo pressionado. Caso positivo, desabilitamos a colisão do baixo do hero por 150 milissegundos.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hero going down through element</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroOnGround</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDownJustDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>touchingDownObject\r\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision<span class=\"token punctuation\">.</span>down <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token number\">150</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision<span class=\"token punctuation\">.</span>down <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Isso é bastante simples, mas como podemos acessar o atributo <code class=\"language-text\">this.touchingDownObject</code>? Bom, essa é a maior parte da gambiarra dessa solução. Primeiro, precisamos adicionar um collider entre o hero e a layer do mapa com uma função de callback que irá verificar algumas coisas e definir o atributo <code class=\"language-text\">this.touchingDownObject</code> para o hero.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">collider</span><span class=\"token punctuation\">(</span>\r\n    dynamicLayers<span class=\"token punctuation\">.</span>ground<span class=\"token punctuation\">,</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hero<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">objectA<span class=\"token punctuation\">,</span> objectB</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>hero<span class=\"token punctuation\">,</span> element<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getHeroAndObject</span><span class=\"token punctuation\">(</span>objectA<span class=\"token punctuation\">,</span> objectB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n            hero<span class=\"token punctuation\">.</span><span class=\"token function\">isHeroOnGround</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token operator\">&amp;&amp;</span> element<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>collidesUp\r\n            <span class=\"token operator\">&amp;&amp;</span> element<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>canFallThrough\r\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            hero<span class=\"token punctuation\">.</span>touchingDownObject <span class=\"token operator\">=</span> element<span class=\"token punctuation\">;</span> <span class=\"token comment\">// TODO?</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            hero<span class=\"token punctuation\">.</span>touchingDownObject <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E é isso aí! Espero que tenham gostado e não esqueçam de deixar um comentário se acharam post útil.</p>","fields":{"slug":"/2020/2020-01-10-descendo-de-plataformas-com-arcade-physics-do-phaser-js-skate-platformer-game-devlog-6.pt-br/","path":"/blog/games/descendo-de-plataformas-com-arcade-physics-do-phaser-js-skate-platformer-game-devlog-6/","locale":"pt-br"},"readingTime":{"minutes":3.07},"frontmatter":{"date":"2020-10-01T00:00:00.000Z","title":"Descendo de plataformas com Arcade Physics do Phaser JS - Skate Platformer Game Devlog #06","categories":["games"]}}},{"node":{"excerpt":"Fala pessoal, no Game Devlog dessa semana vou mostrar como…","html":"<p>Fala pessoal, no Game Devlog dessa semana vou mostrar como eu fiz para implementar a movimentação do hero em cima do skate, que é ativada quando você aperta o botão direcional duas vezes rapidamente, uma ótima idéia dada pelo Ítalo!</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/irbx0e1zDVM?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>E abaixo o código que cuida da lógica do estado de corrida do hero.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Handle hero running</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isJumping<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>runTimer <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pressedRight <span class=\"token operator\">||</span> pressedLeft<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pressedRunRight <span class=\"token operator\">=</span> pressedRight<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pressedRunLeft <span class=\"token operator\">=</span> pressedLeft<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>runTimer <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>runTimer <span class=\"token operator\">&lt;=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pressedRunRight <span class=\"token operator\">&amp;&amp;</span> isRightDown <span class=\"token operator\">&amp;&amp;</span> pressedRight<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">RUNNING_RIGHT_START</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startRunDuration<span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">RUNNING_RIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pressedRunLeft <span class=\"token operator\">&amp;&amp;</span> isLeftDown <span class=\"token operator\">&amp;&amp;</span> pressedLeft<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">RUNNING_LEFT_START</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">delayedCall</span><span class=\"token punctuation\">(</span>\r\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startRunDuration<span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHeroState</span><span class=\"token punctuation\">(</span><span class=\"token constant\">RUNNING_LEFT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>runTimer <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pressedRunRight <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pressedRunLeft <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>runTimer <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>runTimer <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">const</span> isRunning <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isHeroRunning</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","fields":{"slug":"/2020/2020-26-09-usando-botao-para-correr-com-phaser-js-skate-platformer-game-devlog-5.pt-br/","path":"/blog/games/usando-botao-para-correr-com-phaser-js-skate-platformer-game-devlog-5/","locale":"pt-br"},"readingTime":{"minutes":0.77},"frontmatter":{"date":"2020-09-26T00:00:00.000Z","title":"Usando botão para correr com Phaser JS - Skate Platformer Game Devlog #05","categories":["games"]}}},{"node":{"excerpt":"É normal que as pessoas da indústria de tecnologia viajem ao…","html":"<p>É normal que as pessoas da indústria de tecnologia viajem ao redor do mundo em busca de empregos melhores, ou até mesmo viajem apenas por viajar mesmo, os famosos <em>Digital Nomads</em> ™.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABjn2kGKGBf//EABoQAQACAwEAAAAAAAAAAAAAAAIAAQMREzH/2gAIAQEAAQUCyYCY/CL10TaFTU//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAgAHAQAAAAAAAAAAAAAAAAECEBESIjFxgf/aAAgBAQAGPwKK98EkdHXSMfZf/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBUaH/2gAIAQEAAT8hRoBvOVKqvsqVDsbECNE3YilW+pqqbJ//2gAMAwEAAgADAAAAEAQv/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EHVn/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEh/9oACAECAQE/EMV//8QAHhABAQABBAMBAAAAAAAAAAAAAREAITFBYVFxgcH/2gAIAQEAAT8QM3VANbx6w7otLEaZoqPgbfmEs1wqU5wdmsQk77xlQBBfGf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Eu sendo nomade\"\n        title=\"Imagem rara de eu sendo digital nomad antes de ser modinha (brinqs)\"\n        src=\"/static/6e3e4412ba761d5f2879cbd9e945ea9d/63217/me_nomading.jpg\"\n        srcset=\"/static/6e3e4412ba761d5f2879cbd9e945ea9d/db830/me_nomading.jpg 256w,\n/static/6e3e4412ba761d5f2879cbd9e945ea9d/8102f/me_nomading.jpg 512w,\n/static/6e3e4412ba761d5f2879cbd9e945ea9d/63217/me_nomading.jpg 1024w,\n/static/6e3e4412ba761d5f2879cbd9e945ea9d/d58d1/me_nomading.jpg 1536w,\n/static/6e3e4412ba761d5f2879cbd9e945ea9d/04bec/me_nomading.jpg 1600w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Imagem rara de eu sendo digital nomad antes de ser modinha (brinqs)</figcaption>\n  </figure></p>\n<h2 id=\"motivacao-para-trabalhar-fora-do-brasil\" style=\"position:relative;\"><a href=\"#motivacao-para-trabalhar-fora-do-brasil\" aria-label=\"motivacao para trabalhar fora do brasil permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Motivação para trabalhar fora do Brasil</h2>\n<p>Quando eu era criança, sempre fui fascinado por programas de TV como Indiana Jones e Mighty Max, que exploravam as maravilhas do mundo. Isso despertou meu desejo de viajar e desejo de descobrir novos lugares e culturas.</p>\n<p>À medida que fui crescendo, percebi que o mundo era vasto e cheio de oportunidades, e não queria ficar confinado a apenas uma cidadezinha do Brasil. Então, tomei a decisão de seguir meu sonho de morar e trabalhar no exterior. Neste post, compartilharei minha jornada e como um projeto de código aberto desempenhou um papel importante para me conseguir um emprego no exterior.</p>\n<h2 id=\"projetos-open-source-e-hackathons\" style=\"position:relative;\"><a href=\"#projetos-open-source-e-hackathons\" aria-label=\"projetos open source e hackathons permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Projetos Open Source e hackathons</h2>\n<p>Por volta de 2016 eu comecei a trabalhar em alguns projetos pessoais e publicá-los no GitHub, como a extensão <a href=\"https://github.com/blopa/Magento-Chatbot\" target=\"_blank\" rel=\"noreferrer\">Magento Chatbot</a> para Magento e o <a href=\"https://github.com/blopa/Contract-Builder/\" target=\"_blank\" rel=\"noreferrer\">Contract Builder</a>, que fiz para testar VueJs e ajudar uma amiga advogada que estava perdendo muito tempo criando os mesmos tipos de contrato o tempo todo.</p>\n<p>Eu também estava sempre procurando hackathons para participar, pois, queria melhorar minhas habilidades de programação, praticar meu inglês e conhecer novas pessoas da indústria. Nessas pesquisas eu acabei descobrindo o <a href=\"https://blog.vanhack.com/blog/the-vanhackathon/\" target=\"_blank\" rel=\"noreferrer\">VanHackathon</a>, uma Hackathon do site <a href=\"https://vanhack.com/\" target=\"_blank\" rel=\"noreferrer\">VanHack</a>. Eu conversei com alguns amigos meus e decidimos nos juntar e participar desse evento, nós fizemos uma <a href=\"https://github.com/VanHackathon/botStoreGenesis\" target=\"_blank\" rel=\"noreferrer\">integração de chatbot para o Shopify</a> (fizemos até um <a href=\"https://www.youtube.com/watch?v=4RnIj8g8vDw\" target=\"_blank\" rel=\"noreferrer\">vídeo promocional para esse projeto</a>), e fomos uns dos vencedores do evento e como prêmio ganhamos uma conta <a href=\"https://vanhack.com/premium\" target=\"_blank\" rel=\"noreferrer\">VanHack Premium</a>, que nos deu algumas vantagens no site e acesso a um Slack exclusivo.</p>\n<h2 id=\"resume-builder\" style=\"position:relative;\"><a href=\"#resume-builder\" aria-label=\"resume builder permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resume Builder</h2>\n<p>Um tempo depois em 2018 eu recebi uma oferta de emprego para me mudar para São Paulo, mas como eu estava bem satisfeito na minha empresa da época, eu recusei a oferta, mas isso me fez querer testar minhas habilidades de entrevista com outras empresas, então eu me inscrevi em algumas vagas de emprego, e toda hora que eu ia enviar o meu currículo para uma vaga, eu tinha que mudar algo, pois eu estava mandando uma versão do meu currículo que mostrava as minhas habilidades relevantes para aquela vaga, e isso estava me tomando MUITO tempo 😫. Cansado de ficar mudando o meu currículo manualmente toda hora, eu decidi criar uma ferramenta para me ajudar com isso, e foi assim que o <a href=\"https://resume-builder.js.org/\" target=\"_blank\" rel=\"noreferrer\">Resume Builder</a> nasceu. Você pode acessar o código-fonte do projeto <a href=\"https://github.com/blopa/Resume-Builder\" target=\"_blank\" rel=\"noreferrer\">aqui</a> (não esqueça de deixar sua estrelinha).</p>\n<p><img src=\"/6fb4914a5988ac18a0d4ab9b84c5e9b0/resume_builder.gif\" alt=\"Resume Builder\"></p>\n<p>Após adicionar várias features para a ferramenta, eu percebi que ela poderia ser útil para outras pessoas também, então decidi adicionar a opção de criar currículos com temas personalizados (que infelizmente ainda não está disponível na v2) e compartilhei o projeto no Slack do VanHack e meio que deixei para lá.</p>\n<h2 id=\"oferta-de-emprego\" style=\"position:relative;\"><a href=\"#oferta-de-emprego\" aria-label=\"oferta de emprego permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Oferta de emprego</h2>\n<p>Alguns dias depois, uma recrutadora entrou em contato comigo, parabenizando pelo projeto e me perguntando se eu sabia programar React. Bom, o Resume Builder foi feito com React e foi meu primeiro projeto com React, então eu disse isso a ela, e ela ficou impressionada e me agendou algumas entrevistas com empresas na Holanda. Eu estava muito empolgado!</p>\n<p>Tudo isso porque no meio de milhares de desenvolvedores tentando conseguir um emprego no exterior, eu fui capaz de me destacar graças a um projeto open source que honestamente nem estava usando as melhores práticas do React ou algo assim, mas foi um projeto útil, e mostrou aos recrutadores que eu era bom em resolver problemas, não tinha dificuldades em aprender coisas novas e que me preocupava em ter um bom currículo.</p>\n<p>Voltando às entrevistas, uma das empresas me enviou um desafio de React para construir um <em>Single Page Application</em> de perguntas e respostas, clássico. Como já estava programando com React há um tempinho, consegui terminar o desafio sem problemas em poucos dias. Após entregar o projeto para a recrutadora, eu avancei para uma entrevista com o líder técnico dessa empresa e, depois disso, com o CTO, as coisas estavam indo bem.</p>\n<p>Até que um dia eu estava participando de outro hackathon, quando recebi um e-mail com uma oferta de trabalhar nessa empresa e me mudar para Amsterdam. Eu não estava planejando deixar meu trabalho naquela época, pois eu tinha acabado de receber um aumento e estava em um projeto muito irado, mas sabia que uma oportunidade como essa não bate na sua porta diariamente né, então eu disse sim para a vaga e o resto é história 🇳🇱.</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABQzw55Iaf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEDEgQTIf/aAAgBAQABBQLaibI5cqidKp//xAAWEQEBAQAAAAAAAAAAAAAAAAARARD/2gAIAQMBAT8Bo5//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8BByf/xAAbEAABBAMAAAAAAAAAAAAAAAAAARAREiEikf/aAAgBAQAGPwLThVGhMEt//8QAGRAAAgMBAAAAAAAAAAAAAAAAAREAITFB/9oACAEBAAE/IUm7L12YxHpgC30uGgKs5MVYQiDNT//aAAwDAQACAAMAAAAQCy//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QWAz/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEx/9oACAECAQE/EEJORt//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMUFRof/aAAgBAQABPxCyHcuhFnzD2bSzJ6GWsKpo5r+osbQfcGTPacnGaxqMz//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Canal de Amsterdam\"\n        title=\"Canal de Amsterdam\"\n        src=\"/static/64cb2956c785c79783bea79d2f788549/63217/amsterdam_canal.jpg\"\n        srcset=\"/static/64cb2956c785c79783bea79d2f788549/db830/amsterdam_canal.jpg 256w,\n/static/64cb2956c785c79783bea79d2f788549/8102f/amsterdam_canal.jpg 512w,\n/static/64cb2956c785c79783bea79d2f788549/63217/amsterdam_canal.jpg 1024w,\n/static/64cb2956c785c79783bea79d2f788549/d58d1/amsterdam_canal.jpg 1536w,\n/static/64cb2956c785c79783bea79d2f788549/09658/amsterdam_canal.jpg 2048w,\n/static/64cb2956c785c79783bea79d2f788549/441eb/amsterdam_canal.jpg 6000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Canal de Amsterdam</figcaption>\n  </figure></p>\n<p>Quando olho para trás e vejo como consegui este emprego em Amsterdam, tudo se resume a um simples projeto open source com uma ideia que nem é tão incrível assim (não é incrível at all), mas ajudou, porque já era <span\n          \n          class='highlighted-text'\n        >mais do que apenas ter um currículo</span> com meu nome e uma lista de atividades e habilidades, que são realmente difíceis de se destacar quando todos os outros currículos estão fazendo a mesma coisa.</p>\n<p><span\n          \n          class='highlighted-text'\n        >Se você realmente quer trabalhar no exterior, tem que se destacar de alguma forma</span>, não necessariamente fazendo um projeto de open source, mas expandindo seu portfólio de uma maneira que seja significativa para você. Você pode escrever artigos do Medium, fazer vídeos no YouTube, criar um site pessoal (como este) e assim por diante. Não desista. Conseguir um novo emprego é um jogo de números™ e leva tempo, então, porque não usar esse tempo também para melhorar algumas de suas habilidades?</p>\n<p>Bom isso é tudo o que tenho para você hoje, espero que minha história os inspire a conseguir o emprego dos seus sonhos.</p>","fields":{"slug":"/2020/2020-23-09-como-eu-consegui-um-trabalho-no-exterior-com-um-projeto-open-source.pt-br/","path":"/blog/coding/como-eu-consegui-um-trabalho-no-exterior-com-um-projeto-open-source/","locale":"pt-br"},"readingTime":{"minutes":4.83},"frontmatter":{"date":"2020-09-23T00:00:00.000Z","title":"Como eu consegui um trabalho no exterior com um projeto open source","categories":["coding"]}}},{"node":{"excerpt":"Hey, estou de volta com outro Game Devlog. No devlog de hoje…","html":"<p>Hey, estou de volta com outro Game Devlog. No devlog de hoje vamos ver uma maneira simples de fazer o herói pular mais alto se você segurar o botão por mais tempo.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/Ok55tLNjgeA?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Only allow the hero to jump if they are on the ground</span>\r\n<span class=\"token keyword\">let</span> willJump <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n    onGround\r\n    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n        Input<span class=\"token punctuation\">.</span>Keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">JustDown</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controlKeys<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">)</span>\r\n        <span class=\"token operator\">||</span> Input<span class=\"token punctuation\">.</span>Keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">JustDown</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controlKeys<span class=\"token punctuation\">.</span>w<span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// hero is on the ground, so he is allowed to start a jump</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jump'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    willJump <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">!==</span> <span class=\"token number\">0</span>\r\n    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controlKeys<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">.</span>isDown\r\n        <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controlKeys<span class=\"token punctuation\">.</span>w<span class=\"token punctuation\">.</span>isDown\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// hero is no longer on the ground, but is still holding the jump key</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">></span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// hero has been holding jump for over 100 millliseconds, it's time to stop him</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">></span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// hero is allowed to jump higher, not yet 600 milliseconds of jumping</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setVelocityY</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// reset this.jumptimer since the hero is no longer holding the jump key</span>\r\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jumptimer <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Este código é originalmente <a href=\"https://www.html5gamedevs.com/topic/3050-how-to-make-the-player-do-small-medium-long-jumps/?do=findComment&#x26;comment=19860\" target=\"_blank\" rel=\"noreferrer\">deste post</a>.</p>","fields":{"slug":"/2020/2020-21-09-game-devlog-4-do-skate-platformer.pt-br/","path":"/blog/games/game-devlog-4-do-skate-platformer/","locale":"pt-br"},"readingTime":{"minutes":0.96},"frontmatter":{"date":"2020-09-21T00:00:00.000Z","title":"Segurando botão para pular mais alto com Phaser JS - Skate Platformer Game Devlog #04","categories":["games"]}}},{"node":{"excerpt":"Fala galera, mais um game devlog do skate platformer, dessa…","html":"<p>Fala galera, mais um game devlog do skate platformer, dessa vez adicionei a animação de movimento do hero e criei uma função auxiliar para criar colisões customizadas direto do Tiled.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/J-0qjYATwiQ?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>A parte mais interessante das mudanças dessa semana é a função auxiliar para criar as colisões, como no vídeo não deu pra ver direito a função completa já que ela é grandinha, então deixo ela disponível para vocês verem abaixo.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getTilesetCustomColliders</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">scene<span class=\"token punctuation\">,</span> tilesetLayer</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> customColliders <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    tilesetLayer<span class=\"token punctuation\">.</span>tilemap<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tiles</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        tiles<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tile</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> index <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> tile<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">const</span> tilesetCustomColliders <span class=\"token operator\">=</span> tilesetLayer<span class=\"token punctuation\">.</span>tileset<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>tileData<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token comment\">// check if we have a tileset on that position</span>\r\n            <span class=\"token comment\">// and if it has custom colliders</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> tilesetCustomColliders<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> objectgroup <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> tilesetCustomColliders<span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> objects <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> objectgroup<span class=\"token punctuation\">;</span>\r\n                objects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">objectData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> height<span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> objectData<span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">const</span> properties <span class=\"token operator\">=</span> tilesetLayer<span class=\"token punctuation\">.</span>tileset<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>tileProperties<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\r\n                        collidesLeft<span class=\"token punctuation\">,</span>\r\n                        collidesRight<span class=\"token punctuation\">,</span>\r\n                        collidesUp<span class=\"token punctuation\">,</span>\r\n                        collidesDown<span class=\"token punctuation\">,</span>\r\n                    <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> properties<span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token comment\">// if the custom collider is the same size as the tile</span>\r\n                    <span class=\"token comment\">// then we enable the normal tile collider from Phaser</span>\r\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>height <span class=\"token operator\">===</span> <span class=\"token constant\">TILESET_HEIGHT</span> <span class=\"token operator\">&amp;&amp;</span> width <span class=\"token operator\">===</span> <span class=\"token constant\">TILESET_WIDTH</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                        tile<span class=\"token punctuation\">.</span><span class=\"token function\">setCollision</span><span class=\"token punctuation\">(</span>collidesLeft<span class=\"token punctuation\">,</span> collidesRight<span class=\"token punctuation\">,</span> collidesUp<span class=\"token punctuation\">,</span> collidesDown<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n\r\n                    <span class=\"token keyword\">const</span> customCollider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameObjects<span class=\"token punctuation\">.</span>Rectangle</span><span class=\"token punctuation\">(</span>\r\n                        scene<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">.</span>x <span class=\"token operator\">*</span> <span class=\"token constant\">TILESET_WIDTH</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> x<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token constant\">TILESET_HEIGHT</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> y<span class=\"token punctuation\">,</span>\r\n                        width<span class=\"token punctuation\">,</span>\r\n                        height\r\n                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setOrigin</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">IS_DEV</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                        customCollider<span class=\"token punctuation\">.</span><span class=\"token function\">setFillStyle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x741B47</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n\r\n                    scene<span class=\"token punctuation\">.</span>physics<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">.</span><span class=\"token function\">existing</span><span class=\"token punctuation\">(</span>customCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    customCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setAllowGravity</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    customCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">setImmovable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>properties<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                        customCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n                            <span class=\"token operator\">...</span>customCollider<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>checkCollision<span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> collidesLeft<span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">right</span><span class=\"token operator\">:</span> collidesRight<span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">up</span><span class=\"token operator\">:</span> collidesUp<span class=\"token punctuation\">,</span>\r\n                            <span class=\"token literal-property property\">down</span><span class=\"token operator\">:</span> collidesDown<span class=\"token punctuation\">,</span>\r\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n\r\n                    customColliders<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>customCollider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GameGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        scene<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> customColliders<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> tilesetLayer<span class=\"token punctuation\">.</span>tileset<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>A classe <code class=\"language-text\">GameGroup</code> é uma classe que cria um Phaser Game Group com algumas propriedades personalizadas de que eu preciso.</p>","fields":{"slug":"/2020/2020-17-09-terceiro-game-devlog-do-skate-platformer.pt-br/","path":"/blog/games/terceiro-game-devlog-do-skate-platformer/","locale":"pt-br"},"readingTime":{"minutes":1.415},"frontmatter":{"date":"2020-09-17T00:00:00.000Z","title":"Criando colisões precisas com Arcade Physics no Phaser JS - Skate Platformer Game Devlog #03","categories":["games"]}}},{"node":{"excerpt":"Então, esse sou eu, na frente da inauguração do Chase Center…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBv/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABXRzrw75CLP/EABsQAAEEAwAAAAAAAAAAAAAAAAEAAhESAxMx/9oACAEBAAEFAmZSXDsqS43Fdq//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8BjH//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwFJ/8QAGhAAAgIDAAAAAAAAAAAAAAAAADEQQSJhkf/aAAgBAQAGPwLJCm9l9P/EABoQAAMAAwEAAAAAAAAAAAAAAAABESFBUYH/2gAIAQEAAT8hylxNHZoY4PAExHK0o21B/9oADAMBAAIAAwAAABAcL//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QhYO3T//EABgRAAIDAAAAAAAAAAAAAAAAAAABESEx/9oACAECAQE/EHaKlB//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFhUYGx/9oACAEBAAE/EBti8DgW7m07lH5UxgA9Sqb6FuIcE0R76fEU6Rxaf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"me at chase center\"\n        title=\"Eu no Chase Center\"\n        src=\"/static/45e33d9b1a1ee0f09e03c56bdac1f3e5/63217/me_at_chase_center.jpg\"\n        srcset=\"/static/45e33d9b1a1ee0f09e03c56bdac1f3e5/db830/me_at_chase_center.jpg 256w,\n/static/45e33d9b1a1ee0f09e03c56bdac1f3e5/8102f/me_at_chase_center.jpg 512w,\n/static/45e33d9b1a1ee0f09e03c56bdac1f3e5/63217/me_at_chase_center.jpg 1024w,\n/static/45e33d9b1a1ee0f09e03c56bdac1f3e5/d58d1/me_at_chase_center.jpg 1536w,\n/static/45e33d9b1a1ee0f09e03c56bdac1f3e5/09658/me_at_chase_center.jpg 2048w,\n/static/45e33d9b1a1ee0f09e03c56bdac1f3e5/e7f75/me_at_chase_center.jpg 2592w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu no Chase Center</figcaption>\n  </figure></p>\n<p>Então, esse sou eu, na frente da inauguração do Chase Center em São Francisco. Você deve estar se perguntando “por quê?“. Para entender, precisamos voltar 17 anos no tempo.</p>\n<h2 id=\"minha-introducao-a-metallica-e-o-sm\" style=\"position:relative;\"><a href=\"#minha-introducao-a-metallica-e-o-sm\" aria-label=\"minha introducao a metallica e o sm permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Minha introdução à Metallica e o S&#x26;M</h2>\n<p>Na escola, eu não gostava de Metallica porque seu nome soava “muito heavy metal” para mim. Na época, estava no auge da minha vida como skatista e só escutava músicas de bandas punk e hardcore.</p>\n<p>Até que um dia, um grande amigo me disse que Metallica tinha um álbum com a Orquestra Sinfônica de São Francisco, e eu fiquei pensando “uau ok, isso pode ser interessante”. Então, peguei emprestado o CD e, cara, de repente eu me tornei um fã do Metallica.</p>\n<p>Eu não conseguia parar de ouvir o álbum S&#x26;M. Quando eu já conhecia todas as músicas de cor, mergulhei fundo e, naquela época, o <em>St. Anger</em> tinha acabado de sair e eu AMEI (sim, eu sei). Eu ouvia todos os álbuns do Metallica o tempo todo, mas meu favorito ainda era o S&#x26;M e eu ainda ouvia com frequência.</p>\n<h2 id=\"indo-aos-shows-do-metallica-no-brasil\" style=\"position:relative;\"><a href=\"#indo-aos-shows-do-metallica-no-brasil\" aria-label=\"indo aos shows do metallica no brasil permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Indo aos shows do Metallica no Brasil</h2>\n<p>Então, em 2005, eu esperava que Metallica viesse ao Brasil e, como eu não sabia que o concerto sinfônico tinha sido um evento único, eu até esperava que eles tocassem com uma sinfonia brasileira ou algo assim hahaha. No final, eles tocaram no Brasil em 2010 durante a turnê do <em>Death Magnetic</em> e foi incrível. Eu estava lá com um monte de amigos e nos divertimos muito. Os ingressos para o show se esgotaram em um dia, então eles tiveram que fazer um segundo show no dia seguinte.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUCBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGDuuIzpJ//xAAaEAEAAwADAAAAAAAAAAAAAAABAAIRAwQS/9oACAEBAAEFAp5cTJRrnZA4hw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAADAQEAAAAAAAAAAAAAAAABAhEAEP/aAAgBAQAGPwLXimCyZCqy8//EABoQAQEAAwEBAAAAAAAAAAAAAAEAESFBUbH/2gAIAQEAAT8hBXAbkvh2Ve6kLLkIZi6LSYv/2gAMAwEAAgADAAAAEAc//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8Qiv/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EKj/xAAbEAEBAAMAAwAAAAAAAAAAAAABEQAhMUFRcf/aAAgBAQABPxAQhTADuE1I+2n0wgHQWeKWZNIwKaDv3WE8+qbksfZhBB88z//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"me and friends metallica 2010\"\n        title=\"Segundo show do Metallica em 2010\"\n        src=\"/static/c841ded084fc5c49fc47fa6f2aca646d/63217/me_and_friends_metallica_2010.jpg\"\n        srcset=\"/static/c841ded084fc5c49fc47fa6f2aca646d/db830/me_and_friends_metallica_2010.jpg 256w,\n/static/c841ded084fc5c49fc47fa6f2aca646d/8102f/me_and_friends_metallica_2010.jpg 512w,\n/static/c841ded084fc5c49fc47fa6f2aca646d/63217/me_and_friends_metallica_2010.jpg 1024w,\n/static/c841ded084fc5c49fc47fa6f2aca646d/d58d1/me_and_friends_metallica_2010.jpg 1536w,\n/static/c841ded084fc5c49fc47fa6f2aca646d/09658/me_and_friends_metallica_2010.jpg 2048w,\n/static/c841ded084fc5c49fc47fa6f2aca646d/998db/me_and_friends_metallica_2010.jpg 3072w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Segundo show do Metallica em 2010</figcaption>\n  </figure></p>\n<p>Depois disso, fui a mais alguns shows do Metallica, no Rock in Rio e em outros eventos no Brasil, mas ocasionalmente ainda procurava no Google “Metallica fará outro show S&#x26;M?“. Eu não era <a href=\"https://www.reddit.com/r/Metallica/comments/1xnrh3/does_anyone_else_here_want_another_smesc_concert/\" target=\"_blank\" rel=\"noreferrer\">o único</a> <a href=\"https://www.reddit.com/r/Metallica/comments/5h4dae/sm_may_be_my_favorite_album_ever/\" target=\"_blank\" rel=\"noreferrer\">interessado</a> em um show desse tipo. E mesmo morando no Brasil <a href=\"http://g1.globo.com/economia/mercados/noticia/2015/09/apos-bater-maxima-historica-de-r-424-dolar-fecha-em-baixa.html\" target=\"_blank\" rel=\"noreferrer\">com o salário em reais</a>, eu continuava me dizendo que iria a esse show, não importava o preço, a data ou o local. Se isso acontecesse, eu estaria lá.</p>\n<h2 id=\"o-anuncio-do-sm2\" style=\"position:relative;\"><a href=\"#o-anuncio-do-sm2\" aria-label=\"o anuncio do sm2 permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O anúncio do S&#x26;M2</h2>\n<p>Anos passaram, e eu já não morava mais no Brasil, mas lá estava eu, em 2018, procurando no Google se havia a possibilidade do Metallica fazer outro S&#x26;M. Não imaginei que isso aconteceria um dia.</p>\n<p>Então, em março do ano passado, eu estava de férias quando eu vi a notícia: <a href=\"https://www.vagalume.com.br/news/2019/03/19/metallica-celebrara-os-20-anos-de-sm-em-novo-show-com-orquestra.html\" target=\"_blank\" rel=\"noreferrer\">Metallica estava se reunindo novamente à Orquestra Sinfônica de São Francisco para um novo show</a>, S&#x26;M2, que aconteceria em setembro de 2019, em São Francisco e eu meio que surtei, pensei <em>“KAAAO!! Isso é real? OMG!”</em>. Eu fiquei tão emocionado que sabia que tinha que estar lá. Como eu já estava planejando viajar para a Califórnia em junho para a E3, decidi que teria que voltar um mês depois. Mas eu estava disposto a pagar qualquer preço, pois esse era o show pelo qual esperei durante 17 anos.</p>\n<p>Naquela semana, tentei comprar os ingressos, mas eles esgotaram rapidamente e a única forma de conseguir era por cambistas, que cobravam até oito vezes o preço original. Então eu me <span\n          \n          class='highlighted-text'\n        >lembrei da promessa que fiz a mim mesmo anos atrás</span> de que iria a esse show, custasse o que custar. Então comprei os ingressos para o primeiro show, as passagens aéreas e uma semana de hospedagem em albergue em uma das cidades mais caras para turismo no mundo 🤪.</p>\n<p>Quando Metallica anunciou um segundo show dois dias depois do primeiro, comprei um ingresso para ele também, pois já estaria em São Francisco de qualquer maneira.</p>\n<h2 id=\"a-viagem-para-sao-francisco\" style=\"position:relative;\"><a href=\"#a-viagem-para-sao-francisco\" aria-label=\"a viagem para sao francisco permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A viagem para São Francisco</h2>\n<p>Acabei indo para a E3 em junho e depois voltei para São Francisco em setembro para o show do S&#x26;M2.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdQtCXEAP//EABgQAAMBAQAAAAAAAAAAAAAAAAABAhES/9oACAEBAAEFAtgVxiqByjejD//EABYRAQEBAAAAAAAAAAAAAAAAAAASE//aAAgBAwEBPwHND//EABYRAQEBAAAAAAAAAAAAAAAAAAASE//aAAgBAgEBPwHRb//EABoQAAEFAQAAAAAAAAAAAAAAABAAAREhMkH/2gAIAQEABj8C0rMPwf/EABoQAAMBAAMAAAAAAAAAAAAAAAABEUEQMXH/2gAIAQEAAT8hacESnfBpaYi0y68P/9oADAMBAAIAAwAAABD4L//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8QhaQf/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBMVH/2gAIAQIBAT8QeaH0/8QAGxABAQEBAAMBAAAAAAAAAAAAAREhAFGBocH/2gAIAQEAAT8QOVidVKV0fnq4Fsun5zLoz12tS4TILv3glK53/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"me at golden bridge\"\n        title=\"Eu na Golden Gate Bridge\"\n        src=\"/static/7b6f091a3f166a877daf71b31753850c/63217/me_at_golden_bridge.jpg\"\n        srcset=\"/static/7b6f091a3f166a877daf71b31753850c/db830/me_at_golden_bridge.jpg 256w,\n/static/7b6f091a3f166a877daf71b31753850c/8102f/me_at_golden_bridge.jpg 512w,\n/static/7b6f091a3f166a877daf71b31753850c/63217/me_at_golden_bridge.jpg 1024w,\n/static/7b6f091a3f166a877daf71b31753850c/d58d1/me_at_golden_bridge.jpg 1536w,\n/static/7b6f091a3f166a877daf71b31753850c/09658/me_at_golden_bridge.jpg 2048w,\n/static/7b6f091a3f166a877daf71b31753850c/441eb/me_at_golden_bridge.jpg 6000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu na Golden Gate Bridge</figcaption>\n  </figure></p>\n<p>Como eu estava em São Francisco e paguei muito por isso, eu tive que visitar os pontos turísticos mais famosos da cidade, começando pela Ponte Golden Gate. Tive muita sorte em conseguir tirar uma foto com a ponte totalmente visível, já que na maioria dos dias daquela semana a ponte estava totalmente coberta de neblina e nuvens.</p>\n<p>É um local imperdível e realmente agradável de se olhar. São Francisco é uma cidade muito interessante, já que você pode ir de ônibus para locais incríveis da natureza, como Rodeo Beach e Farol de Point Bonita.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.984375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAG5LmA//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECAxP/2gAIAQEAAQUCesI7Sx0f/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREv/aAAgBAwEBPwHKIj//xAAWEQADAAAAAAAAAAAAAAAAAAAAARL/2gAIAQIBAT8BplM//8QAFxABAQEBAAAAAAAAAAAAAAAAADICIf/aAAgBAQAGPwKXMpf/xAAaEAACAgMAAAAAAAAAAAAAAAAAATGBEUGR/9oACAEBAAE/IZ1nZtNsTmHT/9oADAMBAAIAAwAAABCAH//EABcRAAMBAAAAAAAAAAAAAAAAAAABEWH/2gAIAQMBAT8QoqZH/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBMUH/2gAIAQIBAT8QVpL7P//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExQeHx/9oACAEBAAE/EHaCMXCLgb8IEaEsrpP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"lighthouse panorama\"\n        title=\"Farol de Point Bonita\"\n        src=\"/static/76652fe71b3d2dcfb9cc6df35ef8ae0d/63217/lighthouse_panorama.jpg\"\n        srcset=\"/static/76652fe71b3d2dcfb9cc6df35ef8ae0d/db830/lighthouse_panorama.jpg 256w,\n/static/76652fe71b3d2dcfb9cc6df35ef8ae0d/8102f/lighthouse_panorama.jpg 512w,\n/static/76652fe71b3d2dcfb9cc6df35ef8ae0d/63217/lighthouse_panorama.jpg 1024w,\n/static/76652fe71b3d2dcfb9cc6df35ef8ae0d/d58d1/lighthouse_panorama.jpg 1536w,\n/static/76652fe71b3d2dcfb9cc6df35ef8ae0d/09658/lighthouse_panorama.jpg 2048w,\n/static/76652fe71b3d2dcfb9cc6df35ef8ae0d/ddec9/lighthouse_panorama.jpg 6333w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Farol de Point Bonita</figcaption>\n  </figure></p>\n<p>Além disso, por algum motivo, os leões-marinhos adoram ficar em torno do Pier 39</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgME/8QAFAEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAAB1lbVFscQh//EABkQAAMBAQEAAAAAAAAAAAAAAAABAhMDIv/aAAgBAQABBQLdC7yzVF9Jhx7M5P/EABcRAQADAAAAAAAAAAAAAAAAAAABEiH/2gAIAQMBAT8BrDH/xAAXEQADAQAAAAAAAAAAAAAAAAAAARES/9oACAECAQE/AdMrP//EABsQAAICAwEAAAAAAAAAAAAAAAAxARECEJGh/9oACAEBAAY/AlHRaqMPR1Aj/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERMSFxQWGR/9oACAEBAAE/IU+wZCa2J1JekJ+xKfKpC7ez/9oADAMBAAIAAwAAABDAH//EABcRAQEBAQAAAAAAAAAAAAAAAAEAIXH/2gAIAQMBAT8QR1ub/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAFh/9oACAECAQE/EJdq/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFxkWH/2gAIAQEAAT8QMwfRJ7UEQA6Qu1nWVDLeSU2WyIMDvsGaE8uln//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pier 39 sea lion\"\n        title=\"Leão-Marinho no Pier 39\"\n        src=\"/static/affa9b68e7920e4582a390538f30ca8c/63217/pier_39_sea_lion.jpg\"\n        srcset=\"/static/affa9b68e7920e4582a390538f30ca8c/db830/pier_39_sea_lion.jpg 256w,\n/static/affa9b68e7920e4582a390538f30ca8c/8102f/pier_39_sea_lion.jpg 512w,\n/static/affa9b68e7920e4582a390538f30ca8c/63217/pier_39_sea_lion.jpg 1024w,\n/static/affa9b68e7920e4582a390538f30ca8c/d58d1/pier_39_sea_lion.jpg 1536w,\n/static/affa9b68e7920e4582a390538f30ca8c/09658/pier_39_sea_lion.jpg 2048w,\n/static/affa9b68e7920e4582a390538f30ca8c/441eb/pier_39_sea_lion.jpg 6000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Leão-Marinho no Pier 39</figcaption>\n  </figure></p>\n<p>São Francisco também tem um dos presídios mais famosos do mundo, Alcatraz, que foi fechado devido aos altos custos de manutenção.</p>\n<p>Eu também fui a Palo Alto visitar a sede do Google, mas infelizmente não conhecia ninguém do Google para fazer um tour VIP comigo. Ainda assim, a visita valeu a pena. Tirei também uma foto em frente ao Dragon Gate em Chinatown, um local famoso do filme “Os Aventureiros do Bairro Proibido”.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGR7dqQDRH/xAAbEAACAgMBAAAAAAAAAAAAAAAAAQIRAxIhE//aAAgBAQABBQKMNm8IlY+l88kf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAEDAQE/AYy//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAESEf/aAAgBAgEBPwGnpZ//xAAbEAABBAMAAAAAAAAAAAAAAAABABARMSFBUf/aAAgBAQAGPwLFIxotxrK//8QAGhABAQADAQEAAAAAAAAAAAAAAREAIVEQMf/aAAgBAQABPyFBNq25Kn9CZFreBBGDmNI74H//2gAMAwEAAgADAAAAEAM//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERcf/aAAgBAwEBPxBLIaP/xAAXEQEAAwAAAAAAAAAAAAAAAAAAATFx/9oACAECAQE/EL0Mv//EABsQAQEAAwADAAAAAAAAAAAAAAERACExQVGB/9oACAEBAAE/ECMICmu8yCwUHYecCmqymCDsFDL9xELO99xqwD1c/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alcatraz\"\n        title=\"Alcatraz\"\n        src=\"/static/6c7560e29a1ecc96336c60f9a2585a3a/63217/alcatraz.jpg\"\n        srcset=\"/static/6c7560e29a1ecc96336c60f9a2585a3a/db830/alcatraz.jpg 256w,\n/static/6c7560e29a1ecc96336c60f9a2585a3a/8102f/alcatraz.jpg 512w,\n/static/6c7560e29a1ecc96336c60f9a2585a3a/63217/alcatraz.jpg 1024w,\n/static/6c7560e29a1ecc96336c60f9a2585a3a/d58d1/alcatraz.jpg 1536w,\n/static/6c7560e29a1ecc96336c60f9a2585a3a/09658/alcatraz.jpg 2048w,\n/static/6c7560e29a1ecc96336c60f9a2585a3a/441eb/alcatraz.jpg 6000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Alcatraz</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAU4qqwklYH//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADEhEh/9oACAEBAAEFAhZmO5cke55FIsXJE//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEiH/2gAIAQIBAT8BvFv/xAAaEAADAQADAAAAAAAAAAAAAAAAAREhAjGh/9oACAEBAAY/AiumJm8myw78P//EABoQAAIDAQEAAAAAAAAAAAAAAAABESFBMWH/2gAIAQEAAT8hlJpYWLWOwBPN0PHwW3jcRJg9j//aAAwDAQACAAMAAAAQ28//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QTthf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EBGpd//EABwQAQACAwADAAAAAAAAAAAAAAEAESExQVFxgf/aAAgBAQABPxCwICy8Y4pCmteuQ6t8NM2NNoAfAmCMQyADFNCD4J//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"me at google\"\n        title=\"Eu no Google\"\n        src=\"/static/40ed2f3c48cd4a01662a09404079e416/63217/me_at_google.jpg\"\n        srcset=\"/static/40ed2f3c48cd4a01662a09404079e416/db830/me_at_google.jpg 256w,\n/static/40ed2f3c48cd4a01662a09404079e416/8102f/me_at_google.jpg 512w,\n/static/40ed2f3c48cd4a01662a09404079e416/63217/me_at_google.jpg 1024w,\n/static/40ed2f3c48cd4a01662a09404079e416/d58d1/me_at_google.jpg 1536w,\n/static/40ed2f3c48cd4a01662a09404079e416/09658/me_at_google.jpg 2048w,\n/static/40ed2f3c48cd4a01662a09404079e416/3a318/me_at_google.jpg 3888w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu no Google</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAVMlVs3B0B//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADERIh/9oACAEBAAEFAhYs6rKIviHStWoF5n//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGn/8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8BCf/EABgQAQADAQAAAAAAAAAAAAAAABEAAhAh/9oACAEBAAY/Am0DuEbZ/8QAGxAAAgIDAQAAAAAAAAAAAAAAAREAITFBUaH/2gAIAQEAAT8hHHA8jEKcFpRBN53LsTfIYNgISiyHs//aAAwDAQACAAMAAAAQfy//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QNL//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxBR/8QAHBABAAICAwEAAAAAAAAAAAAAAREhADFBUXGR/9oACAEBAAE/ELtrGpRdhR7lp1lAHmdbwAhPaLoyZE1iF/ceKBs6afcmbhZx/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"me at the dragon gate\"\n        title=\"Eu no Dragon Gate\"\n        src=\"/static/4559c8a73c302bafccde45245d18b355/63217/me_at_the_dragon_gate.jpg\"\n        srcset=\"/static/4559c8a73c302bafccde45245d18b355/db830/me_at_the_dragon_gate.jpg 256w,\n/static/4559c8a73c302bafccde45245d18b355/8102f/me_at_the_dragon_gate.jpg 512w,\n/static/4559c8a73c302bafccde45245d18b355/63217/me_at_the_dragon_gate.jpg 1024w,\n/static/4559c8a73c302bafccde45245d18b355/d58d1/me_at_the_dragon_gate.jpg 1536w,\n/static/4559c8a73c302bafccde45245d18b355/09658/me_at_the_dragon_gate.jpg 2048w,\n/static/4559c8a73c302bafccde45245d18b355/e7f75/me_at_the_dragon_gate.jpg 2592w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu no Dragon Gate</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 150%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgH/xAAXAQADAQAAAAAAAAAAAAAAAAACBAUB/9oADAMBAAIQAxAAAAGY2ykrOOCHHJ6JrbCM0f/EABwQAAICAwEBAAAAAAAAAAAAAAACAREDISISE//aAAgBAQABBQKiihdrMFD8pky7+ykdN5imqJ//xAAaEQACAgMAAAAAAAAAAAAAAAAAAgEQERJR/9oACAEDAQE/Aahcmq8P/8QAGREBAAIDAAAAAAAAAAAAAAAAAAISARFR/9oACAECAQE/AbtsyXl1/8QAGxAAAgMAAwAAAAAAAAAAAAAAAAEQEiExMqH/2gAIAQEABj8Cmwoq/BVNRpwdUf/EABwQAAICAwEBAAAAAAAAAAAAAAERADEQIUFhcf/aAAgBAQABPyHKJdAZQ8eBrELBHGocEGBQY51ai0Saln0T/9oADAMBAAIAAwAAABCo2D7/xAAZEQADAAMAAAAAAAAAAAAAAAAAAREQMWH/2gAIAQMBAT8QnCoQmsD/xAAXEQEBAQEAAAAAAAAAAAAAAAABIRAR/9oACAECAQE/EOJcqMcX/8QAHxABAQACAQQDAAAAAAAAAAAAAREAITEQQVFhcbHR/9oACAEBAAE/EPjj6dNGIB28XtiGjn7n8y/GJQz2QKHNAR0ibloestqhUE1loKhpx5uUCAkWbxr1QRo5/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"transamerica pyramid\"\n        title=\"Transamerica Pyramid\"\n        src=\"/static/5bad6fb0c387c5734f90bc5583b5f9fa/63217/transamerica_pyramid.jpg\"\n        srcset=\"/static/5bad6fb0c387c5734f90bc5583b5f9fa/db830/transamerica_pyramid.jpg 256w,\n/static/5bad6fb0c387c5734f90bc5583b5f9fa/8102f/transamerica_pyramid.jpg 512w,\n/static/5bad6fb0c387c5734f90bc5583b5f9fa/63217/transamerica_pyramid.jpg 1024w,\n/static/5bad6fb0c387c5734f90bc5583b5f9fa/d58d1/transamerica_pyramid.jpg 1536w,\n/static/5bad6fb0c387c5734f90bc5583b5f9fa/09658/transamerica_pyramid.jpg 2048w,\n/static/5bad6fb0c387c5734f90bc5583b5f9fa/2d34d/transamerica_pyramid.jpg 3265w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Transamerica Pyramid</figcaption>\n  </figure></p>\n<h2 id=\"o-show\" style=\"position:relative;\"><a href=\"#o-show\" aria-label=\"o show permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O show</h2>\n<p>Finalmente, dia 6 de setembro, chegou a hora do show. Eu peguei um Lyft do albergue até o Chase Center e, quando cheguei lá, pensei: <em>“Doideira, não consigo acreditar que estou realmente aqui”</em>. Era um sonho se tornando realidade. A fila para entrar era enorme, mas eu não me importava, estava apenas animado por estar lá.</p>\n<p>Quando entrei, encontrei o meu assento, que estava perfeito, com uma ótima visão do palco. O show começou e foi incrível. Metallica e a Orquestra Sinfônica de São Francisco estavam tocando juntos, era como um sonho.</p>\n<p>Eles começaram com <em>The Ecstasy of Gold</em>, seguido por <em>The Call of Ktulu</em>, assim como no primeiro S&#x26;M. Eu estava vivendo meu sonho, ouvindo meu álbum favorito ao vivo.</p>\n<p>A terceira música também era do primeiro show, <em>For Whom The Bell Tolls</em>, e a quarta música era <em>The Day That Never Comes</em>, do Death Magnetic, que é meu segundo álbum favorito da Metallica, então imaginem como eu estava feliz.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAABk3Iay4UD/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEREwIQEv/aAAgBAQABBQLUoseLsc9n/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bh//EABcRAQADAAAAAAAAAAAAAAAAAAABERL/2gAIAQIBAT8B1K3/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhMWFB/9oACAEBAAE/Ia7sTw6NnpUTbq6WqZOkf//aAAwDAQACAAMAAAAQ2B//xAAXEQEBAQEAAAAAAAAAAAAAAAABACFR/9oACAEDAQE/EADhby//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EFDrYv/EABkQAQADAQEAAAAAAAAAAAAAAAEAESExYf/aAAgBAQABPxAw68BjlVpE5GLzEdLU1wzCAV2nW5ah78wcn//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"metallica and symphony 1\"\n        title=\"Metallica &amp; Symphony 2\"\n        src=\"/static/b1faaf3dd0ddd7c0f9b7a8ae017c9128/63217/metallica_and_symphony_1.jpg\"\n        srcset=\"/static/b1faaf3dd0ddd7c0f9b7a8ae017c9128/db830/metallica_and_symphony_1.jpg 256w,\n/static/b1faaf3dd0ddd7c0f9b7a8ae017c9128/8102f/metallica_and_symphony_1.jpg 512w,\n/static/b1faaf3dd0ddd7c0f9b7a8ae017c9128/63217/metallica_and_symphony_1.jpg 1024w,\n/static/b1faaf3dd0ddd7c0f9b7a8ae017c9128/d58d1/metallica_and_symphony_1.jpg 1536w,\n/static/b1faaf3dd0ddd7c0f9b7a8ae017c9128/09658/metallica_and_symphony_1.jpg 2048w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Metallica &amp; Symphony 2</figcaption>\n  </figure></p>\n<p>Todos nós sabíamos que <em>The Unforgiven III</em> tinha que ser tocado naquele dia e foi e, mermão, foi épico, James tocou uma obra-prima acústica completa com a sinfonia, e isso me fez quase chorar. Pena que eles não tocaram <em>Fade to Black</em>, que eu esperava que tocasse no segundo show, mas não foi o caso, já que o setlist foi exatamente o mesmo.</p>\n<p>\n      <div class=\"gatsby-remark-local-videos\">\n        <video controlsList=\"nodownload\" controls loop preload style=\"width: 100%\" >\n          <source src=\"/378bd2073fa5322471fcf2ab9c477098/metallica-sam2.webm\" type=\"video/webm\">\n        </video>\n    </div>\n    </p>\n<p>Após o segundo show, a segurança permitiu descer e tirar ótimas fotos perto do palco, o que tornou toda a experiência ainda mais inesquecível (that’s what you are… 🎵).</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFFeTUVaJE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIAAxITIv/aAAgBAQABBQIFBM1VNzxeiGUA21T/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAEBAAIDAQAAAAAAAAAAAAABABEyAxIhgf/aAAgBAQAGPwLZPsOBvAsXXkLW/8QAHBAAAgMAAwEAAAAAAAAAAAAAAREAITFBUWFx/9oACAEBAAE/IeWoqoWJHszofI6S1qDzyyDIAs6n/9oADAMBAAIAAwAAABAP3//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8Q1WEP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EGx//8QAHRABAAMAAgMBAAAAAAAAAAAAAQARITFBUYGhwf/aAAgBAQABPxAmnkbl+QVQUaXf3zMEJF0or1A/A6DBO4xgK+4nHUSy4FC3WXbs/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"me and sf symphony harp\"\n        title=\"Eu e a arpa do show\"\n        src=\"/static/c9b25f2e43f1a234e2e16d8f46d7bcd0/63217/me_and_sf_symphony_harp.jpg\"\n        srcset=\"/static/c9b25f2e43f1a234e2e16d8f46d7bcd0/db830/me_and_sf_symphony_harp.jpg 256w,\n/static/c9b25f2e43f1a234e2e16d8f46d7bcd0/8102f/me_and_sf_symphony_harp.jpg 512w,\n/static/c9b25f2e43f1a234e2e16d8f46d7bcd0/63217/me_and_sf_symphony_harp.jpg 1024w,\n/static/c9b25f2e43f1a234e2e16d8f46d7bcd0/d58d1/me_and_sf_symphony_harp.jpg 1536w,\n/static/c9b25f2e43f1a234e2e16d8f46d7bcd0/09658/me_and_sf_symphony_harp.jpg 2048w,\n/static/c9b25f2e43f1a234e2e16d8f46d7bcd0/e7f75/me_and_sf_symphony_harp.jpg 2592w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Eu e a arpa do show</figcaption>\n  </figure></p>\n<h2 id=\"pos-show\" style=\"position:relative;\"><a href=\"#pos-show\" aria-label=\"pos show permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pós-show</h2>\n<p>Eu gostaria de poder escrever mais sobre essa viagem, incrível, mas como foi há um ano, não me lembro muito dos detalhes.</p>\n<p>Esta foi a minha primeira viagem “longa” sozinho, e valeu totalmente a pena. Ainda acho que viajar com amigos é muito melhor, mas ter uma experiência sozinho ocasionalmente também é legal.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.796875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABQ2qqDUSFf//EABsQAAICAwEAAAAAAAAAAAAAAAECAAQREhMU/9oACAEBAAEFAhWi10x5VgYkdWiNsv8A/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABcRAQADAAAAAAAAAAAAAAAAAAABERL/2gAIAQIBAT8BtqX/xAAbEAACAgMBAAAAAAAAAAAAAAAAAREhAjEycf/aAAgBAQAGPwLZLyOhlUTa8Z//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFxgfH/2gAIAQEAAT8hwVHiIQQMj8UYnqUuvScc1qqif//aAAwDAQACAAMAAAAQtA//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFR/9oACAEDAQE/EEtJP//EABYRAQEBAAAAAAAAAAAAAAAAAAEQQf/aAAgBAgEBPxBeQ//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQWFR/9oACAEBAAE/EDq6jAXcXglmjH3YBzFdwi5m8KXIlD2bcb45pOeASRZ9Dqf/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"good bye san francisco\"\n        title=\"Adeus São Francisco\"\n        src=\"/static/b7776e137c3a87e63f1ce6d496ea4e5b/63217/good_bye_san_francisco.jpg\"\n        srcset=\"/static/b7776e137c3a87e63f1ce6d496ea4e5b/db830/good_bye_san_francisco.jpg 256w,\n/static/b7776e137c3a87e63f1ce6d496ea4e5b/8102f/good_bye_san_francisco.jpg 512w,\n/static/b7776e137c3a87e63f1ce6d496ea4e5b/63217/good_bye_san_francisco.jpg 1024w,\n/static/b7776e137c3a87e63f1ce6d496ea4e5b/d58d1/good_bye_san_francisco.jpg 1536w,\n/static/b7776e137c3a87e63f1ce6d496ea4e5b/09658/good_bye_san_francisco.jpg 2048w,\n/static/b7776e137c3a87e63f1ce6d496ea4e5b/441eb/good_bye_san_francisco.jpg 6000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Adeus São Francisco</figcaption>\n  </figure></p>\n<p>Adeus, São Francisco.</p>\n<h2 id=\"extra\" style=\"position:relative;\"><a href=\"#extra\" aria-label=\"extra permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Extra</h2>\n<p>Hoje, um ano se passou e eu comprei o <em>S&#x26;M2 Deluxe Boxset</em> para celebrar ainda mais essa viagem incrível. Eu fiz um unboxing desse produto, assista abaixo e me conte o que achou nos comentários :)</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/GDYU8UBZ168?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2020/2020-14-09-eu-san-francisco-e-metallica.pt-br/","path":"/blog/events/eu-san-francisco-e-metallica/","locale":"pt-br"},"readingTime":{"minutes":6.095},"frontmatter":{"date":"2020-09-14T00:00:00.000Z","title":"Eu, São Francisco e Metallica","categories":["events"]}}},{"node":{"excerpt":"Fala galera, segundo post em menos de uma semana,…","html":"<p>Fala galera, segundo post em menos de uma semana, inacreditável.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/6kpWc6VR0sA?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>No gameplay não temos muitas novidades desde o último video, apenas algumas mudanças no build do jogo, nas quais gostaria de compartilhar aqui com vocês.</p>\n<p>Primeiro tenho que pegar todos os arquivos de tileset, sprites e os arquivos das fases feitas no Tiled.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> stageFiles <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdir</span><span class=\"token punctuation\">(</span><span class=\"token constant\">STAGES_PATH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> tilesetFiles <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdir</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TILESETS_PATH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> tilesetImageFiles <span class=\"token operator\">=</span> tilesetFiles\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tilesetFile</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> supportedImageTypes<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>tilesetFile<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">const</span> spritesFolders <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readdir</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SPRITES_PATH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Na pasta dos sprites tem uma imagem para cada frame da animação:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 351px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.953125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABgUlEQVQoz6WSzWsbMRDF/f9DayitoYVeeigJDiSYJjk0UJrkUAr5IBBqd3el1WptJ16v3ZJZydJImla7Tgi99h10eMxj5jejHv2HeiEEIpoWbO/dazSGiEII3nsiOj/ev/z6hYi8c13Zuq523rzQANTWbcO5yD98HAI0j+Fojg4PPx2dxHAI2/Cv5eDt+/n9oivrGa3GPyZSTjkTopClkES0mN8lSVqWs4wJlmVVVRNROklEUYpcpozzjFmLsbMxxlpb16sQAlpLRNiqaRSACt4jOiIyxqDDVb1G59Da8DT2vGAXJ0fdMPFtma/OPo+/f2tNT62PaE4Pdn9X1Za5283NzXW/P0DE58y7w7390XFk9lvmRsHLV4Oci0fmjc7StJCz2zHPMjaVJREtq0XOOROzSSJEzup6HZfKmJDlz1QmGRecW3Q97xw8AADczUqttGoUEW20bpRaLau6Wm7MxrQnhAfQSs+nJQCopomdu3PHVbUzP5ePCv+YiNgh/P0kfwBddzORj2NQxgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Animação de idle\"\n        title=\"Animação de idle\"\n        src=\"/static/35b7d402d7a2888797de66c7269007e8/7ecec/skate-platformer-idle-sprites.png\"\n        srcset=\"/static/35b7d402d7a2888797de66c7269007e8/e3135/skate-platformer-idle-sprites.png 256w,\n/static/35b7d402d7a2888797de66c7269007e8/7ecec/skate-platformer-idle-sprites.png 351w\"\n        sizes=\"(max-width: 351px) 100vw, 351px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Animação de idle</figcaption>\n  </figure></p>\n<p>Agora eu passo o caminho dessa pasta para o plugin <code class=\"language-text\">WebpackFreeTexPacker</code> com algumas configurações básicas:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> textPackerPlugin <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> spritesFolder <span class=\"token keyword\">of</span> spritesFolders<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    texPackerPlugin<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebpackFreeTexPacker</span><span class=\"token punctuation\">(</span>\r\n            path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">SPRITES_PATH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>spritesFolder<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token string\">'../assets/atlases'</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">32</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">textureName</span><span class=\"token operator\">:</span> spritesFolder<span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">fixedSize</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">allowRotation</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">detectIdentical</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">allowTrim</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">exporter</span><span class=\"token operator\">:</span> <span class=\"token string\">'Phaser3'</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">removeFileExtension</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token literal-property property\">prependFolderName</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E para cada uma das imagens de tilesets vou processá-las pelo plugin de extrude:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> tilesetFile <span class=\"token keyword\">of</span> tilesetImageFiles<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">await</span> <span class=\"token function\">extrudeTilesetToImage</span><span class=\"token punctuation\">(</span>\r\n        tileWidth<span class=\"token punctuation\">,</span>\r\n        tileHeight<span class=\"token punctuation\">,</span>\r\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">TILESETS_PATH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tilesetFile<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">DIST_PATH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/assets/tilesets/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tilesetFile<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">spacing</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>E a última coisa que fiz foi pegar os arquivos das fases criadas no Tiled e envia-las para o frontend usando o plugin <code class=\"language-text\">webpack.DefinePlugin</code> para que seja possível carregar as fases dinamicamente:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token constant\">STAGES</span> <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>\r\n    stageFiles\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stage</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> stage<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">'json'</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stage</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> stage<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>DefinePlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token constant\">CANVAS_RENDERER</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">WEBGL_RENDERER</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">IS_DEV</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">VERSION</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>packageJson<span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token constant\">STAGES</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>E agora toda vez que eu faço o build do jogo eu consigo carregar fases dinamicamente com a constante <code class=\"language-text\">STAGES</code> e todos os meus sprites e tilesets estão prontos para serem usados.</p>\n<p>É isso que eu tenho para vocês hoje pessoal, espero que tenham gostado desse formato de vídeo e post no blog, até a próxima.</p>","fields":{"slug":"/2020/2020-09-09-segundo-game-devlog-do-skate-platformer.pt-br/","path":"/blog/games/segundo-game-devlog-do-skate-platformer/","locale":"pt-br"},"readingTime":{"minutes":1.575},"frontmatter":{"date":"2020-09-09T00:00:00.000Z","title":"Melhorando o build de sprite sheets no Phaser JS com Webpack 4 - Skate Platformer Game Devlog #02","categories":["games"]}}},{"node":{"excerpt":"Fala galera, algum tempo já que eu não posto nada né… tipo…","html":"<p>Fala galera, algum tempo já que eu não posto nada né… tipo 4 anos.</p>\n<p>Bom estou de volta para trazer notícias boas, ou pelo menos assim espero. Esse ano eu resolvi dedicar umas boas horas do meu tempo livre para aprender a fazer jogos. Eu já tinha feito uns anos atrás e tentei usar o Unity, mas eu me senti sobrecarregado com tanta coisa para aprender na IDE.</p>\n<p>Ano passado eu descobri o framework Phaser.io que me permite criar jogos usando o que eu já sei e uso todos os dias: JavaScript. Resolvi relatar toda a minha tragetória do jogo em forma de vídeos game devlogs, e hoje trago para vocês o primeiro da série.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/p4rJoxzLMwA?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Espero que gostem e não esqueça de compartilhar com seus amigos e familiares.</p>","fields":{"slug":"/2020/2020-02-09-primeiro-game-devlog-do-meu-jogo.pt-br/","path":"/blog/games/primeiro-game-devlog-do-meu-jogo/","locale":"pt-br"},"readingTime":{"minutes":0.65},"frontmatter":{"date":"2020-09-02T00:00:00.000Z","title":"Testando o Arcade Physics do Phaser JS - Skate Platformer Game Devlog #01","categories":["games"]}}},{"node":{"excerpt":"Mandou! Um abraço.","html":"<p>Mandou!</p>\n<p>Um abraço.</p>","fields":{"slug":"/2016/2016-02-16-uma-carta-aberta-a-mark-manson.pt-br/","path":"/blog/general/uma-carta-aberta-a-mark-manson/","locale":"pt-br"},"readingTime":{"minutes":0.015},"frontmatter":{"date":"2016-02-16T00:00:00.000Z","title":"Uma carta aberta a Mark Manson","categories":["general"]}}},{"node":{"excerpt":"Bom, recentemente eu descobri que a Google tinha criado o…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 707px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHRS5rmUrB//8QAGRAAAwADAAAAAAAAAAAAAAAAAQIDABAT/9oACAEBAAEFAilCedsVaAb/AP/EABcRAAMBAAAAAAAAAAAAAAAAAAABERL/2gAIAQMBAT8ByiI//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAES/9oACAECAQE/AbZTP//EABsQAAIBBQAAAAAAAAAAAAAAAAACEQEgITKh/9oACAEBAAY/Aqwxv0y02f/EAB0QAAMAAAcAAAAAAAAAAAAAAAABERAhMVFhkbH/2gAIAQEAAT8hdSUrkqzi9iasu7L7gtD/2gAMAwEAAgADAAAAEHAf/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQMBAT8QUgL/xAAYEQEBAAMAAAAAAAAAAAAAAAABABFRkf/aAAgBAgEBPxAPXJRzf//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExUZGh0fD/2gAIAQEAAT8QehFgmrizYHzxGAUsI2Oom0s2PE9TRP/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Google Flights sendo foda\"\n        title=\"Google Flights sendo foda\"\n        src=\"/static/4a7c4bd5cda1ecbeadd23bdff902fbf2/3bf56/dica-amiga.jpg\"\n        srcset=\"/static/4a7c4bd5cda1ecbeadd23bdff902fbf2/db830/dica-amiga.jpg 256w,\n/static/4a7c4bd5cda1ecbeadd23bdff902fbf2/8102f/dica-amiga.jpg 512w,\n/static/4a7c4bd5cda1ecbeadd23bdff902fbf2/3bf56/dica-amiga.jpg 707w\"\n        sizes=\"(max-width: 707px) 100vw, 707px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Google Flights sendo foda</figcaption>\n  </figure></p>\n<p>Bom, recentemente eu descobri que a Google tinha criado o maravilhoso Google Flights, que é um site de buscas de vôos de avião de várias companias aéreas, tipo como o Submarino Viagens faz. O mais incrível é que esse site existe a anos, e eu só descobri ele essa semana, apesar de já ter viajado bastante e estar sempre a procura de passagens baratas, nunca tinha visto falar sobre o Google Flights.</p>\n<p>E o legal é que se você tiver planejando uma viagem e tiver uma forma de diminuir o preço da sua passagem mudando alguns dias na ida e/ou na volta, o Google Flights te sugere isso. É rápido, útil e não cobra taxas de conveniência, bom, o que mais posso falar? Desde então tenho certeza que só usarei o Google Flights para todas as minhas buscas, então fica ai a dica pra vocês :)</p>","fields":{"slug":"/2015/2015-05-31-google-flights-e-foda.pt-br/","path":"/blog/tips/google-flights-e-foda/","locale":"pt-br"},"readingTime":{"minutes":0.75},"frontmatter":{"date":"2015-05-31T00:00:00.000Z","title":"Google Flights é foda!","categories":["tips"]}}},{"node":{"excerpt":"Mais um ano tive o privilégio de participar da cobertura da…","html":"<p>Mais um ano tive o privilégio de participar da cobertura da E3 para o Game Blast, e fiz um vídeozinho resumindo como foi nossa viagem.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/iGDOdSiiFBs?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2014/2014-08-08-viagem-para-los-angeles-e3-2014.pt-br/","path":"/blog/events/viagem-para-los-angeles-e3-2014/","locale":"pt-br"},"readingTime":{"minutes":0.135},"frontmatter":{"date":"2014-08-08T00:00:00.000Z","title":"Viagem para Los Angeles - E3 2014","categories":["events"]}}},{"node":{"excerpt":"Ultimamente eu voltei a me apaixonar por Lego, que foi o meu…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAaiyOQXSMJ//xAAaEAACAgMAAAAAAAAAAAAAAAAAAgETAxES/9oACAEBAAEFAjB3ovcV5Wb3P//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGq/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAERAhASMTL/2gAIAQEABj8CHm5m8qrZ0f/EABsQAAIDAAMAAAAAAAAAAAAAAAABESExUZHw/9oACAEBAAE/ISwXNKhlFWroaGG+Sw8Ef//aAAwDAQACAAMAAAAQSx//xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EIwp/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ELDD/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARITFBYVGR/9oACAEBAAE/EHC3g2Eu5WBAvryqmvIsFqccy7el9C+CP2fif//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Vegeta grrrrr\"\n        title=\"Vegeta grrrrr\"\n        src=\"/static/47f8188d519ef0cc9e08e38cf0599b06/63217/lego_vegeta_with_dragonballs.jpg\"\n        srcset=\"/static/47f8188d519ef0cc9e08e38cf0599b06/db830/lego_vegeta_with_dragonballs.jpg 256w,\n/static/47f8188d519ef0cc9e08e38cf0599b06/8102f/lego_vegeta_with_dragonballs.jpg 512w,\n/static/47f8188d519ef0cc9e08e38cf0599b06/63217/lego_vegeta_with_dragonballs.jpg 1024w,\n/static/47f8188d519ef0cc9e08e38cf0599b06/d58d1/lego_vegeta_with_dragonballs.jpg 1536w,\n/static/47f8188d519ef0cc9e08e38cf0599b06/09658/lego_vegeta_with_dragonballs.jpg 2048w,\n/static/47f8188d519ef0cc9e08e38cf0599b06/22e6a/lego_vegeta_with_dragonballs.jpg 2731w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Vegeta grrrrr</figcaption>\n  </figure></p>\n<p>Ultimamente eu voltei a me apaixonar por Lego, que foi o meu brinquedo favorito na infância, ou pelo menos foi até eu ganhar um SNES. Aproveitando que eu comprei uma câmera semi-profissional, Nikon L810, estou tirando umas fotos dos meus bonecos de Lego e postando no meu Flickr. Hoje eu fotografei algumas cenas de ação entre o Vegeta e a galera dos Vingadores. Veja algumas fotos abaixo:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAID/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAGWNjbBm//EABkQAAIDAQAAAAAAAAAAAAAAAAECAxATIf/aAAgBAQABBQJZuiVidqZi1f/EABcRAAMBAAAAAAAAAAAAAAAAAAABIRH/2gAIAQMBAT8BbsNP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AWR//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQAQESExQf/aAAgBAQAGPwK8VjqwMJON/8QAGxABAAICAwAAAAAAAAAAAAAAAQARIXEQMWH/2gAIAQEAAT8h7e72NwCqZKgs5NMqBC4FHH//2gAMAwEAAgADAAAAENcP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EBNCHf/EABcRAAMBAAAAAAAAAAAAAAAAAAABIRH/2gAIAQIBAT8QjVHpD//EABsQAQEBAQEAAwAAAAAAAAAAAAERIQBhQXGB/9oACAEBAAE/EIBYJAb48++uBA1L+9hLBS48CSEez1ET47DDDv/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Marvel vs Vegeta\"\n        title=\"Marvel vs Vegeta\"\n        src=\"/static/23fb266bd5c0b9164c7aa7eeb314f113/63217/lego_vegeta_vs_avengers.jpg\"\n        srcset=\"/static/23fb266bd5c0b9164c7aa7eeb314f113/db830/lego_vegeta_vs_avengers.jpg 256w,\n/static/23fb266bd5c0b9164c7aa7eeb314f113/8102f/lego_vegeta_vs_avengers.jpg 512w,\n/static/23fb266bd5c0b9164c7aa7eeb314f113/63217/lego_vegeta_vs_avengers.jpg 1024w,\n/static/23fb266bd5c0b9164c7aa7eeb314f113/d58d1/lego_vegeta_vs_avengers.jpg 1536w,\n/static/23fb266bd5c0b9164c7aa7eeb314f113/09658/lego_vegeta_vs_avengers.jpg 2048w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Marvel vs Vegeta</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBP/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABrztkmNf/xAAbEAACAgMBAAAAAAAAAAAAAAAAAQISAxETIv/aAAgBAQABBQLXnHYvEcSSOaP/xAAYEQACAwAAAAAAAAAAAAAAAAAAAREiQf/aAAgBAwEBPwGEtKH/xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAgEBPwFX/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERIQIQEjFR/9oACAEBAAY/Am5sfJnZQoxj3X//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUFh/9oACAEBAAE/IeIKeTqLXCJNQiNguC5qmh7PnP/aAAwDAQACAAMAAAAQFx//xAAaEQACAgMAAAAAAAAAAAAAAAAAEQFBYXGh/9oACAEDAQE/EELTpDy4f//EABYRAQEBAAAAAAAAAAAAAAAAAAEQUf/aAAgBAgEBPxBcI//EAB4QAQACAgIDAQAAAAAAAAAAAAEAESFBMWFRcYHR/9oACAEBAAE/EAIhwcq7fyZHGA26Df3xH6AnUO3FdpuZSdKNrbFG3L2z/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Marvel vs Vegeta\"\n        title=\"Marvel vs Vegeta\"\n        src=\"/static/dbf4bbb6fb734e6162ec48daf738ae9b/63217/lego_vegeta_vs_iron_man_1.jpg\"\n        srcset=\"/static/dbf4bbb6fb734e6162ec48daf738ae9b/db830/lego_vegeta_vs_iron_man_1.jpg 256w,\n/static/dbf4bbb6fb734e6162ec48daf738ae9b/8102f/lego_vegeta_vs_iron_man_1.jpg 512w,\n/static/dbf4bbb6fb734e6162ec48daf738ae9b/63217/lego_vegeta_vs_iron_man_1.jpg 1024w,\n/static/dbf4bbb6fb734e6162ec48daf738ae9b/d58d1/lego_vegeta_vs_iron_man_1.jpg 1536w,\n/static/dbf4bbb6fb734e6162ec48daf738ae9b/09658/lego_vegeta_vs_iron_man_1.jpg 2048w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Marvel vs Vegeta</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB1xSF040a/8QAHBABAAIBBQAAAAAAAAAAAAAAAQIDEgAEEBET/9oACAEBAAEFAtvc2TlIOHocn0zdf//EABcRAAMBAAAAAAAAAAAAAAAAAAABEQL/2gAIAQMBAT8By64in//EABYRAAMAAAAAAAAAAAAAAAAAAAECEP/aAAgBAgEBPwFhP//EABoQAAIDAQEAAAAAAAAAAAAAAAARATFBECH/2gAIAQEABj8CWLvkKFQsLP/EABoQAQADAAMAAAAAAAAAAAAAAAEAESFBYaH/2gAIAQEAAT8hxAD7lTpsZigt6HMagY7E/9oADAMBAAIAAwAAABAED//EABcRAQADAAAAAAAAAAAAAAAAABEBEDH/2gAIAQMBAT8QnITa/wD/xAAXEQEBAQEAAAAAAAAAAAAAAAABACEx/9oACAECAQE/EBNXsDf/xAAdEAEBAAIBBQAAAAAAAAAAAAABEQAhQTFRcZHB/9oACAEBAAE/EK9bF8u/vWRCSFLuzgxg1gpYuHYtoAYd9LaY6AJZOcBPvn//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Marvel vs Vegeta\"\n        title=\"Marvel vs Vegeta\"\n        src=\"/static/81b4f66509cf319654ed33def1a7fa52/63217/lego_vegeta_vs_iron_man_2.jpg\"\n        srcset=\"/static/81b4f66509cf319654ed33def1a7fa52/db830/lego_vegeta_vs_iron_man_2.jpg 256w,\n/static/81b4f66509cf319654ed33def1a7fa52/8102f/lego_vegeta_vs_iron_man_2.jpg 512w,\n/static/81b4f66509cf319654ed33def1a7fa52/63217/lego_vegeta_vs_iron_man_2.jpg 1024w,\n/static/81b4f66509cf319654ed33def1a7fa52/d58d1/lego_vegeta_vs_iron_man_2.jpg 1536w,\n/static/81b4f66509cf319654ed33def1a7fa52/09658/lego_vegeta_vs_iron_man_2.jpg 2048w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Marvel vs Vegeta</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFkDRYq5//EABoQAAMAAwEAAAAAAAAAAAAAAAABAhAREyH/2gAIAQEAAQUCl1J0aOlHuNs//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAwEBPwEe2t//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAQMQABAlH/2gAIAQEABj8C5QWYz//EABwQAQACAQUAAAAAAAAAAAAAAAEAURARITFBYf/aAAgBAQABPyEBApbmi5GMp3dCsek//9oADAMBAAIAAwAAABDr3//EABgRAAIDAAAAAAAAAAAAAAAAAAABESFB/9oACAEDAQE/EEYHJSP/xAAXEQADAQAAAAAAAAAAAAAAAAAAASFh/9oACAECAQE/EHjIf//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExUZHB0f/aAAgBAQABPxB8t11FcoC6G7IhsSzauYmUxaod+QKdqmYo/E//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Marvel vs Vegeta\"\n        title=\"Marvel vs Vegeta\"\n        src=\"/static/46de3656aa34a5ee2d1145e2a98f91b3/63217/lego_vegeta_vs_iron_man_3.jpg\"\n        srcset=\"/static/46de3656aa34a5ee2d1145e2a98f91b3/db830/lego_vegeta_vs_iron_man_3.jpg 256w,\n/static/46de3656aa34a5ee2d1145e2a98f91b3/8102f/lego_vegeta_vs_iron_man_3.jpg 512w,\n/static/46de3656aa34a5ee2d1145e2a98f91b3/63217/lego_vegeta_vs_iron_man_3.jpg 1024w,\n/static/46de3656aa34a5ee2d1145e2a98f91b3/d58d1/lego_vegeta_vs_iron_man_3.jpg 1536w,\n/static/46de3656aa34a5ee2d1145e2a98f91b3/d55d8/lego_vegeta_vs_iron_man_3.jpg 1994w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Marvel vs Vegeta</figcaption>\n  </figure></p>\n<p>Acesse o album do Flickr <a href=\"http://www.flickr.com/photos/blopaaa/sets/72157632720737316/with/8455730163/\" target=\"_blank\" rel=\"noreferrer\"><strong>aqui</strong></a>.</p>","fields":{"slug":"/2013/2013-02-09-lego-e-amor.pt-br/","path":"/blog/toys/lego-e-amor/","locale":"pt-br"},"readingTime":{"minutes":0.445},"frontmatter":{"date":"2013-02-09T00:00:00.000Z","title":"Lego é amor","categories":["toys"]}}},{"node":{"excerpt":"Fala galera! Beleza? Muitos leitores aqui no meu blog…","html":"<p>Fala galera! Beleza? Muitos leitores aqui no meu blog, sempre. Ano passado quando estava tudo confirmado para eu viajar para Los Angeles, eu comecei a pesquisar preços de jogos de GBA que eu sempre quis ter, como por exemplo Boktai, e eu devo ter comprado uns 10 jogos. Foi bem legal, eu consegui enxer a minha case de games:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIFBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAFGacXjCJ//xAAbEAADAAIDAAAAAAAAAAAAAAABAgMABBETFP/aAAgBAQABBQLZVeyNZzJLc7SlgGAz1zGf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAgICAwAAAAAAAAAAAAAAAAECESFBEjOh/9oACAEBAAY/Ao2VHZ1+kWtHGWEYR//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQWGB/9oACAEBAAE/ITqMR4lBs9dztL8wY71cRA3tatjyNPZ//9oADAMBAAIAAwAAABBz/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhMVFBocH/2gAIAQEAAT8QiWqGnEx4UiJuvauph0a/k+rhViwaDEyPqMBOwmKTm1U37z//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"case de games\"\n        title=\"Case de games\"\n        src=\"/static/f043f475b4c7d4dfef7d39c7332ecd91/63217/gba_bag.jpg\"\n        srcset=\"/static/f043f475b4c7d4dfef7d39c7332ecd91/db830/gba_bag.jpg 256w,\n/static/f043f475b4c7d4dfef7d39c7332ecd91/8102f/gba_bag.jpg 512w,\n/static/f043f475b4c7d4dfef7d39c7332ecd91/63217/gba_bag.jpg 1024w,\n/static/f043f475b4c7d4dfef7d39c7332ecd91/d58d1/gba_bag.jpg 1536w,\n/static/f043f475b4c7d4dfef7d39c7332ecd91/09658/gba_bag.jpg 2048w,\n/static/f043f475b4c7d4dfef7d39c7332ecd91/08826/gba_bag.jpg 3264w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Case de games</figcaption>\n  </figure></p>\n<p>O único problema na verdade foi jogar todos esses jogos. Claro que eu já sou um gamer que compra mais do que consome, mas dessa vez o problema não era esse, e sim onde jogar mesmo. Eu tenho um Game Boy Advance SP, é o melhor jeito de se jogar GBA hoje em dia, só que eu não consigo me acostumar com o jeito que ele é, em “portrait”, os meus dedos se encontram na parte de trás do console, tirando que ele parece um estojo de maquiagem, na verdade eu nunca gostei muito desse designe de “flip”, até mesmo nos celulares. Só que não adianta jogar GBA no Game Boy Advance Classic porque você não enxerga nada! É incrível como existiu uma leva de portáteis que não tem luz própria. Agora que já expliquei o meu problema, vamos para a solução: Por sorte minha, ano passado a galera do K-Team lançou um console baseado no hardware do GBA chamado <a href=\"http://revok101.com/\" target=\"_blank\" rel=\"noreferrer\">Revo K101</a>, que é basicamente o hardware do Game Boy Advance dentro da case de um <a href=\"http://dx.com/p/gemei-a330-3-0-lcd-mp3-mp4-media-games-player-with-fm-tv-out-sd-white-4gb-47741\" target=\"_blank\" rel=\"noreferrer\">Gemei A330</a>, o que é perfeito, pois tem o design bem parecido com o Game Boy Advance Classic, tipo “landscape” e tem a backlight. Uhuuul! Mas isso não é tudo, esse console tem diversas vantagens, como TV Out, possibilidade de trocar de bateria e também ele já acompanha um Flash Card que roda nativamente NES, SNES, GB, GBC e mais alguns outros consoles. Fiz um unboxing dele, segue ai o vídeo:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/QopGTeq46Sk?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Eu aconselho muito a comprar esse console se você ainda curte jogar os jogos de GBA. O preço dele é U$59,90 o que bem razoável, vendo todas as vantagens que ele tem. Se você tem interesse em compra-lo ou saber mais, acesse os links abaixo:</p>\n<p>Compre aqui: <a href=\"http://www.k1gbasp.com/pre-order-k101-free-pouch-bag-headphone-4gb-card-offered-p-47.html\" target=\"_blank\" rel=\"noreferrer\">k1gbasp.com/</a></p>\n<p>Site oficial: <a href=\"http://revok101.com/\" target=\"_blank\" rel=\"noreferrer\">revok101.com/</a></p>","fields":{"slug":"/2013/2013-02-09-novo-portatil-revo-k101-gba-clone.pt-br/","path":"/blog/games/novo-portatil-revo-k101-gba-clone/","locale":"pt-br"},"readingTime":{"minutes":1.825},"frontmatter":{"date":"2013-02-09T00:00:00.000Z","title":"Novo portátil: Revo K101 (GBA clone)","categories":["games"]}}},{"node":{"excerpt":"Ae ae!!! Completando 6 meses da E3, e praticamente 6 meses…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAGJ8TB2LC//xAAaEAACAwEBAAAAAAAAAAAAAAAAAQIRIQMS/9oACAEBAAEFAl0ocsdjWxe+j//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAICAgMAAAAAAAAAAAAAAAABITECESJhkf/aAAgBAQAGPwKULSuisfSBdHI//8QAGxABAAIDAQEAAAAAAAAAAAAAAQARITFBYbH/2gAIAQEAAT8hIO68VCus4XM/0gRadiPTjyAbsr7P/9oADAMBAAIAAwAAABCUP//EABYRAQEBAAAAAAAAAAAAAAAAAAABIf/aAAgBAwEBPxCMf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB8QAQACAgICAwAAAAAAAAAAAAERIQAxQVFhgZGh0f/aAAgBAQABPxB6mUtNcv3WFRQnIJ3Rv1ihl65BPF5KuFB6AvH9VGX0CVPjJhM6bVv9z//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Equipe Gameblast\"\n        title=\"Equipe Gameblast\"\n        src=\"/static/5e00cb3e4d093666482e94511bcf69e6/63217/equipe-gameblast.jpg\"\n        srcset=\"/static/5e00cb3e4d093666482e94511bcf69e6/db830/equipe-gameblast.jpg 256w,\n/static/5e00cb3e4d093666482e94511bcf69e6/8102f/equipe-gameblast.jpg 512w,\n/static/5e00cb3e4d093666482e94511bcf69e6/63217/equipe-gameblast.jpg 1024w,\n/static/5e00cb3e4d093666482e94511bcf69e6/d58d1/equipe-gameblast.jpg 1536w,\n/static/5e00cb3e4d093666482e94511bcf69e6/09658/equipe-gameblast.jpg 2048w,\n/static/5e00cb3e4d093666482e94511bcf69e6/49580/equipe-gameblast.jpg 3648w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Equipe Gameblast</figcaption>\n  </figure></p>\n<p>Ae ae!!! Completando 6 meses da E3, e praticamente 6 meses também que eu não escrevo nada aqui. Triste. Mas tá tranquilo, trago aqui um vídeo resumindo como foi a viagem para Los Angeles da equipe Blast.</p>\n<p>Sei que o vídeo saiu com um ligeiro atraso, ms pelo menos é bom para matar a saudade do evento e já começar os preparativos para a E3 2013! Partiu!</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/ewfv4yfjgNs?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2012/2012-12-20-viagem-da-equipe-blast-para-a-e3-2012.pt-br/","path":"/blog/events/viagem-da-equipe-blast-para-a-e3-2012/","locale":"pt-br"},"readingTime":{"minutes":0.365},"frontmatter":{"date":"2012-12-20T00:00:00.000Z","title":"Viagem da equipe Blast para a E3 2012","categories":["events"]}}},{"node":{"excerpt":"BACK FROM THE DEAD? Hardly. Apenas chegou em um momento no…","html":"<p>BACK FROM THE DEAD? Hardly.</p>\n<p>Apenas chegou em um momento no qual não tem como eu não fazer um post sobre o que está por vir na próxima semana.</p>\n<p>Bom, ano passado eu tive a grande oportunidade de ir para a Comic Con em San Diego como imprensa, eu fiz toda a correria de registrar, mandei uma carta para eles e depois de um mês de espera tive meu ingresso de imprensa confirmado. Infelizmente, por diversos imprevistos eu não pude viajar e perdi essa grande oportunidade.</p>\n<p>Claro que o sonho seria poder ir para a E3, que infelizmente não foi possível (e nem mesmo planejado) pelo data que coincide com as datas das provas da minha faculdade, e também bateu com a apresentação do meu TCC. A E3 do ano passado foi bem épica, principalmente a parte da conferência da Nintendo (que não assistirei esse ano…), não só pela conferência em si, mas pela aventura que passei para assisti-la, aconteceu que a internet caiu bem no meio da apresentação, o que fez com que eu e o meu companheiro Nintendista Luca tivéssemos que sair de casa correndo pra rua, pegar carona pra ir pra casa de outra pessoa assistir a conferência, e bom, conseguimos. Deu tudo certo no final.</p>\n<p>Porque não vou assistir a conferência da Nintendo? Bom, é simples. Depois de anos desejando, está confirmada a minha presença na E3, farei parte da <a href=\"https://www.nintendoblast.com.br/2012/05/e3-2012-nintendo-blast-fara-cobertura.html\" target=\"_blank\" rel=\"noreferrer\">equipe da Nintendo Blast</a> que vai cobrir o evento.</p>\n<p>Fomos divididos em dois grupos: Os que assistirão a conferência ao vivo e os que ficaram no evento, cobrindo o que acontece enquanto a conferência rola, e eu fiquei no grupo que vai ficar no evento, o que é extremamente AWESOME, porém sentirei falta de assistir e ficar sabendo de primeira mão o que a Nintendo tem a dizer para os seus futuros lançamentos.</p>\n<p>Tantas coisas que eu poderia ter feito posts sobre eventos que aconteceram recentemente, como diversos conhecimentos sobre Magento que eu adquiri nos últimos dois anos, e também nunca postei os tutoriais de programação para celulares. Bom, agora também o Symbian é um OS morto, quem sabe eu não reutilizo essa idéia para algo mais amplo e atual, como o Android.</p>\n<p>O que realmente importa é: ESTOU INDO PARA A E3 PORRA! Ainda não acredito. Prometo a vocês, fiéis leitores, que voltarei a postar aqui um dia. Um dia…</p>","fields":{"slug":"/2012/2012-05-31-e3-2012-partiu.pt-br/","path":"/blog/events/e3-2012-partiu/","locale":"pt-br"},"readingTime":{"minutes":1.975},"frontmatter":{"date":"2012-05-31T00:00:00.000Z","title":"E3 2012? Partiu!","categories":["events"]}}},{"node":{"excerpt":"Bom, já tem uns meses que eu resolvi dedicar alguns dias da…","html":"<p>Bom, já tem uns meses que eu resolvi dedicar alguns dias da minha vida tentando colocar os jogos de Zelda em uma timeline correta.</p>\n<p>Eu fui me baseando na história dos jogos e nos comentários dos desenvolvedores e até que estava indo bem, tirando alguns problemas básicos, como o fato da primeira princesa Zelda que existiu aparecer no Adventure of Link.</p>\n<p>Coisas como esse fato deixam tudo mais complicado, pois afinal se no Ocarina of Time é onde o Ganon nasce, e no Legend of Zelda já existe o Ganon, Ocarina of Time vem antes de Legend of Zelda e Adventure of Link, logo essa princesa Zelda que está adormecida em Adventure of Link está dormindo a séculos.</p>\n<p>Isso tirando pelo fato mais declarado por todos que criam a timeline: Ocarina of Time é o primeiro da timeline. Bem como o Miyamoto uma vez disse “Ocarina of Time is the very first story!“. Acontece que recentemente descobrimos que não é bem assim: Durante a E3 desse ano foi revelado o Skyward Sword, novo jogo da série Zelda para Wii.</p>\n<p>O que acontece é que nesse jogo é revelado como a Master Sword se torna Master Sword, e vendo que a Master Sword já existia no Ocarina of Time, óbviamente Skyward Sword vem de todos os Zeldas. O que fez tudo ficar beeem problemático, pois eu passei horas e horas colocando a timeline junta, e muitas vezes algumas história faziam todo o sentido de ficar antes do Ocarina of Time, mas não podia pelo simples fato de Ocarina of Time ser o primeiro Zelda, bom, não mais.</p>\n<p>Pelo menos o Skyward Sword chegou já explicando MUITO, mesmo com tão pouco revelado. O fato da Skyward Sword poder virar a Master Sword explica perfeitamente porque a Picori Sword e a Lokomo Sword se parecem tanto com a Master Sword – De alguma forma a Master Sword acaba virando a Picori/Lokomo Sword.</p>\n<p>Como pouquissímos detalhes foram revelados sobre o Skyward Sword, eu prefiro não pensar mais na timeline por enquanto, mesmo porque apesar de explicar algumas coisas, o Skyward Sword trouxe muito mais dúvidas do que clarezas.</p>\n<p>Então estou liberando abaixo o post que eu pretendia fazer sobre a timeline de Zelda. Preparem-se para uma gigantesca <a href=\"http://uncyclopedia.wikia.com/wiki/Wall_of_Text\" title=\"Wall of Text\" target=\"_blank\" rel=\"noreferrer\">WOT</a> !</p>\n<p>Depois de pesquisar MUITO, eu completei a minha visão sobre a timeline de Zelda. Eu sei que muitos já fizeram o mesmo, inclusive o site GameTrailer, mas a cada jogo lançado, brexas nessas teorias são criadas.</p>\n<p>Vou mostra-los a minha própria teoria sobre a timeline de Zelda, de todos os Zeldas que eu joguei e de tudo que eu estudei sobre, eu fico satisfeito com essa sendo a timeline “oficial” para mim. Antes de tudo, uma coisa que precisamos entender é que Hyrule não o nome de um mundo, como o nosso é Terra.</p>\n<p>É apenas um continente de um mundo que ainda não foi revelado, assim como Labrynna e Holodrum do Oracle of Ages e Oracle of Seasons são continentes da mesma maneira. Outra coisa importante é saber que o nome héroi do jogo, não é necessáriamente Link, tanto que você pode escolher o nome a cada começo de jogo.</p>\n<p>Certo então, a primeira coisa que sabemos sobre o universo de Zelda, é a criação de Hyrule pelas três Deusas, Din, Nayru e Farore (No ato de criação do mundo de Hyrule, multiplos universos foram criados).</p>\n<p>Então houve a grande guerra em Hyrule, conhecida como Hyrulean Civil War para ver quem ficava com o poder da Triforce, a guerra teve seu fim com a Triforce nas mãos da Familia Real de Hyrule, assim começando os eventos de Ocarina of Time.</p>\n<p>Apesar do anuncio precipitado de Aonuma sobre Four Swords para GBA, no qual ele afirma sobre esse jogo ser o primeiro na timeline de Zelda, eu me baseio mais nas citações no qual ele realmente fazia parte do desenvolvimento da história do jogo, não como produtor, como ele foi em Four Swords. Depois dos eventos em Ocarina of Time, temos a famosa timeline dividida, no qual uma delas o Link volta no tempo e conta para Princesa Zelda tudo sobre o Ganondorf e seus planos, e no outro ele continua no futuro devastado pelo poder de Ganondorf.</p>\n<p>Vamos agora continuar com a timeline no qual Link permanesse adulto. Depois do mundo ter sido destruido pelo Ganondorf, ocorrem os eventos citados na backstory de Wind Waker: O rei e o povo de Hyrule pediram aos Deuses para inundar o mundo, com medo do poder maléfico de Ganon, que de algum jeito ressuscitou e por algum motivo não foi impedido pelo Link.</p>\n<p>Não sei essa história virá a ser algum jogo de Zelda, mas vou deixar uma interrogação nesse ponto. Centenas de anos se passaram e um novo Link nasce, ele recebe uma roupa de sua vó em seu aniversário, como ritual da espera da volta do Héroi do passado. Esses são os acontecimentos de Wind Waker. Esse Link se encontra com uma pirata chamada Tetra que depois se revela ser a reencarnação da princesa de Hyrule, Zelda e o King of Red Lions revela-se ser o antigo rei que inundou Hyrule, Daphnes Nohansen Hyrule.</p>\n<p>Após juntar os pedaços da Triforce da Coragem e matar Ganondorf, Zelda e Link recebem a missão de buscar uma nova terra para governar. Link e Tetra vão em busca de terras novas, e se deparam com um navio fantasma, acarretando os eventos de Phantom Hourglass, onde Link acorda em uma terra desconhecida e Tetra está sumida. Determinado a encontrar Tetra, Link vai em mais uma aventura, onde no final é revelado que Link não estava em seu mundo, e sim no Mundo do Ocean King.</p>\n<p>Ao voltar para seu próprio mundo, os marinheiros do navio de Tetra afirmam que os dois ficaram desacordados no navio fanstasma por apenas 10 minutos, então Link olha em seu bolso e encontra a Phantom Hourglass. Uma aventura em um universo paralelo ou apenas um sonho?</p>\n<p>Na verdade não importa, pois logo em seguida vem os eventos de Spirit Tracks. Muitas citações no próprio jogo mostram que esse novo reino foi encontrado pelos anceistrais de Link e Zelda, que o batizaram de Hyrule, em virtude ao antigo reino esquecido pelas pessoas. Uma coisa esquisita em Spirit Tracks é a Lokomo Sword, esparada que foi concebida pelos Deuses aos humanos para derrotar o mau no passado. Ela tem uma incrível semelhança com a Master Sword. Ela seria a própria com um nome diferente ou cada terra possui sua própria arma para combater o mau?</p>\n<p>Isso fica por aberto, cada um pensa o que quiser. Agora, depois de Spirit Tracks não se sabe muito, então eu vou encaixar um jogo que começa em um jogo que não se sabe muito do passado: Minish Cap. Mas entre Minish Cap e Spirit Tracks eu gostaria de colocar o futuro Zelda para Wii.</p>\n<p>Não que já se saiba bastante sobre o jogo, mas o que tudo indica é que será um jogo que mostrará muito sobre a Master Sword, e talvez explique a transição Master Sword/Picori Sword. No Minish Cap, surge um novo vilão: Vaati.</p>\n<p>Um feiticeiro que a única coisa que deseja é se tornar mais poderoso, e para isso ele precisa da “Light Power” (triforce da sabedoria?) que a princessa Zelda possui. Link mais uma vez tem a missão de salvar a princessa Zelda e no caminho de sua aventura, ele forja a Four Sword e derrota Vaati.</p>\n<p>Como esse Zelda não comenta nada sobre a Triforce ou Ganon, a única coisa que podemos imaginar é que se passa centenas de anos depois de Spirit Tracks, mas uma coisa é certa: Os Minish sempre existiram. Em uma citação do jogo, diz que os Minish se divertem escondendo itens e ruppes debaixo de pedras e nas gramas pelo mundo. Depois de Minish Cap, óbviamente vem o Four Swords de Game Boy Advance, no qual Vaati consegue escapar de sua prisão e rapta a princessa Zelda. Link vai atras para resgatar Zelda e sela novamente Vaati na Four Sword.</p>\n<p>Logo depois vem o Four Swords Adventures, para Game Cube, no qual Vaati é libertado novamente e no final do jogo é revelado que Vaati estava apenas sendo manipulado por Ganon, Link vence Vaati e Ganon e sela Ganon na Four Sword. Aqui termina a timeline do Link adulto de Ocarina of Time. Agora vamos voltar para o inicio de tudo: O Link de Ocarina of Time volta no tempo e conta para Princesa Zelda tudo sobre o Ganondorf e seus planos e Ganondorf é sentenciado a morte.</p>\n<p>Enquanto isso, Link se despede de Zelda, pois vai em busca de sua companheira Navi, que o deixou no final de Ocarina of Time. Enquanto está a procura de Navi, Link se perde em Lost Woods e é abordado por um Skull Kid, que rouba sua Ocarina of Time e a Epona, ao segui-lo, Link é teletransportado para outro mundo, um universo paralelo a Hyrule. Chegando lá, Link fica sabendo que a lua está prestes a cair, e Link tem apenas três dias para deter a lua.</p>\n<p>No final do terceiro dia, Link utiliza a Ocarina of Time para voltar no tempo e assim continuar sua aventura. No final do jogo, não fica muito claro se o Link volta ou não para Hyrule, mas existem teorias de que ele aparece no Twilight Princess em forma de Stalfo, eu falarei sobre isso mais tarde.</p>\n<p>Voltando a timeline, um tempo se passou do Ocarina of Time e uma tribo de magos das trevas conhecidos como Dark Interlopers tentaram conseguir a Triforce utilizando o poder da Fused Shadow mas foram detidos pelos Light Spirits. Novamente não sei se haverá um Zelda baseado nessa história, então vou deixar uma interrogação aqui. Centenas de anos depois, acontecem os eventos de Twilight Princess, no qual Ganondorf tenta dominar Hyrule novamente, mas dessa vez manipulando Zant, um ser do Twilight Realm, que eu também acredito ser o Dark World, assim como muitos.</p>\n<p>Após derrotar Zant, Link batalha com Ganondorf e o derrota com a Master Sword. Após os eventos de Twilight Princess, muitas centenas de anos se passam, e por algum motivos, a Triforce é separada em vários pedaços. Após os acontecimentos de Twilight Princess, começam os the A Link to The Past, no qual é introduzida a Imprisoning War, que não se sabe ao certo se são os eventos ocorrido em Twilight Princess ou Ocarina of Time. A Link to the Past começa em uma noite em que Link acorda com o pedido de socorro feito telepaticamente pela Zelda, que tenta chamar alguém a seu socorro, ao escutar as palavras o Tio de Link pega seu escudo e espada e vai atrás para resgatar a princesa. Link levanta de sua cama e vai atrás de seu tio, para tentar ajudá-lo.</p>\n<p>Mais a frente, novamente Zelda ajuda a Link entrar no castelo revelando uma passagem oculta que havia nos jardins dos cantos, indo por lá, Link encontra seu tio deitado ao chão, ele pede para que fosse ajudar Zelda a se libertar do mago Agahnim. Zelda e Link então se encontram e vão para uma sala secreta, chegando lá encontram com um padre que conta para Link que para acabar com o caos criado por Agahnim, Link precisa recuperar a Master Sword que se encontra escondida em Lost Woods.</p>\n<p>Depois de passar por uma das aventuras mais difíceis de todos os jogos de Zelda, Link e Zelda derrotam Ganon, que planejava fugir do Dark World, manipulando o mago Agahnim a soltá-lo de seu selo, Ganon é selado novamente, juntamente com o Dark world. Depois dos eventos de Link to the Past, por algum motivo Link se ausenta de Hyrule, e Ganon consegue se libertar do Dark World, não é explicado muito bem como. Um novo herói, que não é o Link aparece, é o “Hero of the Light” no qual pode ser escolhido como homem ou mulher no começo do jogo.</p>\n<p>A história se passa em 4 semanas, na primeira semana o herói acorda em uma das casas de A Link to the Past e lhe é passada a tarefa de resgatar a princesa Zelda. Ao decorrer das quatro semanas, o herói fica sabendo mais sobre Ganon e Link e sobre como ele deve impedir Ganon. Na quarta semana o herói derrota Ganon, coloca a Master Sword onde ela pertence e é teletransportado de volta para onde pertence. Muitos anos depois, um novo Link aparece e tem a missão de novamente parar as ações de Ganon, esses são os eventos passados no primeiro Legend of Zelda, que como o próprio Miyamoto disse, A Link to the Past são os ancestrais do Link e Zelda do primeiro Legend of Zelda.</p>\n<p>Depois de juntar os 8 pedaços da Triforce da Sabedoria e derrotar Ganon, começam os eventos de Adventure of Link, onde ele é convocado pra mais uma missão por Impa. Ela revela para Link que muitas gerações atrás, houve um reino onde um rei reinava com justiça e sabedoria utilizando o poder da Triforce. Esse rei escondeu uma parte da Triforce, a Triforce da Coragem, e informou a secreta localização apenas para sua filha Zelda.</p>\n<p>Quando o rei faleceu, seu filho quis saber a localização da Triforce, mas sua irmã Zelda não quis revelar, então ele mandou uma feiticeira utilizar um feitiço para forçar sua irmã a revelar a localização da Triforce, e não obteve sucesso. Então a feiticeira lançou um feitiço na princessa Zelda que a colocou em sono profundo. Aterrorizado com a tragédia, o principe ordenou que a partir daquela geração, todas as princesas de Hyrule deveriam se chamar Zelda.</p>\n<p>Esse foi um acontecimento importantíssimo, o que diferencia muito da timeline de Wind Waker, no qual temos a Tetra. Voltando a Adventure of Link, após Link ter restaurado a Triforce da Coragem e acordado a princessa Zelda, ela é raptada por dragões e começa o Zelda de Game &#x26; Watch.</p>\n<p>Muitos desconsideram esse jogo, mas é um lançamento oficial da Nintendo e não deve ser desconsiderado. Após prestar muitos serviços da Familia Real e ter salvo Hyrule, a Triforce convoca Link e o envia para um reinado distante que precisa de ajuda.</p>\n<p>Ai começam os eventos de Oracle of Seasons e Oracle of Ages. Quando um dos dois jogos é terminado e você começa o segundo jogo com o código dado no final do primeiro, a verdadeira história do jogo é revelada. No final do jogo (se você começou com o código depois de terminar o outro) é revelado que Zelda havia sido capturada pelas mães de Ganondorf em função de tentar ressuscitar Ganon.</p>\n<p>No final do jogo Link derrota Ganon e sai em uma jangada de volta para sua terra natal, Hyrule. Mas uma tempestade faz com que ele se perca, e acabe parando na Koholint Island. Link fica sabendo que para deixar essa ilha, ele precisa primeiramente precisa acordar o Wind Fish, e ao acorda-lo, Link descobre que a ilha em que estava era apenas uma criação de um sonho do Wind Fish, o jogo acaba e não fica claro se Link conseguiu voltar para casa ou não.</p>\n<p>Depois de Link’s Awakening, muitos anos se passaram e começam os eventos de A Link to the Past. Eu sei que é praticamente oficial que Link’s Awakening é sequencia de A Link to the Past, mas também houveram muitos erros na tradução do Japonês para o Inglês, mas não seria possível colocar o Link de Link to the Past sendo o protagonista de Oracle of Ages e Oracle of Seasons pelo simples fato de que em Oracle of Age/Seasons você elimina o Ganon, sendo que na sequência de A Link to The Past, onde Link não é o herói e sim “The Hero of Light”, Ganon também é derrotado, tornando essa ligação impossível, pois haveriam dois Ganons ao mesmo tempo em diferentes terras.</p>\n<p>É, bastante coisa! Eu te garanto que essa colocação ai, até antes do anuncio do Skyward Sword era a que mais fazia sentido, apesar de algumas pequenas incoerências, mas que podiam ser concertadas com talvez algum outro jogo entre as histórias.</p>\n<p>Eu farei a timeline novamente, só precisamos saber um pouco mais sobre a história de Skyward Sword. Até lá só nos resta.. não sei, ficar pensando até o cérebro torrar!!!</p>","fields":{"slug":"/2010/2010-07-03-linha-do-tempo-de-zelda-e-skyward-sword.pt-br/","path":"/blog/games/linha-do-tempo-de-zelda-e-skyward-sword/","locale":"pt-br"},"readingTime":{"minutes":13.59},"frontmatter":{"date":"2010-07-03T00:00:00.000Z","title":"Linha do tempo de Zelda e Skyward Sword","categories":["games"]}}},{"node":{"excerpt":"Percebi que não existem muitos vídeos sobre isso, então fiz…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 540px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMEAQX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAfanSGD2DcciG6Ap/8QAGxABAQACAwEAAAAAAAAAAAAAAQIDEAAREiH/2gAIAQEAAQUCuvJFOrkTGF6fphOp5//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQMBAT8BEixf/8QAGBEAAgMAAAAAAAAAAAAAAAAAARACEkH/2gAIAQIBAT8BIlZav//EABkQAAMAAwAAAAAAAAAAAAAAAAABERAgYf/aAAgBAQAGPwLpHisrt1//xAAbEAEAAgMBAQAAAAAAAAAAAAABESEAEEExgf/aAAgBAQABPyGsCV5hnitaaSUcycVCo0JB7n0XX//aAAwDAQACAAMAAAAQu8gA/8QAFhEBAQEAAAAAAAAAAAAAAAAAEAEx/9oACAEDAQE/EAzR/8QAGBEBAAMBAAAAAAAAAAAAAAAAARARQfD/2gAIAQIBAT8Qq0e2EKsf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARECExQcH/2gAIAQEAAT8QYNo0uoHHia7ws4utXhB0VEtAdMDwQRhqiqlrXzH/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"talento\"\n        title=\"Talento\"\n        src=\"/static/187326c34432ce1bb2b827995183a387/ceaae/talento.jpg\"\n        srcset=\"/static/187326c34432ce1bb2b827995183a387/db830/talento.jpg 256w,\n/static/187326c34432ce1bb2b827995183a387/8102f/talento.jpg 512w,\n/static/187326c34432ce1bb2b827995183a387/ceaae/talento.jpg 540w\"\n        sizes=\"(max-width: 540px) 100vw, 540px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Talento</figcaption>\n  </figure></p>\n<p>Percebi que não existem muitos vídeos sobre isso, então fiz a minha contribuição! =D semana que vem unboxing da Pastilha Garoto.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/y8CZSKACsIo?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2010/2010-04-07-unboxing-ovo-de-pascoa-da-talento.pt-br/","path":"/blog/tips/unboxing-ovo-de-pascoa-da-talento/","locale":"pt-br"},"readingTime":{"minutes":0.125},"frontmatter":{"date":"2010-04-07T00:00:00.000Z","title":"Unboxing ovo de Páscoa da Talento","categories":["tips"]}}},{"node":{"excerpt":"Acordar cedo e ficar sem nada para fazer é foda, na…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQL/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAVS07l5Hjf/EABoQAAMBAAMAAAAAAAAAAAAAAAECAwAREyL/2gAIAQEAAQUClQjI7adPPQCTAHLLgf/EABYRAQEBAAAAAAAAAAAAAAAAAAARIf/aAAgBAwEBPwGsf//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/AYf/xAAZEAACAwEAAAAAAAAAAAAAAAAAAQIRMSH/2gAIAQEABj8Catslbkdtms1mn//EABsQAAMAAgMAAAAAAAAAAAAAAAABESExQWGR/9oACAEBAAE/IeRpculLe8fudd0dzN0QriUEQtn/2gAMAwEAAgADAAAAEH8//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QhT//xAAWEQEBAQAAAAAAAAAAAAAAAAARAAH/2gAIAQIBAT8QTG3/xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhUUEx/9oACAEBAAE/ELRQ0XUOSxoCIDPWFqcRZMsAusRBMwGfewbheoT/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Clone\"\n        title=\"Clone\"\n        src=\"/static/a01bc5a7b0b7df6805fc39f080215375/63217/brincando.jpg\"\n        srcset=\"/static/a01bc5a7b0b7df6805fc39f080215375/db830/brincando.jpg 256w,\n/static/a01bc5a7b0b7df6805fc39f080215375/8102f/brincando.jpg 512w,\n/static/a01bc5a7b0b7df6805fc39f080215375/63217/brincando.jpg 1024w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Clone</figcaption>\n  </figure></p>\n<p>Acordar cedo e ficar sem nada para fazer é foda, na necessidade de se distrair, nada melhor que uma brincadeirinha no Sony Vegas. Quem sabe semana que vem eu tento fazer alguma coisa mais bem feita hehehe</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/GsBnE2riH9c?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2010/2010-03-23-brincando-com-o-sony-vegas.pt-br/","path":"/blog/funny/brincando-com-o-sony-vegas/","locale":"pt-br"},"readingTime":{"minutes":0.205},"frontmatter":{"date":"2010-03-23T00:00:00.000Z","title":"Brincando com o Sony Vegas","categories":["funny"]}}},{"node":{"excerpt":"Como vocês já devem estar sabendo, aconteceu um evento de…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 743px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQB/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgH/2gAMAwEAAhADEAAAAbNbTKtM/wD/xAAbEAABBAMAAAAAAAAAAAAAAAABAAIDERMhMf/aAAgBAQABBQJopaT4jfQY2Yyv/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bp//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPwGFf//EABkQAAMBAQEAAAAAAAAAAAAAAAABIREQMf/aAAgBAQAGPwJNtnrJSm5ef//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExQWFx/9oACAEBAAE/ITHwMqiOX3UVfFW2UGZEESYSd5P/2gAMAwEAAgADAAAAENzf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPxAAZL2//8QAFxEBAQEBAAAAAAAAAAAAAAAAAREAMf/aAAgBAgEBPxBZtwM5v//EABsQAQADAQADAAAAAAAAAAAAAAEAESExYYGx/9oACAEBAAE/EGYmrpYMM8eNMBNDyIh3Tj7gOSS22KAKqfJ//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Jirachi Release\"\n        title=\"Jirachi Release\"\n        src=\"/static/0187b12215dd75d9c1d740b948acae5b/54571/jirachi-release.jpg\"\n        srcset=\"/static/0187b12215dd75d9c1d740b948acae5b/db830/jirachi-release.jpg 256w,\n/static/0187b12215dd75d9c1d740b948acae5b/8102f/jirachi-release.jpg 512w,\n/static/0187b12215dd75d9c1d740b948acae5b/54571/jirachi-release.jpg 743w\"\n        sizes=\"(max-width: 743px) 100vw, 743px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Jirachi Release</figcaption>\n  </figure></p>\n<p>Como vocês já devem estar sabendo, aconteceu um evento de distribuição de um Jirachi especial no Brasil, organizado pela Latamel. Foi lindo, eu fui no penúltimo dia de distribuição, na Saraiva Mega Store no New York City Center – Rio de Janeiro. Chegando lá, inúmeros fãs de Pokémons conversando, batalhando, trocando Pokémons – O lugar estava repleto de fãs da Nintendo. Fiquei amigo de um pessoal lá, jogamos umas partidas de Mario Kart DS enquanto esperavamos o distribuidor do Jirachi voltar do horário de almoço. Assim que ele retornou, eu fui logo ligando o meu DSi para pegar o Jirachi! Foi muito foda!!!</p>\n<p>Eu tive a oportunidade de conversar com o distribuidor do Jirachi, Diego. Ele me explicou que o ponto de partida para esse evento acontecer foi o contato da Nintendo com a Latamel. Isso mesmo!! A Nintendo está de olho no Brasil, interessada em fazer eventos, e como esse foi um sucesso, mais estão por vir! VAMOS TORCER! Para ler mais sobre o evento, <a href=\"http://www.nintendoblast.com.br/2010/03/pokemon-blast-adquirindo-o-jirachi-da.html\" title=\"Post no Nintendo Blast\" target=\"_blank\" rel=\"noreferrer\"><strong>clique aqui</strong></a>.</p>\n<p>Para finalizar, consegui fazer um mini-entrevista com Gabriel Teixeira, treinador Pokémon que já chegou a vencer a Elite Four brasileira. Veja o vídeo abaixo.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/iV6LlGLGYlU?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>No final do evento, já não via a hora de voltar pra casa e poder realizar tudo que tinha acontecido aquele dia. Mal posso esperar por outro evento da Nintendo. Agradecimentos para o João Felipe, por ter me emprestado seu celular para eu tirar uma foto do Diego e por ter me explicado como voltar pra casa 😃</p>\n<p>Veja abaixo um vídeo do Jirachi sendo recebido, e algumas imagens do evento.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/ZUZCBuNYGdk?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2010/2010-03-22-jirachi-do-evento-da-latamel-adquirido.pt-br/","path":"/blog/events/jirachi-do-evento-da-latamel-adquirido/","locale":"pt-br"},"readingTime":{"minutes":1.365},"frontmatter":{"date":"2010-03-22T00:00:00.000Z","title":"Jirachi do evento da Latamel: Adquirido","categories":["events"]}}},{"node":{"excerpt":"CHEGOU A MINHA FITA DE POKÉMON! YAAAAAY!!! O Pokéwalker é…","html":"<p>CHEGOU A MINHA FITA DE POKÉMON! YAAAAAY!!! O Pokéwalker é lindo, mal posso esperar para ser feliz e carrega-lo para todos os cantos com meus Pokémons amados 🤩 veja abaixo um vídeo que eu gravei na hora que desempacotei o jogo:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/ZAPOxsQGCt0?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2010/2010-03-21-unboxing-do-pokemon-soul-silver.pt-br/","path":"/blog/games/unboxing-do-pokemon-soul-silver/","locale":"pt-br"},"readingTime":{"minutes":0.215},"frontmatter":{"date":"2010-03-21T00:00:00.000Z","title":"Unboxing do Pokémon Soul Silver","categories":["games"]}}},{"node":{"excerpt":"Depois de muito tempo de espera, chegou minha guitarra pra…","html":"<p>Depois de muito tempo de espera, chegou minha guitarra pra Wii. Paguei míseros R$70,00 nela! Produto de qualidade =D veja abaixo um vídeo de quando eu abri a caixa.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/azKUcmUqiYo?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2010/2010-03-05-chegou-minha-guitarra-para-wii.pt-br/","path":"/blog/tips/chegou-minha-guitarra-para-wii/","locale":"pt-br"},"readingTime":{"minutes":0.155},"frontmatter":{"date":"2010-03-05T00:00:00.000Z","title":"Chegou minha guitarra para Wii!!!!","categories":["tips"]}}},{"node":{"excerpt":"Não aguenta mais a vontade de poder controlar o Link em sua…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.546875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAH/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB030aq4uRKYAf/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIAAwQQEhP/2gAIAQEAAQUCt9e0sJgYTNZ1D2skXoht/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAfEAABAwMFAAAAAAAAAAAAAAABABESITFxAhAyUYH/2gAIAQEABj8C60KRlG1lSuEIkjC4PROWC93/AP/EAB4QAQACAgIDAQAAAAAAAAAAAAEAIRFRQWEQMYGx/9oACAEBAAE/IcyDOTcr6joe9xJaD5jETbZ+S62kGycql4CevxOfH//aAAwDAQACAAMAAAAQ0ygA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFhEBAQEAAAAAAAAAAAAAAAAAESAh/9oACAECAQE/EFyP/8QAHRABAQADAAIDAAAAAAAAAAAAAREAITFBUXGB8P/aAAgBAQABPxAt9ytR1bqvfWFIeh2h2TTycmVQg1djFSexglaTr1PVwQMpcW86k184zM2pTBNVZv6zn+N4Yc//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hero Pack\"\n        title=\"Hero Pack\"\n        src=\"/static/713401f73c32387cbacf9386769840c9/cb709/hero_pack.jpg\"\n        srcset=\"/static/713401f73c32387cbacf9386769840c9/db830/hero_pack.jpg 256w,\n/static/713401f73c32387cbacf9386769840c9/cb709/hero_pack.jpg 450w\"\n        sizes=\"(max-width: 450px) 100vw, 450px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Hero Pack</figcaption>\n  </figure></p>\n<p>Não aguenta mais a vontade de poder controlar o Link em sua nova aventura para Wii? Toda aquela história de movimentação perfeita pelo MotionPlus tem deixado todos nós ansiosos pelo lançamento desse jogo, isso sem contar nos mistérios que ele já vem trazendo desde o ano passado.</p>\n<p>Mas qual é a graça de rodar o WiiMote para atacar um inimigo sem sentir o poder da Master Sword de verdade? Bom, na verdade você nunca vai conseguir sentir isso, mas pelo menos, se for fã o suficiente, pode adquirir o <a href=\"http://www.camyinternational.com/heropack/\" title=\"Hero Pack\" target=\"_blank\" rel=\"noreferrer\">Hero Pack</a>, da empresa <a href=\"http://www.camyinternational.com/\" title=\"Camy International\" target=\"_blank\" rel=\"noreferrer\">Camy International</a>.</p>\n<p>Esse pack não é nenhum lançamento, e para falar a verdade foi lançado em meados de 2007, quando o Wii era um bebezinho ainda e o Zelda para Wii era apenas um sonho. Não sei porquê, parece que esse produto não ficou muito famoso, e hoje em dia é praticamente impossível de encontrar, e olha que ele tinha tudo para dar certo – Com direito a review na IGN e tudo.</p>\n<p>Veja o <a href=\"https://www.ign.com/videos/2007/08/07/camy-pro-hero-pack\" target=\"_blank\" rel=\"noreferrer\">mini-video-review da IGN</a> sobre o pack para mais informações.</p>\n<p>Depois de procurar muito, eu finalmente encontrei esse item para vender em um site Italiano, o <a href=\"http://www.hardstore.com/\" title=\"HardStore.com\" target=\"_blank\" rel=\"noreferrer\">hardstore.com</a>, e para nossa alegria, ele envia pro Brasil!! =D YAY</p>\n<p>O único problema é o preço, que não é muito amigável, o valor do produto é €13,00 + €25,00 do frete, o que dá em torno de R$90,00, isso sem contar com as possíveis taxas alfandegárias quando o produto chegar aqui.</p>\n<p>Se você estiver interessado no produto, basta acessar a página dele, <a href=\"http://www.hardstore.com/default.asp?cmd=getProd&#x26;cmdID=46422\" title=\"Haro Pack @ HardStore\" target=\"_blank\" rel=\"noreferrer\"><strong>clicando aqui</strong></a>. Mas decida-se rápido, no site diz que o produto expirará no dia 28 desse mes, não sei se eles vão continuar vendendo depois dessa data.</p>\n<p>Óbviamente eu já encomendei o meu, agora é só esperar chegar, e quando chegar, postarei mais fotos e um vídeo (já que não tem nenhum outro vídeo do produto na internet).</p>\n<p>Veja abaixo mais algumas imagens do produto:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAaEuhS8ywf/EABsQAAEEAwAAAAAAAAAAAAAAAAEAAxETAhIz/9oACAEBAAEFAtzXchBT3VxYkx//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwFn/8QAGxAAAgEFAAAAAAAAAAAAAAAAAQIQABEhMYH/2gAIAQEABj8CBQCsrbkIo1P/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhMVH/2gAIAQEAAT8huTh7ly7do9tGV1M5D6GRtuvfYLCz/9oADAMBAAIAAwAAABBkz//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxAMn//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EET/xAAaEAEAAgMBAAAAAAAAAAAAAAABABExQVEh/9oACAEBAAE/EAbu8CQXRiK6AavVjfJS9L06id2/jKYxD95tEAIvs//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hero Pack 2\"\n        title=\"Hero Pack 2\"\n        src=\"/static/da375a9ef2a238955ef055e9609a5256/63217/hero_pack_2.jpg\"\n        srcset=\"/static/da375a9ef2a238955ef055e9609a5256/db830/hero_pack_2.jpg 256w,\n/static/da375a9ef2a238955ef055e9609a5256/8102f/hero_pack_2.jpg 512w,\n/static/da375a9ef2a238955ef055e9609a5256/63217/hero_pack_2.jpg 1024w,\n/static/da375a9ef2a238955ef055e9609a5256/62aaf/hero_pack_2.jpg 1280w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Hero Pack 2</figcaption>\n  </figure></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEC/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABxckIH//EABkQAQACAwAAAAAAAAAAAAAAAAEAESEyQv/aAAgBAQABBQIwWUTk0n//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPwGH/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITFB/9oACAEBAAE/IVo2kEvy9CaLqdq+kxXwiT//2gAMAwEAAgADAAAAEIsP/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARQf/aAAgBAwEBPxA3F//EABYRAAMAAAAAAAAAAAAAAAAAAAEQUf/aAAgBAgEBPxAUv//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExQVFh0f/aAAgBAQABPxACMCKHUDlVdHIX8lBCRyWxAwsUYRCaA8HeYA4J/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hero Pack 3\"\n        title=\"Hero Pack 3\"\n        src=\"/static/95644164b63501b61ea4ff7c116793d8/63217/hero_pack_3.jpg\"\n        srcset=\"/static/95644164b63501b61ea4ff7c116793d8/db830/hero_pack_3.jpg 256w,\n/static/95644164b63501b61ea4ff7c116793d8/8102f/hero_pack_3.jpg 512w,\n/static/95644164b63501b61ea4ff7c116793d8/63217/hero_pack_3.jpg 1024w,\n/static/95644164b63501b61ea4ff7c116793d8/62aaf/hero_pack_3.jpg 1280w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Hero Pack 3</figcaption>\n  </figure></p>","fields":{"slug":"/2010/2010-02-18-camy-hero-pack-para-quem-nao-aguenta-esperar-o-zelda-para-wii.pt-br/","path":"/blog/games/camy-hero-pack-para-quem-nao-aguenta-esperar-o-zelda-para-wii/","locale":"pt-br"},"readingTime":{"minutes":1.69},"frontmatter":{"date":"2010-02-18T00:00:00.000Z","title":"Camy Hero Pack - Para quem não aguenta esperar o Zelda para Wii","categories":["games"]}}},{"node":{"excerpt":"Hoje encontrei uma informação que procurei por muito tempo…","html":"<p>Hoje encontrei uma informação que procurei por muito tempo, e hoje encontrei no site do <a href=\"http://www.planalto.gov.br/\" target=\"_blank\" rel=\"noreferrer\">Planalto</a> . Eu li em diversos lugares falando que baixar ROMs é legal, contanto que você tenha o jogo original e tudo mais, e até mesmo falando que é legal contanto que você apague o arquivo ROM em até 24h (haha), mas é foda confiar sem saber a fonte da informação, tanto que eu procurei e encontrei, e não é bem assim: Você não pode baixar a ROM mesmo que tenha o jogo original, o que você pode fazer é criar uma cópia de segurança do seu próprio jogo.</p>\n<p>Pois é! É dito por lei, o direito do usuário ter uma cópia do software no qual ele possui, em outras palavras: Você pode, sem estar infringindo nenhum lei no Brasil, rodar jogos em seu R4 desde que possua o jogo original. Segue o paragrafo 1 do artigo 6º da lei 9.609/98: > I – reprodução, em um só exemplar, de cópia legitimamente adquirida, desde que se destine à cópia de salvaguarda ou armazenamento eletrônico, hipótese em que o exemplar original servirá de salvaguarda; Com isso, você pode utilizar os seus flash cards e backup loaders sem problemas, contanto que possua o jogo original. E eu até aconselho utilizar flash card e backup loaders para rodar os seus jogos, além de serem mais práticos, também mantém o seu jogo original seguro de danos.</p>\n<p>Eu mesmo possuo um Twilight Princess para Wii que não funciona mais, mas como ainda tenho o jogo, caixa, manual e até a nota fiscal, continuo jogando o jogo pela cópia que eu fiz quando o adquiri. Isso é só pra mostrar como flash cards são legais, tanto que a Nintendo já tentou acabar com eles e falhou! Flash cards e backup loaders são totalmente úteis para quem gosta de conservar os seus jogos originais, e isso sem contar com o fato da possibilidade de rodar homebrews. Enfim, continuem usando seus flash cards / backup loaders sem medo.</p>\n<p>Mas e os emuladores? Bom, nesse caso é mais complicado, porque não existe nenhum anexo específico falando sobre emulador e engenharia reversa na lei 9.609/98, mas mesmo assim é possível determinar a legalidade da utilização de um emulador por outros fatos. Vamos lá. Os emuladores são desenvolvidos utilizando a engenharia reversa dos consoles, hackers e engenheiros trabalham para desenvolver um software que interprete os chamados das ROMs para os processadores de computador. O problema é o seguinte, muitos emuladores utilizam de porçoes de códigos do firmware do console utilizado para o desenvolvimento do mesmo, e manter cópia de software de outros em seu computador é crime.</p>\n<p>Ou seja, a única maneira de um emulador ser legal seria se você mesmo programasse um em casa. Simples, né? Claro que isso não vale para todos os casos, mas é bom a gente saber que as coisas não são tão simples assim e o Brasil possuí <strong>sim</strong> uma legislação para softwares.</p>\n<p><strong>Fonte:</strong> <a href=\"http://www.planalto.gov.br/ccivil_03/leis/l9609.htm\" target=\"_blank\" rel=\"noreferrer\">planalto.gov.br/</a></p>","fields":{"slug":"/2010/2010-01-24-lei-do-software-no-brasil.pt-br/","path":"/blog/tips/lei-do-software-no-brasil/","locale":"pt-br"},"readingTime":{"minutes":2.475},"frontmatter":{"date":"2010-01-24T00:00:00.000Z","title":"Lei do software no Brasil","categories":["tips"]}}},{"node":{"excerpt":"2009 foi um ano muito foda! Vários lançamentos de jogos…","html":"<p>2009 foi um ano muito foda! Vários lançamentos de jogos, celulares e filmes fodas. Até agora eu fico lembrando das minhas “conquistas” desse ano: O monitor, o Wii, o DSi, o PSP, a filmadora etc.</p>\n<p>2009 foi um ano bom até mesmo para jogos de celular, lembrando o lançamento de Zombie Infection, Sonic, Megaman e ainda noticias da fusão da Gameloft com a Capcom.</p>\n<p>Esse ano foi anunciado o Spirit Tracks DO NADA e lançado esse ano mesmo, alias, muitos jogos foram lançados, como Brutal Legend, Sillent Hill: Shatted Memories, Little Big Planet (PSP) etc. Anunciaram outros jogos fodas, como Little Big Planet, Assassin’s Creed e Metal Gear para PSP, Metroid: Other M para Wii e também a confirmação de que um Zelda para Wii está sim sendo desenvolvido!</p>\n<p>Esse ano tiveram TANTOS filmes fodas (alguns deles não equivaleram a espectativa, mas foram bons também) que eu nem consigo lembrar de todos, mas eu lembro de Gamer, Grace, The Surrogates, The Box.</p>\n<p>Namoral, se ano que vem for metade do que esse ano foi, vai ser um ano foda… mas só por ser o ano de lançamento de Metroid: Other M, e talvez de Zelda para Wii, já está sendo MUITO melhor que 2009! Isso tirando os inúmeros filmes fodas (como Shutter Island) e outras coisas tecnológicas e jogos que ainda serão anunciados e lançados ano que vem mesmo!</p>\n<p>Feliz ano novo pra geral! Divertam-se bastante =D</p>\n<p>2010 PORRA!!</p>","fields":{"slug":"/2009/2009-12-31-2010-chegando.pt-br/","path":"/blog/general/2010-chegando/","locale":"pt-br"},"readingTime":{"minutes":1.195},"frontmatter":{"date":"2009-12-31T00:00:00.000Z","title":"2010 chegando","categories":["general"]}}},{"node":{"excerpt":"Namoral, se você gosta de macarrão e pretende passar uma…","html":"<p>Namoral, se você gosta de macarrão e pretende passar uma parte das férias em Búzios, segue a ótima dica para se deliciar no almoço <strong>e</strong> jantar: Donatello Pasta.</p>\n<p>O Donatello Pasta tem como especialidade os melhores macarrões da região (acredite), eu fui lá a primeira vez e me apaixonei! O Chef da casa, Felipe Peracio, consegue fazer um prato na média de 2 minutos! Chega de esperar pela sua comida.</p>\n<p>Segue abaixo um pequeno teaser do restaurante:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/-jIxfio7ZGo?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p><strong><a href=\"https://donatellopasta.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Site oficial</a></strong>\r\n<strong><a href=\"https://twitter.com/DonatelloPasta\" title=\"Donatello Pasta no Twitter\" target=\"_blank\" rel=\"noreferrer\">Twitter</a></strong>\r\n<strong><a href=\"https://YouTube.com/DonatelloPasta\" title=\"Donatello Pasta no YouTube\" target=\"_blank\" rel=\"noreferrer\">YouTube</a></strong></p>","fields":{"slug":"/2009/2009-12-24-donatello-pasta-novo-restaurante-em-buzios.pt-br/","path":"/blog/tips/donatello-pasta-novo-restaurante-em-buzios/","locale":"pt-br"},"readingTime":{"minutes":0.465},"frontmatter":{"date":"2009-12-24T00:00:00.000Z","title":"Donatello Pasta - Novo restaurante em Búzios","categories":["tips"]}}},{"node":{"excerpt":"Viram o titulo desse post? É, vou falar de um assunto…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.609375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHtmaGH2Vf/xAAZEAADAQEBAAAAAAAAAAAAAAABAgMAEBL/2gAIAQEAAQUCPrScs/JTIG//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAACAQUAAAAAAAAAAAAAAAABEAARITFBUf/aAAgBAQAGPwLMudMV6v/EABwQAQACAQUAAAAAAAAAAAAAAAEAEEERIXGR8f/aAAgBAQABPyE7k4TqexSaiOY6eFf/2gAMAwEAAgADAAAAEETP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/EG0z/8QAHRABAQACAQUAAAAAAAAAAAAAAREAIRAxQWGBof/aAAgBAQABPxAYUwUT5jzcjgJs9vU4I1QI4NjQtp0il83XH//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"zelda timeline\"\n        title=\"Timeline?\"\n        src=\"/static/005db0a6b1c97cf3fe316178eea48eb3/63217/zelda_timeline.jpg\"\n        srcset=\"/static/005db0a6b1c97cf3fe316178eea48eb3/db830/zelda_timeline.jpg 256w,\n/static/005db0a6b1c97cf3fe316178eea48eb3/8102f/zelda_timeline.jpg 512w,\n/static/005db0a6b1c97cf3fe316178eea48eb3/63217/zelda_timeline.jpg 1024w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Timeline?</figcaption>\n  </figure></p>\n<p>Viram o titulo desse post? É, vou falar de um assunto extremamente discutido em qualquer forum/blog/fotolog/twitter/bar/museu/escola no mundo: A cronologia dos jogos <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a>. Existe realmente uma? Porque o <a href=\"http://en.wikipedia.org/wiki/Shigeru_Miyamoto\" title=\"Shigeru Miyamoto no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Shigeru Miyamoto</a> adora fazer esse “mindblower” que deixa todo mundo LOUCO? Se você perdeu suas esperanças de tentar achar uma seqüencia cronológica para os jogos <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a>, espero que esse post te coloque novamente no caminho da esperança de que um dia entenderemos o universo de <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> e sua cronologia.</p>\n<p>Para começar, assistam esse vídeo (em inglês):</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/F2g65jL3HDg?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Ao terminar o vídeo você deve ter pensado: “WOW, FODA!”, assim como eu e muitos outros. Alguns meses depois desse nova teoria ter sido criada, o autor do vídeo resolveu mandar o seu vídeo para <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a>, perguntando se ele havia chegado perto da uma solução para a cronologia de <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a>, e a <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a> respondeu o seguinte: Ou seja: Fodeu? Não, não mesmo. O que aconteceu aqui?</p>\n<p>Alguém muito viciado em <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> deu uma pesquisada, conseguiu fazer umas conexões entre os jogos de <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> e fez um vídeo que ficou famoso no <a href=\"http://youtube.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">YouTube</a>, quando tentou entrar em contato com a <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a>, obteve a resposta que não existe nenhuma cronologia concreta em <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a>.</p>\n<p>Bom, eu fiquei extremamente chateado com a resposta da <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a>, e resolvi mandar um e-mail para eles. Escrevi contando a história do contato do <a href=\"http://www.youtube.com/ocarinahero10\" title=\"ocarinahero10 no YouTube\" target=\"_blank\" rel=\"noreferrer\">ocarinahero10</a> e de seus vídeos, falei que o próprio <a href=\"http://en.wikipedia.org/wiki/Shigeru_Miyamoto\" title=\"Shigeru Miyamoto no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Miyamoto</a> disse uma vez que existem duas cronologias em <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> e até citei os <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeldas</a> que tem sequências oficiais ( <a href=\"http://en.wikipedia.org/wiki/The_Legend_of_Zelda_(video_game)\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> -> <a href=\"http://en.wikipedia.org/wiki/Zelda_II:_The_Adventure_of_Link\" title=\"Zelda II no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Zelda II</a> ; <a href=\"http://en.wikipedia.org/wiki/Ocarina_of_Time\" title=\"Ocarina of Time no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Ocarina of Time</a> -> <a href=\"http://en.wikipedia.org/wiki/The_Legend_of_Zelda:_Majora&#x27;s_Mask\" title=\"Majora&#x27;s Mask no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Majora’s Mask</a> ; <a href=\"http://en.wikipedia.org/wiki/Wind_Waker\" title=\"Wind Waker no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Wind Waker</a> -> <a href=\"http://en.wikipedia.org/wiki/Phantom_Hourglass\" title=\"Phantom Hourglass no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Phantom Hourglass</a> ; <a href=\"http://en.wikipedia.org/wiki/Oracle_of_Seasons\" title=\"Oracle of Seasons no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Oracle of Seasons</a> -> <a href=\"http://en.wikipedia.org/wiki/Oracle_of_Ages\" title=\"Oracle of Ages no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Oracle of Ages</a> ), e foi essa resposta que eu tive (traduzida):</p>\n<blockquote>\n<p>Olá Pablo,</p>\n<p>Desde o primeiro Legend of Zelda que foi lançado no NES anos atrás, fãs da série têm tentado encaixar cada jogo numa cronologia, cada jogo representando um episódio diferente na vida do Link, que varia entre adulto e adolescente.</p>\n<p>O lançamento de 2003, The Legend of Zelda: The Wind Waker finalmente pôs fim à especulação e discussão neste assunto, “Esta é apenas uma das lendas que as pessoas falam…” O consentimento geral sempre teve o Link como um único indivíduo.</p>\n<p>Contudo, numa entrevista dada na época, pelo editor do jogo, Eiji Aonuma (falando pelo próprio e por Shigeru Miyamoto, o criador original da série) constatou “Na nossa opinião, no Legend of Zelda, cada jogo tem um diferente Link. Um novo herói chamado de Link cresce para combater o mal.” > Isto significa que (a não ser que seja especificado) cada jogo representa um novo Link e que não existe uma cronologia referencial possível para a série. Para informações adicionais sobre The Legend of Zelda, por favor visite nosso site oficial Legend of Zelda no seguinte endereço:</p>\n<p><a href=\"http://www.zelda.com/universe/\" target=\"_blank\" rel=\"noreferrer\">www.zelda.com/universe/</a></p>\n<p>Com os melhores cumprimentos,</p>\n<p>Sharon Matheny</p>\n<p>Nintendo da America Inc.</p>\n<p>Home page da Nintendo: <a href=\"http://www.nintendo.com/\" target=\"_blank\" rel=\"noreferrer\">http://www.nintendo.com/</a></p>\n<p>Telefone (Informação Automática de Produtos): (425) 885-7529</p>\n</blockquote>\n<p>Uhmn, espera ai… já vi essa resposta em algum lugar… pois é! Eu recebi uma resposta igual à do <a href=\"http://www.youtube.com/ocarinahero10\" title=\"ocarinahero10 no YouTube\" target=\"_blank\" rel=\"noreferrer\">ocarinahero10</a>, mas o que isso significa? Significa que o site da <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a> possui um sistema que identifica as palavras “Zelda” e “timeline” e nem se importa em ler o que você fala e manda esse e-mail automático. Chato, eim? Então eu resolvi dar uma BOA pesquisada na internet sobre indicios do <a href=\"http://en.wikipedia.org/wiki/Shigeru_Miyamoto\" title=\"Shigeru Miyamoto no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Miyamoto</a> afirmar que existe uma sequencia cronológica na série <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a>, e achei está citação do <a href=\"http://en.wikipedia.org/wiki/Shigeru_Miyamoto\" title=\"Shigeru Miyamoto no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Miyamoto</a>:</p>\n<blockquote>\n<p>“Ocarina of Time é a primeira história, depois o original Legend of Zelda, depois Zelda II: The Adventure of Link, e finalmente A Link to the Past. Não está muito claro onde Link’s Awakening encaixa – poderia ser em algum tempo depois de Ocarina of Time.”</p>\n</blockquote>\n<p>E essa do <a href=\"http://en.wikipedia.org/wiki/Eiji_Aonuma\" title=\"Eiji Aonuma no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Eiji Aonuma</a>:</p>\n<blockquote>\n<p>“Quanto à cronologia, Twilight Princess é cerca de algumas centenas de anos depois de Link ter lutado contra Ganondorf em Ocarina of Time e retornado para a sua própria cidade (final de OoT ), e se torna um mundo paralelo até The Wind Waker (o eixo do tempo original é dividido em Ocarina of Time e um mundo paralelo é criado). Wind Waker começa centenas de anos imediatamente depois do Link adulto ter trancado Ganondorf, Twilight Princess ocorre centenas de anos depois de Link adulto ter sido enviado para seu tempo original pelo poder de Zelda.”</p>\n</blockquote>\n<p>Duas citações poderosissimas faladas por quem está por trás do jogo, que provam que a série de <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> TEM SIM uma cronologia =D E agora que você está terminando de ler este post, ficou muito feliz em saber de uma notícia dessas, mas existe um problema: As fontes.</p>\n<p>Todas as fontes dessas citações, foram tiradas de blogs e sites sobre <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a>, então como saber se elas são verdadeiras? Bom, eu fiz a busca da fonte dessas informações, passei cerca de 5 horas procurando de onde veio a primeira citação, e descobri que veio de uma entrevista exclusiva que <a href=\"http://en.wikipedia.org/wiki/Shigeru_Miyamoto\" title=\"Shigeru Miyamoto no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Miyamoto</a> deu para revista <a href=\"http://nintendopower.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo Power</a> em novembro de 1998, <a href=\"http://www.miyamotoshrine.com/theman/interviews/111998.shtml\" title=\"miyamotoshrine.com\" target=\"_blank\" rel=\"noreferrer\"><strong>clique aqui</strong></a> para ler a entrevista.</p>\n<p>Essa entrevista só foi publicada em janeiro de 1999 em uma edição especial da <a href=\"http://nintendopower.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo Power</a> #116, a edição que apenas quem assina a revista recebe. Eu procurei no Ebay essa edição especial da revista mas não achei =( Então eu mandei um e-mail para a <a href=\"http://nintendopower.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo Power</a> e um para <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a> junto com o link da entrevista, perguntando se é realmente verdadeira, e eles responderam que sim!</p>\n<p>Então a primeira citação sobre Ocarina of Time ser o primeiro <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> de todos é verdadeira e vinda da própria boca do <a href=\"http://en.wikipedia.org/wiki/Shigeru_Miyamoto\" title=\"Shigeru Miyamoto no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Miyamoto</a> =D A fonte da segunda citação, foi bem mais fácil de encontrar, eu procurei no site oficial da <a href=\"http://www.nindori.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo Dream</a>, revista japonesa da <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a>, e encontrei a entrevista que possui essa citação, para acessar a entrevista (em japones) <a href=\"http://www.nindori.com/interview/154zelda/154int_02.html\" title=\"Nintendo Dream\" target=\"_blank\" rel=\"noreferrer\"><strong>clique aqui</strong></a>, e para ver a tradução (português pelo <a href=\"http://translate.google.com/translate_t?hl=pt-br#\" title=\"Tradutor da Google\" target=\"_blank\" rel=\"noreferrer\"><strong>tradutor da Google</strong></a>) <a href=\"http://translate.google.com.br/translate?js=y&#x26;prev=_t&#x26;hl=pt-BR&#x26;ie=UTF-8&#x26;u=http://www.nindori.com/interview/154zelda/154int_02.html&#x26;sl=ja&#x26;tl=pt&#x26;history_state0=\" title=\"Nintendo Dream\" target=\"_blank\" rel=\"noreferrer\"><strong>clique aqui</strong></a>.</p>\n<p>Você também pode ver a versão traduzida pela Patricia e TSA, do site <a href=\"http://www.thehylia.com/\" target=\"_blank\" rel=\"noreferrer\">thehylia.com/</a> <a href=\"http://www.thehylia.com/index.php?subaction=showfull&#x26;id=1173582355\" title=\"Tradução\" target=\"_blank\" rel=\"noreferrer\"><strong>clicando aqui</strong></a>.</p>\n<p>Pronto, o trabalho foi feito! <span\n          \n          class='highlighted-text'\n        >Zelda POSSUI uma cronologia</span>, só precisamos esperar que Shigeru Miyamoto no Wikipédia comece a lançar novos jogos de Site oficial que conectem os que já sairam.</p>\n<p><a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> é um jogo de aventura extremamente rico em puzzles, e que, para quem é mais víciado, trás uma história de fantasia como nenhuma outra.</p>\n<p>Continuaremos jogando <a href=\"http://zelda.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zelda</a> até o fim dos tempos o/</p>\n<p>Confirta também <a href=\"/pt-br/zelda-timeline\">a página secreta sobre a Timeline de Zelda</a> que eu tenho nesse blog.</p>","fields":{"slug":"/2009/2009-09-15-linha-do-tempo-em-zelda.pt-br/","path":"/blog/games/linha-do-tempo-em-zelda/","locale":"pt-br"},"readingTime":{"minutes":6.14},"frontmatter":{"date":"2009-09-15T00:00:00.000Z","title":"Linha do tempo em Zelda?","categories":["games"]}}},{"node":{"excerpt":"Às vezes eu lembro que não sou só uma fonte de coisas…","html":"<p>Às vezes eu lembro que não sou só uma fonte de coisas inúteis e lembro que já fiz algumas coisas bacanas! Um exemplo disso são os efeitos que eu fiz com o <a href=\"http://www.adobe.com/br/products/photoshop/\" title=\"Adobe Photoshop\" target=\"_blank\" rel=\"noreferrer\">Adobe Photoshop</a> + <a href=\"http://www.adobe.com/br/products/premiere/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Adobe Premiere</a>. Um foi de uma luta com sabre laser que eu fiz com meu amigo Thiago (na verdade, ele fez a maior parte da parada, ele que me ensinou como se faz) e depois eu fiz um vídeo com um efeito de poder tipo o <a href=\"http://pt.wikipedia.org/wiki/Kame_hame_ha\" title=\"Kame Hame Ha no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Kame Hame Ha</a>. Ficou irado, vejam os dois vídeos abaixo:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/q6LpZMhu-L0?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/psCb67mHjAk?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Esse aqui (logo abaixo) foi um que eu fiz e mandei pro programa <a href=\"http://twitter.com/descargamtv\" title=\"Descarga MTV no Twitter\" target=\"_blank\" rel=\"noreferrer\">Descarga MTV</a>! Apareceu no programa e tudo, irado, assista abaixo:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/NWwKs6cV7-4?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2009/2009-07-08-efeitos-especiais.pt-br/","path":"/blog/general/efeitos-especiais/","locale":"pt-br"},"readingTime":{"minutes":0.665},"frontmatter":{"date":"2009-07-08T00:00:00.000Z","title":"Efeitos especiais","categories":["general"]}}},{"node":{"excerpt":"Ontem chegou a minha linda filmadora Samsung SC-MX20B que um…","html":"<p>Ontem chegou a minha linda filmadora Samsung SC-MX20B que um amigão meu trouxe de <a href=\"http://pt.wikipedia.org/wiki/Los_Angeles\" title=\"Los Angeles\" target=\"_blank\" rel=\"noreferrer\">LA</a> pra mim.</p>\n<p>Eu ainda não tive tempo de usar ela totalmente, mas já fiz um pequeno teste de qualidade, gravei um vídeozinho que você pode ver abaixo.</p>\n<p>O legal dela é a grip giratória. Às vezes você quer pegar um outro ângulo de alguma coisa e filmar com a câmera abaixo da cintura, então você tira sua mão da grip e coloca a mão denovo em outra posição. Com a Samsung SC-MX20B pode-se simplesmente rotacionar a grip junto com a sua mão, para pegar o ângulo certo, veja nas fotos abaixo para entender melhor:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.71875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABTjopcrykH//EABkQAAIDAQAAAAAAAAAAAAAAAAIDAAEEMf/aAAgBAQABBQJm1sXoMrFRFRKWUasVyuf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8BjX//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAECERASIUH/2gAIAQEABj8CpalMs7BEnFeY/8QAHBABAAICAwEAAAAAAAAAAAAAAQAhETFBUXGB/9oACAEBAAE/IbybJRczlPm4XCA9wVLvOJTkiZr8n//aAAwDAQACAAMAAAAQkx//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxAt/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EKw//8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFBYZGx0f/aAAgBAQABPxAiTNzADzmXI7MCbTQUyzb3HAOQI+YyAWYOvsFDd4ep/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sc-mx20_grip\"\n        title=\"sc-mx20_grip\"\n        src=\"/static/46da1763fcfbc5ff1ce527af6edc671e/cb709/sc-mx20_grip.jpg\"\n        srcset=\"/static/46da1763fcfbc5ff1ce527af6edc671e/db830/sc-mx20_grip.jpg 256w,\n/static/46da1763fcfbc5ff1ce527af6edc671e/cb709/sc-mx20_grip.jpg 450w\"\n        sizes=\"(max-width: 450px) 100vw, 450px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">sc-mx20_grip</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.671875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHY8/NTHj//xAAaEAADAAMBAAAAAAAAAAAAAAABAgMAERIj/9oACAEBAAEFAq1NTwRkxtYz96S4RKFV/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAbEAADAQEAAwAAAAAAAAAAAAAAAQIRA0Fhkf/aAAgBAQAGPwLIpqV5Rqvp9NV2Vz32amYf/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAMSFR/9oACAEBAAE/IXS8nC4Y+EXzvT4D9brVyPrVk3nMLkQ3/9oADAMBAAIAAwAAABCcP//EABcRAAMBAAAAAAAAAAAAAAAAAAABEUH/2gAIAQMBAT8QUk0bn//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAgEBPxBtuDv/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMUFRgXH/2gAIAQEAAT8QEfFZSuk79+TeyexdoCmzYkepHKIxJu3SeS5Uqy7Q5BMLxP/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sc-mx20 grip\"\n        title=\"sc-mx20 grip\"\n        src=\"/static/c24fb0aa74c6b55cc09861213ef54f56/cb709/sc-mx20_grip_2.jpg\"\n        srcset=\"/static/c24fb0aa74c6b55cc09861213ef54f56/db830/sc-mx20_grip_2.jpg 256w,\n/static/c24fb0aa74c6b55cc09861213ef54f56/cb709/sc-mx20_grip_2.jpg 450w\"\n        sizes=\"(max-width: 450px) 100vw, 450px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">sc-mx20 grip</figcaption>\n  </figure></p>\n<p>Essa semana tem revisão para as provas da semana que vem, então vai ficar difícil testar melhor a camera. É duro ver ela paradinha sem ter tempo pra brincar. Assista o vídeo de teste que eu fiz abaixo:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/c_m6bWGSZgE?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2009/2009-06-23-samsung-scmx20b-em-maos.pt-br/","path":"/blog/gadgets/samsung-scmx20b-em-maos/","locale":"pt-br"},"readingTime":{"minutes":0.77},"frontmatter":{"date":"2009-06-23T00:00:00.000Z","title":"Samsung SC-MX20B em mãos!","categories":["gadgets"]}}},{"node":{"excerpt":"Desde que o seriado My Name is Earl foi cancelado nos EUA…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 371px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUCBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAaU2xJLTYjzg6QH/xAAbEAADAAMBAQAAAAAAAAAAAAABAgMAERIEIf/aAAgBAQABBQK6Esihwg5WvzJ73nsbmpOhNu5//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHhAAAgMAAgMBAAAAAAAAAAAAAREAAhIhQRAxUmL/2gAIAQEABj8CrcWSmd8JQCCya6EwK6YQ/I8VI95MfzxK2PYn/8QAHBABAAMBAAMBAAAAAAAAAAAAAQARITFRYXHB/9oACAEBAAE/IbwG4ZarFoVKFPeP5OL4Vkyul705GNAtT08w5E8eHqM4bpX5sakWC1P/2gAMAwEAAgADAAAAEBPAPP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB4QAQEAAgICAwAAAAAAAAAAAAERACExQVFhkaHw/9oACAEBAAE/EAciEMhAC/vOER8Qg0NviWinG8RRSWjWJqMJKhQody/Fwihn1q1XqF+rcEAtneS5g09vJ7xNCW70ss71MO4GXAU6z//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"save earl\"\n        title=\"save earl\"\n        src=\"/static/d6c5c6396566cce661f0d4ffcb29cf4a/bfbf0/saveearl.jpg\"\n        srcset=\"/static/d6c5c6396566cce661f0d4ffcb29cf4a/db830/saveearl.jpg 256w,\n/static/d6c5c6396566cce661f0d4ffcb29cf4a/bfbf0/saveearl.jpg 371w\"\n        sizes=\"(max-width: 371px) 100vw, 371px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">save earl</figcaption>\n  </figure></p>\n<p>Desde que o seriado <a href=\"http://www.newstin.com.br/tag/br/122465041\" title=\"MNIE cancelada\" target=\"_blank\" rel=\"noreferrer\">My Name is Earl foi cancelado nos EUA</a>, muitos dos seus fans têm criado petições para continuar a série, que na minha opinião é uma das mais engraçadas. Se você apóia <a href=\"http://pt.wikipedia.org/wiki/My_Name_is_Earl\" title=\"MNIE no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">My Name is Earl</a> e acha que deve continuar, faça sua pequena parte e comece a seguir o perfil <a href=\"http://twitter.com/EarlTwitition\" title=\"EarlTwitition\" target=\"_blank\" rel=\"noreferrer\">EarlTwitition</a> do <a href=\"http://twitter.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Twitter</a> . É um fato que as grandes empresas estão sempre de olho nos blogs e <a href=\"http://twitter.com/invitations/find_on_twitter\" title=\"Usuários do Twitter\" target=\"_blank\" rel=\"noreferrer\">Twitters</a> da vida, quem sabe pode dar certo?</p>\n<p><strong>Fonte:</strong> <a href=\"http://popwatch.ew.com/popwatch/2009/05/earl-fans-start.html\" title=\"My Name is Earl Twitition\" target=\"_blank\" rel=\"noreferrer\">popwatch.ew.com/</a></p>","fields":{"slug":"/2009/2009-06-21-salve-earl-saveearl.pt-br/","path":"/blog/general/salve-earl-saveearl/","locale":"pt-br"},"readingTime":{"minutes":0.51},"frontmatter":{"date":"2009-06-21T00:00:00.000Z","title":"Salve Earl - #SaveEarl","categories":["general"]}}},{"node":{"excerpt":"Quando recebi o Zeemote já fiquei surpreso logo de cara: A…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 436px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.734375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFAf/EABQBAQAAAAAAAAAAAAAAAAAAAAP/2gAMAwEAAhADEAAAAaqlYa0QEL//xAAaEAADAQADAAAAAAAAAAAAAAABAgMSACQy/9oACAEBAAEFArNlJXDpyh7LgZTx/8QAFhEAAwAAAAAAAAAAAAAAAAAAEBIx/9oACAEDAQE/AUg//8QAFxEAAwEAAAAAAAAAAAAAAAAAAQIQMf/aAAgBAgEBPwEts//EABwQAAIABwAAAAAAAAAAAAAAAAABAhARITJxgf/aAAgBAQAGPwK2Qm5cKkOj/8QAGBABAQEBAQAAAAAAAAAAAAAAAREAIYH/2gAIAQEAAT8htWcUNwhbHeZq7pGAFS5Pk3//2gAMAwEAAgADAAAAEKsf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAwEBPxAOheyZf//EABcRAQEBAQAAAAAAAAAAAAAAAAEAIUH/2gAIAQIBAT8QUEcjb//EABoQAQEBAAMBAAAAAAAAAAAAAAERADFBUYH/2gAIAQEAAT8QSHJ9pDnSgeqIX3R60pcABfMqMZBLnKtVl+b/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"zeemote\"\n        title=\"Zeemote\"\n        src=\"/static/53d7c71df09df898f79454d9c7a0eef5/4c32f/zeemote.jpg\"\n        srcset=\"/static/53d7c71df09df898f79454d9c7a0eef5/db830/zeemote.jpg 256w,\n/static/53d7c71df09df898f79454d9c7a0eef5/4c32f/zeemote.jpg 436w\"\n        sizes=\"(max-width: 436px) 100vw, 436px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Zeemote</figcaption>\n  </figure></p>\n<p>Quando recebi o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> já fiquei surpreso logo de cara: A caixa é toda bonitinha e acompanha manual, duas pilhas AAA, o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> (claro) e um mosquetão para usar como chaveiro. Assim que instalei o <a href=\"http://www.zeemote.com/zeekey/\" title=\"Zeekey\" target=\"_blank\" rel=\"noreferrer\">Zeekey</a> e usei o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> pela primeira vez, fiquei muito surpreso, admito que não esperava que ele funcionasse tão bem, a resposta foi muito boa e o <a href=\"http://www.zeemote.com/zeekey/\" title=\"Zeekey\" target=\"_blank\" rel=\"noreferrer\">Zeekey</a> é um aplicativo simples de mexer. Mas pra obter detalhamento do seu desempenho, só com o tempo mesmo!</p>\n<p>Passei quase um mês jogando direto com o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> os inúmeros jogos que eu possuo no meu <a href=\"http://www.nokia.com.br/A4799272\" title=\"Nokia E51\" target=\"_blank\" rel=\"noreferrer\">Nokia E51</a> e farei aqui um review falando os prós e contras do <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a>. Assim que eu coloquei as mãos no Zeemote, tive um problema: Pilhas. Realmente, duas pilhas AAA é um problema, elas são caras e acabam muito rápido, mas com tempo de uso vi que elas duram bastante com o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a>, mas é sempre recomendável adquirir pilhas recarregáveis.</p>\n<p>Sincronizar o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> com o celular é um processo muito simples, eu instalei o software do <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> (o <a href=\"http://www.zeemote.com/zeekey/\" title=\"Zeekey\" target=\"_blank\" rel=\"noreferrer\">Zeekey</a> ), no qual possui o idioma em português, e nele possui um passo-a-passo simples mas explicando como conectar o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> ao seu aparelho. Depois de conectado, vamos as configurações: Você pode criar inúmeros perfis de mapeamento, cada um com as teclas personalizadas para o jogo que você for jogar. Após terminar o mapeamento, basta selecionar o perfil desejado e deixar o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> rodando em segundo plano: Você já está livre para jogar o jogo que desejar. Ao iniciar o jogo, já me surpreendi: A resposta do <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> é inacreditávelmente rapida, sem nenhum delay, é realmente ótima.</p>\n<p>Passei uns 20 minutos jogando e admito que de inicio foi difícil me acostumar com o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a>, mas aos poucos fui pegando o jeito e mudando o mapeamento das teclas, até chegar as configurações perfeitas. Apesar da resposta rápida, o bluetooth não é uma rede de transmissão de dados veloz, então o que já me aconteceu foi que a resposta do <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> travava e por um segundo não respondia os meus comandos, como eu já estava com o celular na mão, automaticamente continuava jogando com as teclas do próprio celular e logo em seguida a resposta do <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> já estava boa novamente.</p>\n<p>Infelizmente isso aconteceu algumas vezes e realmente atrapalha a jogabilidade, principalmente em uma parte crucial onde muitos comandos são enviados ao mesmo tempo, mas eu acredito que esse problema pode ser resolvido nas próximas versões <a href=\"http://www.zeemote.com/zeekey/\" title=\"Zeekey\" target=\"_blank\" rel=\"noreferrer\">Zeekey</a>. Outro problema que eu encontrei foi por causa dos próprios jogos: As empresas não criam jogos pensando no <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> (obviamente), então alguns comandos, como movimentar o personagem na diagonal, não são reconhecidos perfeitamente pelo jogo, o que deixa a movimentação meio confusa. Não sei se poderá ser implementada uma melhora no <a href=\"http://www.zeemote.com/zeekey/\" title=\"Zeekey\" target=\"_blank\" rel=\"noreferrer\">Zeekey</a> sobre esse problema, infelizmente.</p>\n<p>As duas pilhas AAA duram bastante no <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a>, nesse um mês de uso eu não tive que trocar nenhuma vez, e eu joguei viciadamente, carregava o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> para todos os lugares. Alias, isso foi também um ponto que eu pensava que poderia ser negativo: Carregar o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> pra lá e pra cá. Quem quer andar com um joystick no bolso? Você logo pensa que isso é um problema ou que será incomodo carrega-lo para todos os lugares.</p>\n<p>Eu passei os primeiros dias carregando ele no bolso, e acabei me acostumando e posso dizer que não me incomodou em nada, na verdade o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> agora faz parte do meu chaveiro. Ele é leve e bem pequeno, praticamente do tamanho daqueles primeiros MP3 players da Sony. A minha experiência com o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a> no último mês foi muito boa e acredito que só tende a melhorar. Resumindo: Se você se considera viciado em videogames, compre um Zeemote. Tem coisa melhor que jogar <a href=\"http://pt.wikipedia.org/wiki/Super_mario_world\" title=\"SMW no Wikipédia\" target=\"_blank\" rel=\"noreferrer\">Super Mario World</a> na aula de Ética e Cidadania? 😅</p>\n<p>Como todo review que se preze, tenho que dar uma nota, então ai vai: 8.0</p>\n<h2 id=\"nota-final-80\" style=\"position:relative;\"><a href=\"#nota-final-80\" aria-label=\"nota final 80 permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nota final: 8.0</h2>\n<p>Os vídeos abaixo mostram eu jogando alguns jogos com o <a href=\"http://zeemote.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Zeemote</a>, dá pra ver que a resposta dele é excelente mesmo.</p>\n<p><strong>Resident Evil: Degeneration</strong>:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/DJpPclrP6jc?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p><strong>Crash Bandicoot Nitro Kart 3D</strong>:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/M5Gog73K-SI?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2009/2009-06-10-review-zeemote-o-joystick-para-celular.pt-br/","path":"/blog/gadgets/review-zeemote-o-joystick-para-celular/","locale":"pt-br"},"readingTime":{"minutes":3.71},"frontmatter":{"date":"2009-06-10T00:00:00.000Z","title":"Review: Zeemote, o joystick para celular","categories":["gadgets"]}}},{"node":{"excerpt":"Esses dias eu estava no mercado, escolhendo o que comer com…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAIA/9oADAMBAAIQAxAAAAHE1pjMNC//xAAZEAACAwEAAAAAAAAAAAAAAAABAgADBBL/2gAIAQEAAQUC6rWW2hp2kGZWufOAzZ3E/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQIBAT8Bh//EABsQAAICAwEAAAAAAAAAAAAAAAABESECEjEy/9oACAEBAAY/ArSZyIPWQ9uHaKxUH//EABsQAQADAQADAAAAAAAAAAAAAAEAESExUYGR/9oACAEBAAE/IT6QHI1ZsNItwPUuh5UHYjLriIZnR7P/2gAMAwEAAgADAAAAEC/P/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPxBXYB7t/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQARIUH/2gAIAQIBAT8QCmyw5P/EABwQAQEAAgIDAAAAAAAAAAAAAAERACExYYGRwf/aAAgBAQABPxDkZEJIewwHQQvLvf3JyfOAuIsIRBCXfvDtrAIWd+cbgQQYdovOf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hot_pocket1\"\n        title=\"wuaw\"\n        src=\"/static/30d7505e197ae2cfec169b31a8b1cc92/63217/hot_pocket1.jpg\"\n        srcset=\"/static/30d7505e197ae2cfec169b31a8b1cc92/db830/hot_pocket1.jpg 256w,\n/static/30d7505e197ae2cfec169b31a8b1cc92/8102f/hot_pocket1.jpg 512w,\n/static/30d7505e197ae2cfec169b31a8b1cc92/63217/hot_pocket1.jpg 1024w,\n/static/30d7505e197ae2cfec169b31a8b1cc92/d58d1/hot_pocket1.jpg 1536w,\n/static/30d7505e197ae2cfec169b31a8b1cc92/04bec/hot_pocket1.jpg 1600w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">wuaw</figcaption>\n  </figure></p>\n<p>Esses dias eu estava no mercado, escolhendo o que comer com pouco dinheiro, e encontrei um <a href=\"http://www.hotpocket.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Hot Pocket</a> da <a href=\"http://www.sadia.com.br/br/novahome/index.asp\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Sadia</a> por R$3,00, não achei caro então resolvi comprar para ver se é realmente bom, cheguei em casa e coloquei no microondas por 1:30 minutos e quando dei a primeira mordida e 🤩 nossa, muito bom! Para quem gosta de hamburguer do <a href=\"http://www.mcdonalds.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Mc Donalds</a>, <a href=\"http://www.bobs.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Bobs</a> entre outros, vai gostar dele porque é o mesmo estilo de hamburguer, tudo bem que não é tão gostoso mas é bem bom =D. O pão é macio e a carne do hamburguer também, só não pode deixar muito tempo no microondas senão pode passar do ponto e deixar o pão meio duro, mas na caixa vem as instruções certinhas para você não deixar o seu <a href=\"http://www.hotpocket.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Hot Pocket</a> passar do ponto.</p>\n<p>O único problema é o preço, não é R$3,00 reais como a primeira vez que eu comprei, o valor normal que eu encontro por ai é R$4,70 e com sorte R$3,50.</p>\n<p>Hoje eu fui no mercado e fui checar o preço: R$2,60!!! Estava muito barato, comprei dez logo! Estou com um estoque de <a href=\"http://www.hotpocket.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Hot Pockets</a> aqui em casa, até pelo menos a metade desse mês.</p>\n<p>Se você gosta de hamburguer, eu aconselho ficar de olho nas ofertas e aproveitar quando o <a href=\"http://www.hotpocket.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Hot Pocket</a> estiver em uma faixa de preço boa.</p>\n<p>O <a href=\"http://www.hotpocket.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Hot Pocket</a> da <a href=\"http://www.sadia.com.br/br/novahome/index.asp\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Sadia</a> realmente me impressionou e agora está na lista das minhas refeições rápidas em casa, se fosse pra dar uma nota geral, daria 7.0. Um comparativo de nota: Pro hamburguer do <a href=\"http://www.mcdonalds.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Mc Donalds</a> eu dou 8.0.</p>\n<h2 id=\"nota-final-70\" style=\"position:relative;\"><a href=\"#nota-final-70\" aria-label=\"nota final 70 permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nota final: 7.0</h2>\n<p>Fotos dos meus dez <a href=\"http://www.hotpocket.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Hot Pocket</a>:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAbKdmEwkOf/EABkQAQADAQEAAAAAAAAAAAAAAAIAAREhA//aAAgBAQABBQLeeb4nl0dCOSyXP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAIDAQAAAAAAAAAAAAAAAAARARAhkf/aAAgBAQAGPwJm0umDmD//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhMUGB/9oACAEBAAE/IeXHDJJaq9nmCSzBKpH9a89w30hN/9oADAMBAAIAAwAAABCX3//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCNf//EABcRAAMBAAAAAAAAAAAAAAAAAAABEVH/2gAIAQIBAT8QUhFp/8QAGxABAQEBAQADAAAAAAAAAAAAAREAITFBYfD/2gAIAQEAAT8QX1SFbAyvUoAi8sykyPhxAKkPchl0ip7+mQDshX63/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hot_pocket2\"\n        title=\"hot_pocket2\"\n        src=\"/static/a7cb7996b3eed455b4d64a527aceb70e/63217/hot_pocket2.jpg\"\n        srcset=\"/static/a7cb7996b3eed455b4d64a527aceb70e/db830/hot_pocket2.jpg 256w,\n/static/a7cb7996b3eed455b4d64a527aceb70e/8102f/hot_pocket2.jpg 512w,\n/static/a7cb7996b3eed455b4d64a527aceb70e/63217/hot_pocket2.jpg 1024w,\n/static/a7cb7996b3eed455b4d64a527aceb70e/d58d1/hot_pocket2.jpg 1536w,\n/static/a7cb7996b3eed455b4d64a527aceb70e/04bec/hot_pocket2.jpg 1600w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">hot_pocket2</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABku3MKgwc/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACESEDEzH/2gAIAQEAAQUCzgSO2VpEES5tL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AUf/xAAZEAADAQEBAAAAAAAAAAAAAAAAARECIVH/2gAIAQEABj8CnplV8KkOuiSO4p//xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhMUH/2gAIAQEAAT8hAg8d9IkrKMJVeJnSbbLSaC3LFE10Z//aAAwDAQACAAMAAAAQE+//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EE8Kf//EABYRAQEBAAAAAAAAAAAAAAAAAAARIf/aAAgBAgEBPxCYl//EABsQAQEAAwEBAQAAAAAAAAAAAAERACFRMXGh/9oACAEBAAE/EAaQFLsE0cuWDDDdkt7kySFRZHmfa4gPtyuxZu688yypWjv9z//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hot_pocket3\"\n        title=\"hot_pocket3\"\n        src=\"/static/e9eb7648d9a35fe1df0430108dc284fd/63217/hot_pocket3.jpg\"\n        srcset=\"/static/e9eb7648d9a35fe1df0430108dc284fd/db830/hot_pocket3.jpg 256w,\n/static/e9eb7648d9a35fe1df0430108dc284fd/8102f/hot_pocket3.jpg 512w,\n/static/e9eb7648d9a35fe1df0430108dc284fd/63217/hot_pocket3.jpg 1024w,\n/static/e9eb7648d9a35fe1df0430108dc284fd/d58d1/hot_pocket3.jpg 1536w,\n/static/e9eb7648d9a35fe1df0430108dc284fd/04bec/hot_pocket3.jpg 1600w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">hot_pocket3</figcaption>\n  </figure>\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABQP0E5YZv/8QAGRABAAMBAQAAAAAAAAAAAAAAAgABEQQS/9oACAEBAAEFArWIJZquPn9I8uSxRn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAADAQEBAAAAAAAAAAAAAAAAASERAjH/2gAIAQEABj8Ca0us9G5RVF6P/8QAGhABAQEBAQEBAAAAAAAAAAAAAREAITFBof/aAAgBAQABPyE7wj8ZriivG8xQ1LzCUj1uB5Nody0/Hf/aAAwDAQACAAMAAAAQZD//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAZ/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAhMf/aAAgBAgEBPxAJN7f/xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMUFRkf/aAAgBAQABPxBQPUeU3OyyhaXGC2mz1le4aRouQIEqFT24rJedvXzP/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hot_pocket4\"\n        title=\"hot_pocket4\"\n        src=\"/static/0e401d0a85ef711fb628eae54453b0e6/63217/hot_pocket4.jpg\"\n        srcset=\"/static/0e401d0a85ef711fb628eae54453b0e6/db830/hot_pocket4.jpg 256w,\n/static/0e401d0a85ef711fb628eae54453b0e6/8102f/hot_pocket4.jpg 512w,\n/static/0e401d0a85ef711fb628eae54453b0e6/63217/hot_pocket4.jpg 1024w,\n/static/0e401d0a85ef711fb628eae54453b0e6/d58d1/hot_pocket4.jpg 1536w,\n/static/0e401d0a85ef711fb628eae54453b0e6/04bec/hot_pocket4.jpg 1600w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">hot_pocket4</figcaption>\n  </figure></p>\n<p>Comercial do <a href=\"http://www.hotpocket.com.br/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\"> Hot Pocket </a>:</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/szSeNZsNHkY?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2009/2009-06-01-review-hot-pocket-xfrango.pt-br/","path":"/blog/tips/review-hot-pocket-xfrango/","locale":"pt-br"},"readingTime":{"minutes":1.56},"frontmatter":{"date":"2009-06-01T00:00:00.000Z","title":"Review: Hot Pocket XFrango","categories":["tips"]}}},{"node":{"excerpt":"Depois de muito tempo procurando, finalmente encontrei uma…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 233px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.06008583690987%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVQY03WNzUoCYRSGj0RKVDO1mSSLGsYIHBEiqEXUolxEUtPoIAmtDCK6g2kr7eoC2lWrrqBF5AVEVET/EZqKOfp93/x8w2SBUYy0KKKHl7M4h+c9wPO88A9BQRgSBD4YnO7vi4X754f7xni+JxDY3tpKJBKiKILf72cYhv0Dw7I+lvUxjJfpmuhoHV0dnFrgRtrawevdzGQURQmFQsBxHAB4PB74TQsA10w3gACwPhlbFsd7m6cNVU0mk64sSVL8N4l4fFGWl9LpC1F8Bbjv7FSnZ3ZTKztyai02Nzu/sL+3J0lSOBwGSm3axHKH7UKp7Tj1g4PGwMAnwEcgYCNUq1ZItUItq16va5oWjUYjkQg41HSoaVuGQ01TJxhjjBCm9F2WPwEcVX1TFJzPI0qxriOETMMol8vfcvb87vDk+uj09vjs9u65XEWYIIQsixSLRjZbazRIqYQrFUxIsxYZP+XLx+fzh9xNrnD1VHjRagjj7+e6jhwHa5qrEeJu/shfcWvreD9czwQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"idiomas\"\n        title=\"idiomas\"\n        src=\"/static/29d1cea29acbafbf0023a824822dea5e/ff7a3/idiomas.png\"\n        srcset=\"/static/29d1cea29acbafbf0023a824822dea5e/ff7a3/idiomas.png 233w\"\n        sizes=\"(max-width: 233px) 100vw, 233px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">idiomas</figcaption>\n  </figure></p>\n<p>Depois de muito tempo procurando, finalmente encontrei uma maneira prática de colocar duas linguagens no blog.</p>\n<p>A partir de agora, todo conteúdo do blog se encontrará em inglês e em português.</p>","fields":{"slug":"/2009/2009-05-13-blog-em-ingles.pt-br/","path":"/blog/general/blog-em-ingles/","locale":"pt-br"},"readingTime":{"minutes":0.165},"frontmatter":{"date":"2009-05-13T00:00:00.000Z","title":"Blog em inglês","categories":["general"]}}},{"node":{"excerpt":"Hoje eu achei um vídeo muito antigo de umas manobras de…","html":"<p>Hoje eu achei um vídeo muito antigo de umas manobras de <a href=\"http://fingerboard.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">fingerboard</a> que eu gravei, na época que eu era mais víciado.</p>\n<p>Até hoje eu carrego o meu skatinho no bolso, na época desse vídeo eu cheguei até a ter apoio de marca gringa de skatinho. Eu acho um “esporte” muito irado, pra quando eu não posso andar de skate, tenho sempre o meu vício versão “portatil” ;D</p>\n<p>Segue o vídeo</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/QtruOZhVxVQ?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>","fields":{"slug":"/2009/2009-05-12-skate-de-dedo-velhos-tempos.pt-br/","path":"/blog/general/skate-de-dedo-velhos-tempos/","locale":"pt-br"},"readingTime":{"minutes":0.375},"frontmatter":{"date":"2009-05-12T00:00:00.000Z","title":"Skate de dedo - velhos tempos","categories":["general"]}}},{"node":{"excerpt":"Sabia que todo produto que você compra, você está pagando…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 353px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVQoz23TW0iTYRgA4HeHrDDJE4R0U0JdSN0UBUFRNyFFByKyA+RVeYgckpva5ub+bWiuJaFpQ3GVsYu0zGglWNk0D4Sm1tz/u+ZObWIeSN3v3Nx/+GJbydS9Nx98vA9833sANioQohGi0IZg6CAdICnfXNA7yVB+lkWRfIgcTOiC6VhALb/InpHu4c/1vfqiLm22Q3+WaDjhajxgf7THqkm1qpMC02MIIZahozBDI4R0o4O3dWV5taX55ZfOnEzPPZ7w8RZos8COgVnKwcvgpzo1SE6FMROF6SBCyPet3lUMTjl/XgPa6/ynN7e15PHEpzkeNRdX8AgZ2Gp2MTQVfvYG/OeHfkwKJkWcW83FzkHyJuAAFGXy3PcAV3BxKTibDrPon1yPvXgrLgVCyXOooDI77Y7wcpfhbk+74IsIbBV8swQ8L86vfjgah4pMWt4SMrCouCYZdMjT/b7n0y6dxVz3SbzDrgSzBKYMuaHiM1QMvGTrJORgVcKQPP5JTuKwUTZgrHSbNf3t+X3iLeNimDVikc6txUwI+1w9BAZWFadbCH2vco2GktoHoqZ6TF9z5X31MaIY5ocaYuJQq5YnBwkF16GCTlHCa+3FOsH+CefU47JrVRfidIXpE3JYHH8TxmufzYax/7fJVsH/ULq9V5qovZHSXHLIG0DeGXtrVVbx1X3fpeD39Mf4cwQH5izj2GaTDL5K+OXZGYLM+PYOo2eGfHY/T5eTOCiLp+dt7MZqhyYGIYqcdjYetFZuHS2FdwV8wVHYvTOt8FSyoSDOoQCrJoX2L7L/xysKRwYcIYYKrCy4g+5u+0DzWJtwoPpIJ5YxokoiJDDxcC9Dr4SXIAZe3a01EfAvL83aSaJtEX+5LvMvjaemsJsGYY4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"taxas\"\n        title=\"taxas\"\n        src=\"/static/a6155dbc085784d5ae8b4487a2175b89/8e4bf/taxas.png\"\n        srcset=\"/static/a6155dbc085784d5ae8b4487a2175b89/e3135/taxas.png 256w,\n/static/a6155dbc085784d5ae8b4487a2175b89/8e4bf/taxas.png 353w\"\n        sizes=\"(max-width: 353px) 100vw, 353px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">taxas</figcaption>\n  </figure></p>\n<p>Sabia que todo produto que você compra, você está pagando mais por impostos/serviços do que o próprio produto em si? Todo mês é descontado um valor do seu salário, para pagar taxas, todo mês você paga impostos de carro, casa. Hoje em dia você paga impostos ao ir na casa do seu amigo, e nem está sabendo disso, e mesmo assim, o Brasil ainda consegue criar novos meios para roubar nosso dinheiro. Com a popularização de compras pela internet, muitas pessoas resolveram começar a ser arriscar a comprar produtos do exterior, com um risco de serem cobrados impostos em cima deles. O funcionamento é o seguinte: Se você comprar um produto, independente do valor, de uma empresa, você deverá ser taxado, essa é a lei do nosso pais. Ou seja, as poucas pessoas que acharam que iam conseguir comprar produtos por preços razoáveis, já foram abordadas pela lei.</p>\n<p>Muitos produtos passam sem serem taxados, pois é uma quantia enorme de encomendas que chegam de fora todos os dias no Brasil.</p>\n<p>Porem, existe uma pequena trégua para quem tem conhecidos fora do Brasil, se uma encomenda for enviada com o valor menor que 50,00 dólares, de pessoa física para pessoa física, essa encomenda não poderá ser taxada. Que bom então, né? Ainda podemos ser felizes se tivermos amigos lá fora.</p>\n<p>Recentemente foi o lançamento de <a href=\"http://pokemonplatinum.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Pokémon Platinum</a>, para <a href=\"http://nintendods.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">DS</a> . Eu sou viciado em Pokémon, sempre fui, e corri atrás da compra no pré-release da fitinha, e ganhar a minha <a href=\"http://kidconfidence.com/blogs/2009/02/11/pokemon-platinum-giratina-figure/\" title=\"Giratina Action Figure\" target=\"_blank\" rel=\"noreferrer\">Action Figure do Giratina</a> :D! A pré-encomenda foi feita no <a href=\"http://amazon.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Amazon.com</a>, só que infelizmente eles não enviam produtos da <a href=\"http://nintendo.com/\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">Nintendo</a> pro Brasil, não sei porque, então eu enviei para um amigo meu que reside nos Los Angeles e pedi para ele me enviar, ele me enviou por <a href=\"http://www.usps.com/international/prioritymailinternational.htm\" title=\"USPS.com\" target=\"_blank\" rel=\"noreferrer\">Priority Mail International</a> e o valor declarado foi o valor do produto (35,00 dolares). Eu já estava feliz, prestes a receber a fitinha junto com todo mundo que estava esperando o lançamento no Brasil, e então eu percebi que o produto tinha ido para verificação para ver se ia ser taxado ou não!</p>\n<p>Foi aí que eu fiquei revoltado, e com todo o motivo, já vai fazer um mês que o meu amigo me enviou, sendo que foi por <a href=\"http://www.usps.com/international/prioritymailinternational.htm\" title=\"USPS.com\" target=\"_blank\" rel=\"noreferrer\">Priority Mail International</a>, entrega em 7 dias, eu paguei caro para ele me enviar por esse método, para ficar preso na <a href=\"http://www.abe.mre.gov.br/mundo/america-do-norte/estados-unidos-da-america/washington/servicos/tratamento-alfandegario\" title=\"Site oficial\" target=\"_blank\" rel=\"noreferrer\">alfandega</a>! O produto acompanha nota fiscal com declaração do valor, o valor declarado no envelope e o nome do meu amigo como remetente e o meu como destinatário. Tudo bem, eu não vou ser taxado (caso seja, vou recorrer), mas mesmo assim, o meu produto demorou quatro vezes mais para chegar, mesmo eu indo no caminho da sociedade, dentro da lei.</p>\n<p>Moral da história: Além da gente pagar impostos até para respirar, quando temos um alivio de receber um presente de um amigo, eles fazem questão de nos sacanear, só por diversão!</p>\n<p>Brasil \\o/</p>","fields":{"slug":"/2009/2009-04-18-taxas-alfandegarias.pt-br/","path":"/blog/general/taxas-alfandegarias/","locale":"pt-br"},"readingTime":{"minutes":2.535},"frontmatter":{"date":"2009-04-18T00:00:00.000Z","title":"Taxas alfandegárias","categories":["general"]}}},{"node":{"excerpt":"Depois de praticamente 4 anos querendo assistir esse clipe…","html":"<p>Depois de praticamente 4 anos querendo assistir esse clipe denovo, e incessantes buscas na internet pela música, finalmente eu encontrei esse clipe, o clipe da música mais foda, com mais conteúdo que eu conheço! Eu passei anos procurando por “Los Pirata<strong>S</strong> ”. Erro gravíssimo (que burro).\r\nBom, só isso, assistam que esse clipe é foda demais.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/UepYlDJXxo8?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p><strong><a href=\"http://lospirata.com/\" target=\"_blank\" rel=\"noreferrer\">Clique aqui</a></strong> para ver o <a href=\"http://lospirata.com/\" target=\"_blank\" rel=\"noreferrer\">site da banda</a>.</p>","fields":{"slug":"/2008/2008-11-11-los-pirata-nada.pt-br/","path":"/blog/funny/los-pirata-nada/","locale":"pt-br"},"readingTime":{"minutes":0.33},"frontmatter":{"date":"2008-11-11T00:00:00.000Z","title":"Los Pirata - Nada","categories":["funny"]}}},{"node":{"excerpt":"O cara da foto acima chama-se Steve Oedekerk, o diretor…","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 147.05882352941174%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFBAL/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgD/2gAMAwEAAhADEAAAAY9SfSo1DDTmEc6nkoH/xAAdEAEBAAIBBQAAAAAAAAAAAAACAQADIhITISMx/9oACAEBAAEFAtShRcRPzTORnkXiOg1XsGXN69it3G7Gc//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEBH/2gAIAQMBAT8BxAuX/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQESH/2gAIAQIBAT8BhaWf/8QAIBAAAgEDBAMAAAAAAAAAAAAAAAERAhBBEhMhIlGR4f/aAAgBAQAGPwKX4Opyl6JHba0/Rt05i05gmvCIVTP/xAAbEAEAAwEBAQEAAAAAAAAAAAABABEhMUFRcf/aAAgBAQABPyHwTiXADvyATr9m7Aa+k4J8aJ4ufsaniim/UBUL6NxDg7vIpgUGy1xogFRgGKn/2gAMAwEAAgADAAAAEEcVsP/EABcRAQEBAQAAAAAAAAAAAAAAAAEQESH/2gAIAQMBAT8QTkYyf//EABYRAQEBAAAAAAAAAAAAAAAAABARAf/aAAgBAgEBPxArFH//xAAcEAEAAwADAQEAAAAAAAAAAAABABEhMUFRYZH/2gAIAQEAAT8QXgqWC9nF9rHZzLiZz6fkuEIhyAsuSm8TPIFKOmoCq2zBl2e2TEA6tJ8TqDuNIq0V7nAV1C7hzXK5XuHE4ouf/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"thane furrows\"\n        title=\"thane furrows\"\n        src=\"/static/a1534e5fcfff7e324f53a977c945760e/c8387/thane-204x300.jpg\"\n        srcset=\"/static/a1534e5fcfff7e324f53a977c945760e/c8387/thane-204x300.jpg 204w\"\n        sizes=\"(max-width: 204px) 100vw, 204px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">thane furrows</figcaption>\n  </figure></p>\n<p>O cara da foto acima chama-se <a href=\"http://www.imdb.com/name/nm0644203/\" target=\"_blank\" rel=\"noreferrer\">Steve Oedekerk</a>, o diretor/escritor dos filmes <a href=\"http://www.imdb.com/title/tt0315327/\" target=\"_blank\" rel=\"noreferrer\">Todo Poderoso</a>, <a href=\"http://www.imdb.com/title/tt0109040/\" target=\"_blank\" rel=\"noreferrer\">Ace Ventura</a>, <a href=\"http://www.imdb.com/title/tt0129290/\" target=\"_blank\" rel=\"noreferrer\">Patch Adams</a>, <a href=\"http://www.imdb.com/title/tt0240468/\" target=\"_blank\" rel=\"noreferrer\">Kung Pow</a> (onde também atuou), <a href=\"http://www.imdb.com/title/tt0119807/\" target=\"_blank\" rel=\"noreferrer\">Nada a Perder</a>, entre outros. Bom, o cara é simplesmente um gênio, e sua primeira atuação no filme independente de 1991, <a href=\"http://www.imdb.com/title/tt0102032/\" target=\"_blank\" rel=\"noreferrer\">High Strung</a>, é excelente. O filme retrata um dia normal do escritor de livros infantis Thane Furrows, que se irrita e reclama de tudo o tempo todo. O filme é praticamente um <a href=\"http://pt.wikipedia.org/wiki/Stand-up_comedy\" target=\"_blank\" rel=\"noreferrer\">Stand-up Comedy</a>. Esse vídeo é de uma parte em que Thane reclama de sua ex, é hilário. Dica para quem gosta de rir: <strong>ASSISTAM ESSE FILME</strong>.</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/B9wFZyUSEBs?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" loading=\"eager\" allowfullscreen=\"\" sandbox=\"allow-same-origin allow-scripts allow-popups\"></iframe> </div> </div></p>\n<p>Esse filme infelizmente não existe em DVD, e também acho raro encontrar em alguma locadora em VHS. Eu tenho uma cópia digitalizada que eu fiz da minha <a href=\"http://shop.ebay.com/?_from=R40&#x26;_trksid=m38&#x26;_nkw=highstrungvhs\" target=\"_blank\" rel=\"noreferrer\">fita que comprei no Ebay</a>.</p>","fields":{"slug":"/2008/2008-10-02-steve-oedekerk.pt-br/","path":"/blog/funny/steve-oedekerk/","locale":"pt-br"},"readingTime":{"minutes":0.69},"frontmatter":{"date":"2008-10-02T00:00:00.000Z","title":"Steve Oedekerk","categories":["funny"]}}},{"node":{"excerpt":"Bom, eu não sei direito ter esse negócio de blog, parece que…","html":"<p>Bom, eu não sei direito ter esse negócio de blog, parece que foi uma das coisas que era moda a 5 anos atrás e de repente virou moda de novo e sei lá!</p>\n<p>Agora que tenho meu próprio e lindo domínio, resolvi criar esse blog, não decidi sobre o que vai tratar ainda, mas com certeza será bem mesclado 😃</p>\n<p>Legal!</p>\n<p><img src=\"/a148c25ce3ce372a77fb7f25593e1eeb/saci.gif\" alt=\"Saci\"></p>","fields":{"slug":"/2008/2008-09-28-primeiro-post.pt-br/","path":"/blog/general/primeiro-post/","locale":"pt-br"},"readingTime":{"minutes":0.31},"frontmatter":{"date":"2008-09-28T00:00:00.000Z","title":"Primeiro Post","categories":["general"]}}}]}},"pageContext":{"language":"pt-br","intl":{"language":"pt-br","languages":["en","pt-br"],"messages":{"site_title":"pablo.gg","title":"Título","author":"@thepiratepablo","search_placeholder":"Buscar...","about":"Sobre","photos":"Fotos","archive":"Arquivo","contact":"Contato","close":"Fechar","contact_page":"Página de contato","see_more":"Veja mais posts","built_with":"Feito com ","buy_me_a_soda":"Me pague uma bebida","blog":"Blog","blog_posts":"Posts do blog","go_to_post":"Ir para o post","search":"Busca","loading":"Carregando...","search_results":"Resultados de busca","search_results_for":"{quantity} resultados de busca para: \"{query}\"","search_for_query":"Buscar por \"{query}\"","no_results":"Sem resultados","home":"Home","description":"Apenas mais um blog pessoal","go_back":"Voltar para home","thats_me":"Esse sou eu!","got_it":"Entendi!","check_it_out":"Confira!","we_are":"Faltam","e3":"E3","away_from_next_sgf":"para a Summer Game Fest 2025","away_from_next_gamescom":"para a Gamescom 2024","sgf_countdown":"Contador para Summer Game Fest","gamescom_countdown":"Contador para Gamescom","e3_paragraph_1":"Esta página já contou com uma contagem regressiva para o próximo evento E3, um momento que inúmeros jogadores e profissionais da indústria aguardavam ansiosamente a cada ano. E3 não era apenas um evento; era uma celebração da nossa paixão compartilhada por videogames, um lugar onde sonhos se realizavam e memórias eram feitas.","e3_paragraph_2":"Desde os anúncios eletrizantes até as demos práticas, a E3 era o coração do mundo dos jogos. Ela reunia pessoas de todos os cantos do globo, unidas pelo amor aos jogos. Para muitos, era uma chance de conhecer seus heróis, descobrir novos títulos e experimentar a emoção das últimas inovações em tecnologia de jogos.","e3_paragraph_3":"No entanto, à medida que o cenário dos jogos evoluiu, também evoluiu a maneira como nos conectamos e celebramos nossa paixão. Embora a E3 tenha chegado ao fim, o espírito de excitação e comunidade que ela promoveu continua vivo. Agora esperamos por novas maneiras de nos reunir, compartilhar nosso amor pelos jogos e criar novas memórias.","e3_paragraph_4":"Embora a contagem regressiva tenha acabado, o legado da E3 permanecerá para sempre em nossos corações, nos lembrando das jornadas incríveis que fizemos e dos laços que formamos ao longo do caminho.","sec":"Seg","secs":"Segs","min":"Min","mins":"Mins","hour":"Hora","hours":"Horas","day":"Dia","days":"Dias","month":"Mês","months":"Meses","year":"Ano","years":"Anos","recent_posts":"Posts recentes","email":"E-mail","twitter":"Twitter","name":"Nome","page":"Página","fill_this_want_reply":"Preencha isso se quiser que eu entre em contato com você","sorry_this_post_unavailable_language":"Desculpe, este post não está disponível no idioma que você escolheu","language":"Idioma","comment":"Comentário","comments":"Comentários","no_comments":"Nenhum comentário.","post_comment":"Publicar comentário","send_message":"Enviar mensagem","message":"Mensagem","post_a_comment":"Publicar um comentário","your_comment_submitted":"Seu comentário foi enviado com sucesso.","your_message_submitted":"Sua mensagem foi enviada com sucesso.","on":"em","ok":"Ok","copy":"Copiar","copied":"Copiado","photo_num":"Foto {num}","the_matrix_has_you":"The Matrix has you...","about_paragraph_1":"Entusiasta de tecnologia desde pequeno, sempre me interessei por computadores e videogames.","about_paragraph_2":"Me formei em Tecnologia da Informação na Faculdade Estácio de Sá e sempre procuro me informar sobre novas tecnologias e me envolver em novos projetos de desenvolvimento, alguns deles o código fonte pode ser encontrado no GitHub.","cookie_banner_consent":"Ao usar este site, você concorda com o uso de cookies para oferecer uma melhor experiência.","written_in":"Escrito em ","no_post_this_tag":"Nenhum post em Português contém essa tag.","tags":"Tags","tag_colon":"Tag: ","tags_colon":"Tags: ","posts_tagged":"Posts com a tag ","categories":"Categorias","category":"Categoria","category_colon":"Categoria: ","posts_on_category":"Posts na categoria ","related_posts":"Posts relacionados","read_time":"🕒 {time} min. de leitura","create_post":"Criar Post","show":"Mostrar","date":"Data","download":"Download","add_tag":"Adicionar Tag","hide_excerpt":"Esconder Excerpt","publish_on_medium":"Publicar no Medium","allow_comments":"Permitir Comentários","subtitle":"Subtítulo","you_must_be_truly_desperate":"Você deve estar muito desesperado para me pedir ajuda","game.game_title":"pablo.gg - O Jogo","game.next":"Próxima","game.ok":"Ok","game.loading_asset_colon":"Carregando asset:","game.loading":"Carregando...","game.characters.npc_01":"Frost","game.characters.npc_02":"Gavin","game.characters.npc_03":"Giles","game.characters.npc_04":"Godfrey","game.characters.npc_05":"Hugh","game.characters.npc_06":"Ivar","game.characters.npc_07":"Leopold","game.characters.npc_08":"Lucian","game.characters.npc_09":"Gumercindo","game.characters.npc_10":"Mr. Flower","game.characters.npc_11":"Maxim","game.characters.npc_12":"Milo","game.characters.npc_13":"Otto","game.characters.npc_14":"Palmer","game.characters.npc_15":"Quentin","game.characters.npc_16":"Sebastian","game.characters.npc_17":"Neville","game.characters.npc_18":"Cassian","game.characters.npc_19":"Balthasar","game.characters.sign_01":"Placa","game.characters.book_01":"Livro","game.characters.home_page_city_sign":"Placa","game.characters.coding_category_city_sign_01":"Placa","game.characters.coding_category_city_sign_02":"Placa","game.characters.events_category_city_sign":"Placa","game.characters.funny_category_city_sign":"Placa","game.characters.gadgets_category_city_sign_01":"Placa","game.characters.gadgets_category_city_sign_02":"Placa","game.characters.games_category_city_sign":"Placa","game.characters.general_category_city_sign":"Placa","game.characters.tips_category_city_sign":"Placa","game.characters.toys_category_city_sign":"Placa","game.characters.sword":"Info","game.characters.push":"Info","game.gamepad.a_button":"Botão A","game.gamepad.b_button":"Botão B","game.gamepad.d_pad_left":"D-Pad Esquerda","game.gamepad.d_pad_up":"D-Pad Cima","game.gamepad.d_pad_right":"D-Pad Direita","game.gamepad.d_pad_down":"D-Pad Baixo","game.gamepad.start_button":"Botão Start","game.menu.start":"Começar","game.menu.exit":"Sair","game.menu.settings":"Configurações","game.start_menu.save_game":"Salvar Jogo","game.start_menu.exit":"Sair","game.game_over.game_over":"Game Over","game.game_over.retry":"Tentar Novamente","game.game_over.exit":"Sair","game.browse_posts.choose_a_post":"Escolha um post para ler","game.dialogs.npc_01.01":"Ei, você finalmente acordou!","game.dialogs.npc_01.02":"O quê, você não sabe onde está?","game.dialogs.npc_01.03":"Não seja bobo, você está na Cidade Página Inicial, lembra?","game.dialogs.npc_01.04":"Esta cidade foi fundada por Pablo Montenegro para ser o início de sua jornada","game.dialogs.npc_01.05":"Explore o mundo e encontre outras cidades onde você possa ler o conhecimento acumulado de nossa civilização...","game.dialogs.npc_01.06":"... algumas pessoas chamam de \"Posts do Blog\", não sei por quê...","game.dialogs.npc_02.01":"Tenha cuidado com os Slimes que vivem no mundo aberto.","game.dialogs.npc_02.02":"Pressione ESPAÇO para usar sua espada","game.dialogs.npc_02.03":"O que é ESPAÇO? Eu não faço ideia.","game.dialogs.npc_03.01":"Olá, bem vindo a nossa biblioteca","game.dialogs.npc_03.02":"Temos apenas um livro, que contém todas as publicações da categoria dessa cidade.","game.dialogs.npc_03.03":"Vá dar uma olhada!","game.dialogs.npc_04.01":"Eu gosto de caracóis","game.dialogs.npc_05.01":"Frases incompletas podem causar","game.dialogs.npc_06.01":"O vermelho é mais verde do que o roxo, com certeza.","game.dialogs.npc_07.01":"Ter barba é o novo não ter barba","game.dialogs.npc_08.01":"E aí","game.dialogs.npc_09.01":"\" - Cooper, o que está fazendo?\"\n\" - Atracando.\"","game.dialogs.npc_10.01":"Eu deveria comprar um barco","game.dialogs.npc_11.01":"Conhece a piada do não nem eu? Não? Nem eu!","game.dialogs.npc_12.01":"Eu limpo o banheiro e resgato a princesas, vida boa, certo?","game.dialogs.npc_13.01":"Queremos as ondas de rádio de volta","game.dialogs.npc_14.01":"Salve a líder de torcida, salve o mundo","game.dialogs.npc_15.01":"Olá, como vai?","game.dialogs.npc_15.02":"OK, tchau!","game.dialogs.npc_16.01":"Um canguru é realmente apenas um coelho com esteróides","game.dialogs.npc_17.01":"Pela 216ª vez, ele disse que pararia de beber refrigerante após esta última Coca","game.dialogs.npc_18.01":"Nada e tudo é possímpossivel","game.dialogs.npc_19.01":"Para uma cidade chamada \"Eventos\", não há muito acontecendo...","game.dialogs.sign_01.01":"Parabéns, você pode ler isso!","game.dialogs.book_01.01":"Hey, obrigado por testar esse novo jeito bem esquisito de acessar o meu site","game.dialogs.book_01.02":"Este projeto não seria possível sem o incrível trabalho de muitas pessoas, como:","game.dialogs.book_01.03":"ArMM1998 - Pelos sprites dos personagens e os tilesets","game.dialogs.book_01.04":"PixElthen - Pelos sprites do slime","game.dialogs.book_01.05":"pixelartm - Pelos sprites do chapéu de pirata","game.dialogs.book_01.06":"jkjkke - Pela imagem da tela de Game Over","game.dialogs.book_01.07":"KnoblePersona - Pela imagem da tela do menu inicial","game.dialogs.book_01.08":"Min - Pelo sprite do livro aberto","game.dialogs.book_01.09":"E claro, ao Richard Davey por ter criado o Phaser.io!","game.dialogs.home_page_city_sign":"Cidade Página Inicial","game.dialogs.coding_category_city_sign.01":"Cidade da Categoria Programação","game.dialogs.coding_category_city_sign.02":"Cidade da Categoria Programação","game.dialogs.events_category_city_sign":"Cidade da Categoria Eventos","game.dialogs.funny_category_city_sign":"Cidade da Categoria Engraçado","game.dialogs.gadgets_category_city_sign.01":"Cidade da Categoria Eletrónicos","game.dialogs.gadgets_category_city_sign.02":"Cidade da Categoria Eletrónicos","game.dialogs.games_category_city_sign":"Cidade da Categoria Jogos","game.dialogs.general_category_city_sign":"Cidade da Categoria Geral","game.dialogs.tips_category_city_sign":"Cidade da Categoria Dicas","game.dialogs.toys_category_city_sign":"Cidade da Categoria Brinquedos","game.dialogs.sword_item_description":"Agora você pode atacar, pressione ESPAÇO para usar sua espada.","game.dialogs.push_item_description":"Agora você pode empurrar alguns objetos, pressione ESPAÇO na frente de um objeto para empurrá-lo.","zelda_timeline.title":"Timeline de Zelda","zelda_timeline.timeline_split":"Divisão da Timeline","zelda_timeline.timeline_unification":"Timeline Unificada","zelda_timeline.icons_from":"Os ícones usados nesta página são do zeldauniverse.net e game-icons.net","zelda_timeline.creation":"Criação","zelda_timeline.creation_of_land_sky":"A Criação da Terra e do Céu","zelda_timeline.goddess_hylia_and_sky_era":"Deusa Hylia e a Era do Céu","zelda_timeline.skyward_sword":"Skyward Sword","zelda_timeline.the_ancient_battle":"A Antiga Batalha e a reencarnação da Deusa Hylia","zelda_timeline.return_to_surface":"O retorno à superfície","zelda_timeline.era_of_chaos":"Era do caos","zelda_timeline.sacred_realm_sealed":"O Sacred Realm é selado","zelda_timeline.era_of_prosperity":"Era da Prosperidade","zelda_timeline.establishment_of_hyrule":"O Reino de Hyrule é estabelecido","zelda_timeline.force_era":"Era da Força","zelda_timeline.the_minish_cap":"The Minish Cap","zelda_timeline.rise_of_evil_vaati":"A Ascensão do Maligno Vaati","zelda_timeline.four_swords":"Four Swords","zelda_timeline.resurrection_of_vaati":"A Ressurreição de Vaati","zelda_timeline.era_of_the_hero_of_time":"Era do Herói do Tempo","zelda_timeline.hyrulean_civil_war":"Guerra Civil Hyruleana","zelda_timeline.ocarina_of_time":"Ocarina of Time","zelda_timeline.sacred_realm_becomes_dark_world":"O Sacred Realm se torna o Dark World","zelda_timeline.ganondorf_becomes_ganon":"Ganondorf se torna Ganon","zelda_timeline.hero_is_defeated":"O herói é derrotado","zelda_timeline.decline_of_last_hero":"O declínio de Hyrule e o último herói","zelda_timeline.the_imprisoning_war":"A Guerra do Aprisionamento","zelda_timeline.era_of_dark_and_light":"Era de Luz e Escuridão","zelda_timeline.a_link_to_the_past":"A Link to the Past","zelda_timeline.resurrection_of_ganon":"A Ressurreição de Ganon","zelda_timeline.resurrection_of_ganon_is_prevented":"A ressurreição de Ganon é evitada","zelda_timeline.links_awakening":"Link's Awakening","zelda_timeline.oracle_of_ages_and_seasons":"Oracle of Ages e Oracle of Seasons","zelda_timeline.a_link_between_worlds":"A Link Between Worlds","zelda_timeline.tri_force_heroes":"Tri Force Heroes","zelda_timeline.the_gold_era":"The Gold Era","zelda_timeline.monarchs_of_hyrule_use_triforce":"Os Monarcas de Hyrule usam a Triforce","zelda_timeline.era_of_decline":"A Era do Declínio","zelda_timeline.tragedy_of_princess_zelda_1":"A Tragédia da Princesa Zelda I","zelda_timeline.the_legend_of_zelda":"The Legend of Zelda","zelda_timeline.adventure_of_link":"Adventure of Link","zelda_timeline.hero_defeated":"Hero Derrotado","zelda_timeline.child_era":"Era Infantil","zelda_timeline.adult_era":"Era Adulta","zelda_timeline.sacred_realm_protected":"Sacred Realm está protegido","zelda_timeline.twilight_realm_and_legacy_of_hero":"O Twilight Realm e o legado do Herói","zelda_timeline.majoras_mask":"Majora's Mask","zelda_timeline.prince_of_thieves_is_executed":"O Príncipe dos Ladrões Ganondorf é executado","zelda_timeline.twilight_era":"A Era do Twilight","zelda_timeline.twilight_princess":"Twilight Princess","zelda_timeline.shadow_invasion":"A invasão das sombras","zelda_timeline.shadow_era":"A Era das Sombras","zelda_timeline.four_swords_adventures":"Four Swords Adventures","zelda_timeline.reincarnation_of_ganondorf":"A Reencarnação de Ganondorf","zelda_timeline.ganondorf_is_sealed":"Ganondorf é selado","zelda_timeline.hero_of_wind_and_new_world":"O Herói do Vento e um Novo Mundo","zelda_timeline.era_without_a_hero":"A era sem um herói","zelda_timeline.ganondorf_is_resurrected":"Ganondorf é ressuscitado","zelda_timeline.hyrule_is_sealed_and_flooded":"Hyrule é selado e então inundado","zelda_timeline.era_of_the_great_sea":"A Era do Great Sea","zelda_timeline.the_wind_waker":"The Wind Waker","zelda_timeline.era_of_the_great_voyage":"A Era da Grande Viagem","zelda_timeline.phantom_hourglass":"Phantom Hourglass","zelda_timeline.era_of_hyrule_rebirth":"A Era do Renascimento de Hyrule","zelda_timeline.new_continent_discovered":"Novo continente descoberto","zelda_timeline.new_hyrule_is_founded":"Um novo reino de Hyrule é fundado","zelda_timeline.spirit_tracks":"Spirit Tracks","zelda_timeline.evil_king_malladus_is_resurrected":"O Rei Maligno Malladus é ressuscitado","zelda_timeline.age_of_calamity":"Age of Calamity","zelda_timeline.breath_of_the_wild":"Breath of the Wild","zelda_timeline.era_of_the_wilds":"A Era dos Selvagens","zelda_timeline.calamity_ganon_is_sealed":"Calamity Ganon é Selado. A tecnologia é proibida, levando alguns Sheikah a formar o Yiga Clan","zelda_timeline.divine_beasts_are_cleansed":"As Bestas Divinas são purificadas e Calamity Ganon é Selado","zelda_timeline.tears_of_the_kingdom":"Tears of the Kingdom","zelda_timeline.hyrule_kingdom_is_teared_apart":"Ganondorf é ressuscitado (Será?)","blog_categories.games":"Jogos","blog_categories.general":"Geral","blog_categories.tips":"Dicas","blog_categories.events":"Eventos","blog_categories.coding":"Programação","blog_categories.funny":"Engraçado","blog_categories.toys":"Brinquedos","blog_categories.gadgets":"Eletrónicos","e3_2012_photos.title":"E3 2012","e3_2012_photos.description":"Em junho de 2012 participei da E3 como imprensa para uma cobertura completa para o Nintendo Blast.","e3_2013_photos.title":"E3 2013","e3_2013_photos.description":"Em junho de 2013 participei da E3 como imprensa para uma cobertura completa para o Game Blast.","e3_2014_photos.title":"E3 2014","e3_2014_photos.description":"Em junho de 2014 participei da E3 como imprensa para uma cobertura completa para o Game Blast.","e3_2015_photos.title":"E3 2015","e3_2015_photos.description":"Em junho de 2015 participei da E3 como imprensa para uma cobertura completa para o Game Blast e Game Over TV.","e3_2017_photos.title":"E3 2017","e3_2017_photos.description":"Em junho de 2017 participei da E3 como imprensa para uma cobertura completa para o PlayReplay e Game Over TV.","e3_2019_photos.title":"E3 2019","e3_2019_photos.description":"Em junho de 2019 participei da E3 como imprensa para uma cobertura completa para o PlayReplay.","gamescom_2019_photos.title":"Gamescom 2019","gamescom_2019_photos.description":"Em agosto de 2019 participei da Gamescom como imprensa para uma cobertura completa para o PlayReplay.","san_francisco_2019_photos.title":"San Francisco 2019","san_francisco_2019_photos.description":"Em setembro de 2019, viajei para San Francisco para o show do Metallica S&M2.","forty_two_page.title":"Quarenta e Dois","forty_two_page.description":"Até mais, e obrigado pelos peixes!","projects_page.title":"Projetos","projects_page.description":"Aqui está uma lista de alguns dos meus projetos pessoais favoritos.","projects_page.gatsbyMaterialUiBlogDescription":"Um simples Gatsby Blog Starter com Material UI.","projects_page.contractBuilderDescription":"O Contract Builder é um projeto de código aberto gratuito que permite a qualquer pessoa manter e construir facilmente qualquer tipo de contrato (documentos legais, processos judiciais, aluguel, acordos, construção e assim por diante) usando o Google Spreadsheets. Este foi desenvolvido como um projeto pessoal para ajudar uma amiga que estava com dificuldades de gastar até uma hora para fazer um contrato personalizado, agora ela consegue fazer em menos de 5 minutos. Hooray!","projects_page.resumeBuilderDescription":"Resume Builder é um projeto de código aberto gratuito que permite a qualquer pessoa manter e construir facilmente qualquer tipo de currículo usando o Google Spreadsheets. Este foi desenvolvido como um projeto pessoal para ajudar um amigo que estava com dificuldades de gastar até uma hora para fazer um currículo personalizado.","projects_page.magentoChatbotDescription":"Com este módulo, você pode integrar totalmente a sua loja Magento com os aplicativos de chat mais populares do mercado. Isso significa que simplesmente instalando este módulo e alguns cliques você pode ter uma nova forma de mostrar e vender seus produtos aos seus clientes. Muito fácil de usar! Experimente agora, é GRÁTIS.","projects_page.jamStackSortenerDescription":"Este é um POC de um encurtador de URL básico desenvolvido com Gatsby.","projects_page.gotinhaDescription":"Sempre foi meu sonho fazer meu próprio jogo, e depois de experimentar o Unity alguns anos atrás, decidi tentar novamente com algo com o qual estou mais familiarizado: Javascript. Como desenvolvedor front-end, Javascript já é a linguagem com a qual escrevo a maior parte do meu código no trabalho e também em meus projetos pessoais, e após uma rápida pesquisa consegui encontrar o incrível PhaserJS Framework para construção de jogos web 2D.","notfound.title":"404: Não encontrado","notfound.header":"404 NÃO ENCONTRADO","notfound.description":"Desculpe, esta página parece não existir. Talvez os arquivos estejam incompletos?","seo_keywords.developer":"desenvolvedor","seo_keywords.development":"desenvolvimento","seo_keywords.javascript":"javascript","seo_keywords.es6":"es6","seo_keywords.e3":"e3","seo_keywords.sgf":"sgf","seo_keywords.gamescom":"gamescom","seo_keywords.countdown":"contador","seo_keywords.archive":"arquivo","seo_keywords.about_me":"sobre mim","seo_keywords.personal_blog":"blog pessoal","seo_keywords.personal_projects":"projetos pessoais","seo_keywords.travels":"viagens","seo_keywords.tips":"dicas","seo_keywords.lifehacks":"truques de produtividade","seo_keywords.reviews":"analises","seo_keywords.games":"games","seo_keywords.timeline":"linha do tempo","seo_keywords.photos":"fotos","cookie_law.we_use_cookies":"Usamos cookies para garantir que você obtenha a melhor experiência em nosso site. Ao usar nosso site, você concorda com nossa ","cookie_law.title":"Política de cookies","cookie_law.what_are_cookies":"O que são cookies?","cookie_law.what_are_cookies_text":"Como é prática comum em quase todos os sites profissionais, este site usa cookies, que são pequenos arquivos baixados para o seu computador, para melhorar a sua experiência. Esta página descreve quais informações eles coletam, como as usamos e por que às vezes precisamos armazenar esses cookies. Também compartilharemos como você pode evitar que esses cookies sejam armazenados, no entanto, isso pode diminuir ou 'quebrar' certos elementos da funcionalidade do site. Para obter mais informações gerais sobre cookies, leia ","cookie_law.what_are_cookies_more_info_url":"https://pt.wikipedia.org/wiki/Cookie_(informática)","cookie_law.how_we_use_cookies":"Como usamos cookies","cookie_law.how_we_use_cookies_text":"Usamos cookies por vários motivos detalhados abaixo. Infelizmente, na maioria dos casos, não há opções padrão da indústria para desabilitar cookies sem desabilitar completamente a funcionalidade e os recursos que eles adicionam a este site. Recomenda-se que você deixe todos os cookies se não tiver certeza se precisa deles ou não, caso sejam usados para fornecer um serviço que você usa.","cookie_law.disabling_cookies":"Desativando cookies","cookie_law.disabling_cookies_text":"Você pode impedir a configuração de cookies ajustando as configurações do seu navegador (consulte a Ajuda do navegador para saber como fazer isso). Esteja ciente de que a desativação de cookies afetará a funcionalidade deste e de muitos outros sites que você visita. A desativação dos cookies normalmente resultará na desativação de certas funcionalidades e recursos deste site. Portanto, é recomendável que você não desative os cookies.","cookie_law.the_cookies_we_set":"Os cookies que definimos","cookie_law.site_preferences_cookie":"Cookies de preferências do site","cookie_law.site_preferences_cookie_text":"Para lhe proporcionar uma excelente experiência neste site, fornecemos a funcionalidade para definir as suas preferências de funcionamento deste site quando o utiliza. Para lembrar suas preferências, precisamos definir cookies para que essas informações possam ser chamadas sempre que você interagir com uma página afetada por suas preferências.","cookie_law.third_party_cookies":"Cookies de terceiros","cookie_law.third_party_cookies_text":"Em alguns casos especiais, também usamos cookies fornecidos por terceiros confiáveis. A seção a seguir detalha quais cookies de terceiros você pode encontrar neste site.","cookie_law.third_party_cookies_item_1":"Este site usa o Google Analytics, que é uma das soluções de análise mais difundidas e confiáveis na web para nos ajudar a entender como você usa o site e como podemos melhorar sua experiência. Esses cookies podem rastrear coisas como quanto tempo você passa no site e as páginas que você visita para que possamos continuar a produzir conteúdo envolvente. Para obter mais informações sobre os cookies do Google Analytics, consulte a página oficial do Google Analytics.","cookie_law.third_party_cookies_item_2":"De vez em quando, testamos novos recursos e fazemos mudanças sutis na maneira como o site é fornecido. Quando ainda estamos testando novos recursos, esses cookies podem ser usados para garantir que você receba uma experiência consistente enquanto estiver no site, garantindo que entendemos quais otimizações nossos usuários mais apreciam.","cookie_law.more_information":"Mais informações","cookie_law.more_information_text":"Esperamos que isso tenha esclarecido as coisas para você e, conforme mencionado anteriormente, se há algo que você não tem certeza se precisa ou não, geralmente é mais seguro deixar os cookies ativados, caso eles interajam com um dos recursos que você usa em nosso site. No entanto, se você ainda estiver procurando por mais informações, entre em contato conosco através de nossa "},"routed":true,"originalPath":"/game/","redirect":true,"redirectDefaultLanguageToRoot":false,"defaultLanguage":"en","fallbackLanguage":"","ignoredPaths":[]},"pageType":"default","locale":"pt-br"}},
    "staticQueryHashes": ["1156153307","1355482417","1591365477","1628619374","2127381735","2288279559","26159077","3566410298","3649515864","3847325417","3982724423","928834867"]}