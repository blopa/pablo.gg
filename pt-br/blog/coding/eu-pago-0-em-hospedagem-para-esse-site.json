{"html":"<p>Quando eu estava na faculdade, web development n√£o era uma parte importante da programa√ß√£o como √© hoje, eu n√£o tive uma √∫nica aula sobre web e agora trabalho com isso todos os dias. Quem diria.</p>\n<p>Eu lembro que aprendi um pouco de HTML na escola, por volta de 1999, e ficava fazendo sites incr√≠veis tipo o gif abaixo:</p>\n<p><img src=\"/e896371a7e308e9c9abee35bb587b61d/my-website.gif\" alt=\"My website\"></p>\n<h2 id=\"the-old-ways\" style=\"position:relative;\"><a href=\"#the-old-ways\" aria-label=\"the old ways permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The old ways</h2>\n<p>Antigamente (na √©poca do Dreamweaver), se eu quisesse fazer um site, eu teria algo assim:</p>\n<div class=\"copy-code-block\"><button tabindex=\"0\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- website\n  - index.html\n  - about.html\n  - contact.html</code></pre></div></div>\n<p>E a√≠ para cada um desses arquivos, eu teria que escrever o HTML completo para aquela p√°gina, mesmo se todas elas tivessem o mesmo header ou logo etc. Neste exemplo n√£o h√° banco de dados, dados din√¢micos e nem compila√ß√£o, o site √© 100% est√°tico, eu posso simplesmente abrir esses arquivos no meu browser localmente e tudo funcionar√° sem a necessidade de servidores, porque HTML √© praticamente um texto com ester√≥ides.</p>\n<p>Claro que isso est√° longe de ser o ideal, ent√£o outras solu√ß√µes como o PHP surgiram com a possibilidade de deixar as coisas mais din√¢micas.</p>\n<h2 id=\"not-that-old-ways\" style=\"position:relative;\"><a href=\"#not-that-old-ways\" aria-label=\"not that old ways permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Not that old ways</h2>\n<p>Com o PHP, eu posso dividir o meu template de HTML em peda√ßos reutiliz√°veis, ent√£o eu poderia facilmente inicializar um framework tipo WordPress e me concentrar apenas na cria√ß√£o do conte√∫do do site.</p>\n<p>O problema √© que o meu browser n√£o entende PHP, ent√£o eu preciso de um servidor para converter toda a l√≥gica do PHP em HTML est√°tico, ent√£o toda a vez que algu√©m faz uma solicita√ß√£o para ver uma p√°gina no meu site, a solicita√ß√£o vai para o meu servidor, que vai processar o c√≥digo PHP e servir uma p√°gina HTML e, claro, isso custa muito mais do que simplesmente servir arquivos HTML est√°ticos.</p>\n<p>Uma estrutura de arquivos de um site em PHP seria algo assim:</p>\n<div class=\"copy-code-block\"><button tabindex=\"1\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- website\n      - index.php\n      - header.php\n      - footer.php\n  - content\n      - home.php\n      - about.php\n      - contact.php</code></pre></div></div>\n<p>√â aqui que se encontra a maior parte dos sites agora, e por um bom motivo, a Web 2.0 √© complexa e toda esse dinamismo √© necess√°rio‚Ä¶ pelo menos na maioria dos casos, mas e os sites que quase n√£o mudam, como blogs ou portf√≥lios?</p>\n<h2 id=\"the-new-way---jamstack\" style=\"position:relative;\"><a href=\"#the-new-way---jamstack\" aria-label=\"the new way   jamstack permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The new way - JAMStack</h2>\n<p>JAMStack significa <code class=\"language-text\">JavaScript, API &amp; Markup - Stack</code> e est√° aqui para trazer o melhor dos velhos tempos para nossas vidas. Com JAMStack eu posso criar meu site da mesma forma que faria usando PHP, mas em vez de ter os dados processados em cada solicita√ß√£o, eu posso programar o meu site inteiro em m√≥dulos, pr√©-compil√°-lo apenas uma vez e depois servi-lo como HTML est√°tico + JavaScript. Isso √© muito √∫til para sites como este, e essa t√©cnica n√£o √© nova, todos os nossos aplicativos de desktop s√£o pr√©-compilados e servidos ‚Äúestaticamente‚Äù - vamos esquecer o SaaS por um segundo, ok?</p>\n<p>Por exemplo, neste site eu tenho um template para uma p√°gina de posts do blog e eu preencho esse template com dados vindo de um arquivo Markdown, a estrutura do projeto √© algo tipo:</p>\n<div class=\"copy-code-block\"><button tabindex=\"2\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">- website\n      - index.html\n  - pages\n      - home.html\n      - contact.html\n  - templates\n      - blog-posts.html\n  - content\n      - my-first-post.md\n      - my-second-post.md</code></pre></div></div>\n<p>Eu estou usando o Gatsby para fazer <a href=\"https://pablo.gg/\" target=\"_blank\" rel=\"noreferrer\">esse</a> site, ent√£o posso escrever tudo usando componentes React, e o Gatsby compila tudo em um monte de arquivos HTML que s√£o servidos ao navegador.</p>\n<h2 id=\"por-onde-comecar\" style=\"position:relative;\"><a href=\"#por-onde-comecar\" aria-label=\"por onde comecar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Por onde come√ßar?</h2>\n<p>Antes de testar o Gatsby, eu comecei com o <a href=\"https://jekyllrb.com/\" target=\"_blank\" rel=\"noreferrer\">Jekyll</a>, que √© uma forma de <a href=\"https://jekyllrb.com/docs/github-pages/\" target=\"_blank\" rel=\"noreferrer\">criar um blog JAMStack e hospeda-lo gratuitamente no GitHub Pages</a>, era tudo que eu precisava, mas primeiro tive que converter todos os meus 12 anos de posts no WordPress em arquivos Markdown com <a href=\"https://hexo.io/pt-br/docs/front-matter.html\" target=\"_blank\" rel=\"noreferrer\">frontmatter</a>.</p>\n<p>Os posts do WordPress s√£o (geralmente) armazenados em um banco de dados, ent√£o preciso extrair esses dados e salv√°-los como um arquivo Markdown, e a maneira mais f√°cil de fazer isso √© simplesmente usar um plugin do WordPress, como o <a href=\"https://github.com/benbalter/wordpress-to-jekyll-exporter\" target=\"_blank\" rel=\"noreferrer\">wordpress-to-jekyll-exporter</a>. Se voc√™ n√£o tem mais acesso ao seu blog, mas ainda tem o arquivo <code class=\"language-text\">database.sql</code> (como eu üòÖ) apenas <a href=\"https://imasters.com.br/back-end/instalando-wordpress-em-ambiente-local\" target=\"_blank\" rel=\"noreferrer\">inicialize uma vers√£o local do WordPress</a> para exportar seus posts.</p>\n<p>Eu tamb√©m criei um <a href=\"https://gist.github.com/blopa/a6e49c798cf0fd5c875025c6ae282064\" target=\"_blank\" rel=\"noreferrer\">script em Python</a> para alterar alguns dados dos arquivos Markdown gerados para atender algumas das minhas necessidades.</p>\n<p>Eu tinha mais de 100 posts no meu blog, ent√£o foi uma surpresa para mim, descobrir que <a href=\"https://pages.github.com/versions/\" target=\"_blank\" rel=\"noreferrer\">n√£o tinha como usar o plugin de pagina√ß√£o v2 do Jekyll</a> e fazer o deploy automaticamente no GitHub Pages, ent√£o decidi procurar outras solu√ß√µes.</p>\n<h2 id=\"o-grande-gatsby\" style=\"position:relative;\"><a href=\"#o-grande-gatsby\" aria-label=\"o grande gatsby permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O Grande Gatsby</h2>\n<p>Como eu j√° conhe√ßo bem React, usar o Gatsby √© praticamente um <em>no-brainer</em>, e eles t√™m uma excelente documenta√ß√£o e muitos plugins e tutoriais e com o lan√ßamento do <a href=\"https://github.com/features/actions\" target=\"_blank\" rel=\"noreferrer\">GitHub Actions</a>, √© poss√≠vel fazer o build e deploy do Gatsby no pr√≥prio GitHub sem precisar de servi√ßos externos como <a href=\"https://travis-ci.org/\" target=\"_blank\" rel=\"noreferrer\">travis-ci.org</a>. N√£o s√≥ isso, mas eu poderia at√© mesmo ter meu c√≥digo em um reposit√≥rio privado e fazer o deploy em outro reposit√≥rio p√∫blico, dessa forma eu posso ter posts que s√£o rascunho e que n√£o quero que fiquem p√∫blicos.</p>\n<p>Primeiro eu fiz <a href=\"https://github.com/blopa/gatsby-material-ui-starter\" target=\"_blank\" rel=\"noreferrer\">este</a> reposit√≥rio com base nas instru√ß√µes <a href=\"https://github.com/mui-org/material-ui/tree/master/examples/gatsby\" target=\"_blank\" rel=\"noreferrer\">deste</a> reposit√≥rio do Material UI. Tudo o que ele faz √© vincular a biblioteca Material UI React ao Gatsby.</p>\n<p>A pr√≥xima etapa foi pegar o <a href=\"https://github.com/blopa/gatsby-material-ui-starter\" target=\"_blank\" rel=\"noreferrer\">gatsby-material-ui-starter</a> como base para adicionar toda a l√≥gica do meu blog, mas primeiro eu precisava de uma lista de todos os recursos que eu queria que o meu blog tivesse, e esses eram:</p>\n<ul>\n<li>P√°gina inicial com lista de posts</li>\n<li>P√°gina de blog com lista de posts</li>\n<li>P√°gina de posts do blog com posts relacionados</li>\n<li>P√°gina de arquivo com pagina√ß√£o</li>\n<li>Coment√°rios</li>\n<li>P√°gina de contato</li>\n<li>P√°gina de √°lbuns com fotos do Google Photos</li>\n<li>Caixa de busca</li>\n<li>SEM SERVIDORES</li>\n</ul>\n<p>Tudo parece bastante razo√°vel at√© que voc√™ lembrar que tudo isso precisa ser feito com JAMStack e sem servidores. Isso √© mesmo poss√≠vel? SIM. Gatsby e React s√£o ferramentas realmente poderosas.</p>\n<h2 id=\"lista-de-posts-e-posts-relacionados\" style=\"position:relative;\"><a href=\"#lista-de-posts-e-posts-relacionados\" aria-label=\"lista de posts e posts relacionados permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lista de posts e posts relacionados</h2>\n<p>O Gatsby fornece uma API de GraphQL bem simples para obter dados dos arquivos Markdown, e isso pode ser feito facilmente usando o plugin <a href=\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-remark\" target=\"_blank\" rel=\"noreferrer\">gatsby-transformer-remark</a> e uma query de GraphQL como a abaixo:</p>\n<div class=\"copy-code-block\"><button tabindex=\"3\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    query Posts($locale: String) {\n        allMarkdownRemark(\n            filter: {\n                fields: { locale: { eq: $locale } }\n                frontmatter: { show: { eq: true } }\n            }\n            sort: { fields: [frontmatter___date], order: DESC }\n        ) {\n            edges {\n                node {\n                    excerpt\n                    fields {\n                        slug\n                        path\n                        locale\n                    }\n                    frontmatter {\n                        date\n                        title\n                    }\n                }\n            }\n        }\n    }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div></div>\n<p>Se voc√™ quiser saber mais sobre como criar seu pr√≥prio blog com o Gatsby do zero, siga <a href=\"https://www.gatsbyjs.com/blog/2017-07-19-creating-a-blog-with-gatsby/\" target=\"_blank\" rel=\"noreferrer\">o tutorial oficial</a>.</p>\n<p>Para os posts relacionados, decidi pegar todos os meus posts e verificar em cada um deles quais outros posts tem as mesmas tags, e ent√£o ordena-los por quantidade de tags iguais. Esta pode n√£o ser a maneira eficiente de fazer isso, mas lembre-se de que s√≥ estou compilando o site uma vez, ent√£o tudo bem üòä</p>\n<h2 id=\"paginacao\" style=\"position:relative;\"><a href=\"#paginacao\" aria-label=\"paginacao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pagina√ß√£o</h2>\n<p>O Material UI j√° tem um <a href=\"https://material-ui.com/components/pagination/\" target=\"_blank\" rel=\"noreferrer\">componente de pagina√ß√£o</a>, ent√£o eu criei um template <code class=\"language-text\">Archive.jsx</code> que recebe uma lista de posts, um n√∫mero total de p√°ginas e o n√∫mero da p√°gina atual e durante o <a href=\"https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/\" target=\"_blank\" rel=\"noreferrer\">processo de compila√ß√£o de Gatsby</a>, eu crio v√°rias p√°ginas de arquivo usando o meu template e √© isso. F√°cil demais.</p>\n<h2 id=\"busca\" style=\"position:relative;\"><a href=\"#busca\" aria-label=\"busca permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Busca</h2>\n<p>J√° que o Gatsby usa tecnologias de JavaScript ultra-modernas, criar uma pesquisa local deve ser muito f√°cil, certo? SIM! Existe at√© <a href=\"https://github.com/angeloashmore/gatsby-plugin-local-search\" target=\"_blank\" rel=\"noreferrer\">um plugin</a> para isso j√°! Show!</p>\n<p>Basta seguir <a href=\"https://labs.walltowall.com/easy-client-side-search-for-gatsby-sites/\" target=\"_blank\" rel=\"noreferrer\">esse tutorial</a> e combinar o c√≥digo com o <a href=\"https://material-ui.com/components/autocomplete/\" target=\"_blank\" rel=\"noreferrer\">componente de autocomplete do Material UI</a> para criar um componente <code class=\"language-text\">SearchBar</code> igual ao desse blog.</p>\n<h2 id=\"integracao-com-google-photos\" style=\"position:relative;\"><a href=\"#integracao-com-google-photos\" aria-label=\"integracao com google photos permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Integra√ß√£o com Google Photos</h2>\n<p>A parte ruim do JAMStack √© que meu reposit√≥rio git conter√° n√£o apenas todo o meu c√≥digo-fonte, mas tamb√©m todos os meus dados de conte√∫do, incluindo fotos, etc, e isso acaba deixando o meu reposit√≥rio muito grande.</p>\n<p>Claro que eu poderia consumir meus dados via uma API externa em vez de arquivos Markdown e isso j√° vai ajudar um pouco, mas poder n√£o armazenar fotos no reposit√≥rio vai economizar muito espa√ßo.</p>\n<p>Gra√ßas a <a href=\"https://medium.com/@ValentinHervieu/how-i-used-google-photos-to-host-my-website-pictures-gallery-d49f037c8e3c\" target=\"_blank\" rel=\"noreferrer\">este belo post</a> feita pelo <a href=\"https://medium.com/@ValentinHervieu\" target=\"_blank\" rel=\"noreferrer\">@ValentinHervieu</a> podemos ter uma ideia de como obter a URL das imagens de um √°lbum do Google Photos, eu posso simplesmente seguir esse post e adicionar o c√≥digo no meu processo de build do Gatsby.</p>\n<h2 id=\"multi-linguas\" style=\"position:relative;\"><a href=\"#multi-linguas\" aria-label=\"multi linguas permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multi-l√≠nguas</h2>\n<p>Bom como portugu√™s √© a minha l√≠ngua nativa, e eu moro fora do Brasil, √© √∫til poder escrever posts em m√∫ltiplos idiomas para poder compartilhar com meus amigos aqui e no Brasil, e para isso eu preciso adicionar uma funcionalidade de poder criar posts em l√≠nguas diferentes, e √≥bviamente <a href=\"https://github.com/wiziple/gatsby-plugin-intl\" target=\"_blank\" rel=\"noreferrer\">existe um plugin do Gatsby para isso</a>.</p>\n<p>Esse plugin √© baseado no famoso <a href=\"https://formatjs.io/docs/react-intl/\" target=\"_blank\" rel=\"noreferrer\">React Intl</a>, e √© bem simples de usar, basta adicionar um novo objeto nas configura√ß√µes de plugin do Gatsby a passar uma array com os c√≥digos das l√≠nguas que voc√™ quer adicionar e um path para onde ficar√£o as tradu√ß√µes para essas l√≠nguas. Veja abaixo como √© esse objeto para esse blog:</p>\n<div class=\"copy-code-block\"><button tabindex=\"4\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>config<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token string\">'gatsby-plugin-intl'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/intl</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">languages</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pt-br'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">defaultLanguage</span><span class=\"token operator\">:</span> <span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">redirect</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">redirectComponent</span><span class=\"token operator\">:</span> require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/utils/redirect.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div></div>\n<p>O que isso far√° √© que sempre que voc√™ criar uma p√°gina tipo <code class=\"language-text\">/contact/</code>, ele criar√° uma p√°gina para cada um dos idiomas para os quais voc√™ configurou, tipo <code class=\"language-text\">/en/contact/</code> e <code class=\"language-text\">/pt-br/contact/</code>. Maneiro! Mas, e os posts do blog? N√£o quero paths tipo <code class=\"language-text\">/en/hello-world/</code> e <code class=\"language-text\">/pt-br/hello-world/</code>, eu quero <code class=\"language-text\">/en/hello-world/</code> e <code class=\"language-text\">/pt-br/ola-mundo/</code>.</p>\n<p>Para ter o mesmo post em diferentes idiomas, eu crio arquivos de markdown tipo <code class=\"language-text\">hello-world.en.md</code> e <code class=\"language-text\">hello-world.pt-br.md</code> e, em seguida, conecto eles pelo t√≠tulo e a data do post, dessa forma √© poss√≠vel mudar o idioma na p√°gina do post e ver o mesmo post em outro idioma.</p>\n<p><img src=\"/2105ea55eebac25b4267be0420fbb6e5/language-switcher.gif\" alt=\"Language switcher\"></p>\n<h2 id=\"pagina-de-contato-e-sistema-de-comentarios\" style=\"position:relative;\"><a href=\"#pagina-de-contato-e-sistema-de-comentarios\" aria-label=\"pagina de contato e sistema de comentarios permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>P√°gina de contato e sistema de coment√°rios</h2>\n<p>Existem alguns servi√ßos que oferecem sistemas de coment√°rios para o seu site, como <a href=\"https://disqus.com/\" target=\"_blank\" rel=\"noreferrer\">disqus.com</a> e o <a href=\"https://developers.facebook.com/docs/plugins/comments/\" target=\"_blank\" rel=\"noreferrer\">Facebook Comments</a>, mas o plano gratuito do Disqus adicionar√° an√∫ncios ao seu site, e o Facebook exigir√° que os usu√°rios tenham uma conta no Facebook para us√°-lo.</p>\n<p>Depois de um tempo pesquisando eu descobri ser poss√≠vel usar o <a href=\"https://blog.webjeda.com/google-form-customize/\" target=\"_blank\" rel=\"noreferrer\">Google Forms como um sistema de coment√°rios</a> para o meu blog em JAMStack.</p>\n<p>Os dados dos coment√°rios s√£o armazenados em uma planilha do Google no seu Google Drive, que pode ent√£o ser acessada no processo de build do Gatsby para passar todos os coment√°rios para os devidos posts do blog.</p>\n<p>Um problema de usar este sistema √© que se eu quiser que os novos coment√°rios apare√ßam no blog, eu preciso buildar o site todo novamente, mas vamos pensar nisso como um processo para aprovar / desaprovar coment√°rios üòÑ e tamb√©m <a href=\"https://www.gatsbyjs.com/docs/reference/release-notes/v3.0/#incremental-builds-in-oss\" target=\"_blank\" rel=\"noreferrer\">se voc√™ configurar o Gatsby direitinho, fazer re-builds n√£o √© um grande problema</a>.</p>\n<h2 id=\"github-actions\" style=\"position:relative;\"><a href=\"#github-actions\" aria-label=\"github actions permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub Actions</h2>\n<p>Ap√≥s programar tudo isso (incluindo algumas gambiarras), tudo o que resta √© usar GitHub Actions para fazer o build e o deploy do meu site, e para isso eu simplesmente crio um arquivo <code class=\"language-text\">.github/workflows/deploy.yml</code> no meu reposit√≥rio do GitHub com as seguintes configura√ß√µes:</p>\n<div class=\"copy-code-block\"><button tabindex=\"5\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy to GitHub Pages\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> main\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2.3.4\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">persist-credentials</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install and Build üöß\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          npm cache clean --force\n          npm install\n          npm run clean\n          npm run build</span>\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy üöÄ\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> JamesIves/github<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>deploy<span class=\"token punctuation\">-</span>action@4.1.1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">repository-name</span><span class=\"token punctuation\">:</span> blopa/pablo.gg\n          <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n          <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> public\n          <span class=\"token key atrule\">clean</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n          <span class=\"token key atrule\">single-commit</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div></div>\n<p>Isso ir√° buildar o site toda vez que eu commitar no branch <code class=\"language-text\">main</code> e depois far√° o deploy no meu reposit√≥rio p√∫blico <a href=\"https://github.com/blopa/pablo.gg\" target=\"_blank\" rel=\"noreferrer\">github.com/blopa/pablo.gg</a> para que possa ser acessado via <a href=\"https://pablo.gg/\" target=\"_blank\" rel=\"noreferrer\">https://pablo.gg/</a>.</p>\n<h2 id=\"por-que\" style=\"position:relative;\"><a href=\"#por-que\" aria-label=\"por que permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Por qu√™?</h2>\n<p>Voc√™ pode estar se perguntando ‚Äúpor que voc√™ simplesmente n√£o pega um servidor de R$5,00 por mes e roda um WordPress nele?‚Äù, e eu digo por que, n√£o √© apenas uma quest√£o de economizar dinheiro, mas tamb√©m √© uma coisa a menos com que se preocupar, e se eu morrer ou entrar em coma sei la, meu site ainda estar√° online - desde que o GitHub Pages ainda exista e seja gratuito. E ao usar o JAMStack voc√™ automaticamente diminuir√° o poder de processamento usado para servir o seu site, o que tamb√©m diminuir√° as emiss√µes de CO2 e salvar√° o planeta (ou pelo menos ajudar√° um pouquinho).</p>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclus√£o</h2>\n<p>Eu n√£o s√≥ aprendi um novo framework em React, mas tamb√©m criei um blog pessoal ultra leve com custo de hospedagem de R$0,00, e mesmo que o GitHub Actions ou o GitHub Pages deixe de existir um dia, eu posso simplesmente buildar o meu blog localmente e depois hospeda-lo em algum servidor de arquivos est√°ticos e isso me custaria muito pouco por ano, ent√£o yay!</p>\n<p>Claro que eu acabo pagando pelo <a href=\"https://pt.godaddy.com/tlds/gg-domain\" target=\"_blank\" rel=\"noreferrer\">dom√≠nio .gg</a>, mas se voc√™ quiser ir <em><a href=\"https://pt.wikipedia.org/wiki/Frugalidade\" target=\"_blank\" rel=\"noreferrer\">full frugal</a></em>, voc√™ pode simplesmente hospedar o seu site usando dom√≠nios gratuitos como o <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noreferrer\">github.io</a> ou o <a href=\"https://freenom.com\" target=\"_blank\" rel=\"noreferrer\">freenom.com</a>.</p>","path":"/pt-br/blog/coding/eu-pago-0-em-hospedagem-para-esse-site/","title":"Eu pago R$0,00 em hospedagem para esse site","language":"pt-br","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTA0LTE3VDAwOjAwOjAwLjAwMFo=","comments":[],"relatedPosts":[{"path":"/pt-br/blog/coding/criando-uma-startup-com-github-actions-e-google-forms/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIyLTA5LTEzVDAwOjAwOjAwLjAwMFo=","title":"Criando uma Startup com GitHub Actions e Google Forms","date":"2022-09-13T00:00:00.000Z"},{"path":"/pt-br/blog/coding/como-criar-uma-pagina-de-busca-offline-com-o-gatsby/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTA1LTI5VDAwOjAwOjAwLjAwMFo=","title":"Como criar uma p√°gina de busca offline com o Gatsby","date":"2021-05-29T00:00:00.000Z"},{"path":"/pt-br/blog/coding/usando-o-github-actions-para-fazer-o-deploy-do-meu-blog-em-dois-dominios-diferentes/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTA1LTE1VDAwOjAwOjAwLjAwMFo=","title":"Usando o GitHub Actions para fazer o deploy do meu blog em dom√≠nios diferentes","date":"2021-05-15T00:00:00.000Z"},{"path":"/pt-br/blog/coding/usando-nodejs-e-github-action-para-encontrar-uma-casa-no-fundanl/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIyLTAzLTEyVDAwOjAwOjAwLjAwMFo=","title":"Usando Node.js e GitHub Action para encontrar uma casa no Funda.nl","date":"2022-03-12T00:00:00.000Z"},{"path":"/pt-br/blog/coding/como-importar-posts-com-sintaxe-de-codigo-colorida-no-medium-usando-o-gatsby/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTEwLTI0VDAwOjAwOjAwLjAwMFo=","title":"Como importar posts com sintaxe de c√≥digo colorida no Medium usando o Gatsby","date":"2021-10-24T00:00:00.000Z"},{"path":"/pt-br/blog/coding/criando-um-formulario-dinamico-a-partir-de-um-json-schema/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTA1LTIxVDAwOjAwOjAwLjAwMFo=","title":"Criando um formul√°rio din√¢mico a partir de um JSON schema","date":"2021-05-21T00:00:00.000Z"},{"path":"/pt-br/blog/coding/meu-blog-tem-stories-agora-mas-nao-me-pergunte-por-que/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIzLTA5LTA0VDAwOjAwOjAwLjAwMFo=","title":"Meu blog tem Stories agora, mas n√£o me pergunte por qu√™","date":"2023-09-04T00:00:00.000Z"},{"path":"/pt-br/blog/coding/adicionando-botao-para-copiar-code-snippets-no-gatsby-gambiarra/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIyLTA1LTA1VDAwOjAwOjAwLjAwMFo=","title":"Adicionando bot√£o para copiar code snippets no Gatsby (gambiarra)","date":"2022-05-05T00:00:00.000Z"},{"path":"/pt-br/blog/coding/compartilhando-cookies-encriptados-do-laravel-com-next-js/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDI0LTEwLTI1VDAwOjAwOjAwLjAwMFo=","title":"Compartilhando cookies encriptados do Laravel com Next.js","date":"2024-10-25T00:00:00.000Z"},{"path":"/pt-br/blog/coding/calculando-minhas-horas-de-trabalho-em-projetos-pessoais-usando-nodejs/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDI0LTA2LTE2VDAwOjAwOjAwLjAwMFo=","title":"Calculando minhas horas de trabalho em projetos pessoais usando Node.js","date":"2024-06-16T00:00:00.000Z"}]}