{"html":"<p></p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQozwGfAmD9AMiUA8uYBMuWAsmYC8+XBG51Z5OSWq6VQY6LV9i1I9ClFrGfW5qeW7aIDs+LAMyYDs+WBtOZAM+ZA9CaAgDNlgHUmQHjnACtsj2qwEpza1Obqbqus7l8j6yPkGaenWq0n1pMbalea2GJuocoqr5hl3TglgDUmwPSmwIAnok+o5JH3agH0blJraxOZWdxi5GbsrG1zb7Al4VdVWRjVVJVJENtFXikG4mqbnJGRI+Lw5EU0JMEzZcEAI59SJ240LS+rMC+ip+QT08zQGZga9fOvurUzLa0kpaPTGIlRFA5WxJYgR5DaaeQPjmmppiOObiLGNCWAgCwiBSlsbHq6s6Xn5pBRVdPUWpncofk5NOdsLRnloqlyG1eS1hhQVUZXYANUn5yY0GrrEKnnjzIoh3goAAA0KEQl6KUy8vBsZSHjoJzMUVoSVBdYVlmkIFrT3ltPHN/cKJ9XYVoE3qXGY2tbXBW9rkvzq03mJpE5akEAOevCKKaYrzByPnctIN6cQgaTqGobNvOUtnIVv/pVFV+bhZbfBlFZBw0WB6sx0uTlNChSO+8MHyPV8ylGQDmqA+xljyuvsX/9tBwdXd0eINYZnCounf/9Vf/9FSOekBGNTG3nES0lTlYY1AhK1WTjlmauW5IeXHjsA0A5MkX2Mcpn56Oi310XWZ12NrJpJ5vZmxX9Ohbzs9mp7VwhXJtnKl4oJ5hootJVGVXFUt5MlZhtZgl/80EAN+0G7GMSlhDSlpeg4GNkXtwcqt8X3VhRJCCT3mHbU95o3V6l3eMmnJ3kntiUEmDhD5fbZ19ZsaeOPC+BQDxvgO/jx+VeTmYe0yvnmuqrHy4mm+lfShnXVW0iDqZg2drgpCLb4Z9XlKomH6ojF/IiyOus6amj1P4xwWkVkqDztXvPgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ilustração de como é trabalhar com foss\" title=\"ilustração de como é trabalhar com foss\" src=\"/static/e33431ea4c32553f41b55b637ea5a114/42a19/foss-git-calculation-illustration.png\" srcset=\"/static/e33431ea4c32553f41b55b637ea5a114/e3135/foss-git-calculation-illustration.png 256w,\n/static/e33431ea4c32553f41b55b637ea5a114/06341/foss-git-calculation-illustration.png 512w,\n/static/e33431ea4c32553f41b55b637ea5a114/42a19/foss-git-calculation-illustration.png 1024w,\n/static/e33431ea4c32553f41b55b637ea5a114/e8464/foss-git-calculation-illustration.png 1536w,\n/static/e33431ea4c32553f41b55b637ea5a114/445c6/foss-git-calculation-illustration.png 1792w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">ilustração de como é trabalhar com foss</figcaption>\n  </figure><p></p>\n<p>Como um desenvolvedor totalmente ”<a href=\"https://git-scm.com/docs/git-commit\" target=\"_blank\" rel=\"noreferrer\">commitado</a>” (trocadilho intencional, e não vai ser o único) em projetos pessoais de FOSS, muitas vezes perco a noção do tempo. Parece que passei muitas e muitas horas programando, mas quantas exatamente? A curiosidade falou mais alto, então decidi escrever um script em Node.js para descobrir. Spoiler: Imediatamente me arrependi dessa decisão ao ver quanto do meu tempo livre foi gasto programando. Brabo.</p>\n<h2 id=\"esbocando-o-plano\" style=\"position:relative;\"><a href=\"#esbocando-o-plano\" aria-label=\"esbocando o plano permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Esboçando o plano</h2>\n<p>Eu queria um script que pudesse calcular minhas horas de trabalho com base nos meus commits do GIT. Como sou um ávido defensor das convenções de commits atômicos, a ideia é simples: quando estou trabalhando em meus projetos pessoais, estou fazendo commits. Se houver um intervalo de mais de 3 horas entre os commits, isso significa que provavelmente estou fazendo alguma outra coisa, como comendo, dormindo ou assistindo vídeos de programação (não, espera).</p>\n<h2 id=\"escolhendo-o-pacote-certo\" style=\"position:relative;\"><a href=\"#escolhendo-o-pacote-certo\" aria-label=\"escolhendo o pacote certo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Escolhendo o pacote certo</h2>\n<p>Existem muitas bibliotecas GIT para Node.js, mas escolhi <code class=\"language-text\">simple-git</code> por sua facilidade de uso. É um wrapper em torno dos comandos GIT, tornando-o perfeito para essa tarefa.</p>\n<p>Então, depois de instalar o <code class=\"language-text\">simple-git</code>, e fazer <code class=\"language-text\">npm init</code> e todas as outras coisas, eu estava pronto para começar a programar.</p>\n<h2 id=\"o-codigo\" style=\"position:relative;\"><a href=\"#o-codigo\" aria-label=\"o codigo permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>O código</h2>\n<p>Ok, vamos primeiro nos familiarizar com <code class=\"language-text\">simple-git</code>, aqui está um código simples para buscar o log de commits:</p>\n<div class=\"copy-code-block\"><button tabindex=\"0\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> simpleGIT <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'simple-git'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> git <span class=\"token operator\">=</span> <span class=\"token function\">simpleGIT</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> log <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> git<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> log<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Erro ao buscar o log de commits:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">commits</span> <span class=\"token operator\">=&gt;</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div></div>\n<p>Com o log de commits em mãos, vamos ”<a href=\"https://git-scm.com/docs/git-apply\" target=\"_blank\" rel=\"noreferrer\">aplicar</a>” nosso plano esboçado no código e calcular as horas de trabalho. A ideia é iterar pelos commits e, sempre que houver um intervalo de mais de 3 horas entre dois commits, considerar o commit anterior como o fim de uma sessão de trabalho.</p>\n<p>Por exemplo, se eu começar a trabalhar às 9h e fizer um commit às 10h, depois fizer outro commit às 15h, o script deve considerar a sessão de trabalho das 9h às 10h, então 1 hora.</p>\n<div class=\"copy-code-block\"><button tabindex=\"1\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> commits <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Nenhum commit encontrado neste repositório.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">let</span> totalWorkTime <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> currentCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> maxInterval <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3 horas em milissegundos</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> commits<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> nextCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> currentCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> nextCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>nextCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>currentCommitTime <span class=\"token operator\">-</span> nextCommitTime<span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;</span> maxInterval<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                totalWorkTime <span class=\"token operator\">+=</span> currentCommitTime <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                currentCommit <span class=\"token operator\">=</span> nextCommit<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        totalWorkTime <span class=\"token operator\">+=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> totalWorkHours <span class=\"token operator\">=</span> totalWorkTime <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Total de horas de trabalho: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>totalWorkHours<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> horas</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Erro ao calcular as horas de trabalho:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div></div>\n<p>Basicamente é isso, mas já que estamos aqui, por que não extrair mais algumas informações? Não que saber o total de horas não seja suficiente, mas agora quero saber quanto tempo, em média, estou, uh, “desperdiçando”, quero dizer, tendo algum tempo de qualidade com meu laptop.</p>\n<p>Vamos adicionar esse cálculo:</p>\n<div class=\"copy-code-block\"><button tabindex=\"2\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> commits <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getCommitLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Nenhum commit encontrado neste repositório.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">let</span> totalWorkTime <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> currentCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> maxInterval <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3 horas em milissegundos</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> commits<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> nextCommit <span class=\"token operator\">=</span> commits<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> currentCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> nextCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>nextCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>currentCommitTime <span class=\"token operator\">-</span> nextCommitTime<span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;</span> maxInterval<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                totalWorkTime <span class=\"token operator\">+=</span> currentCommitTime <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                currentCommit <span class=\"token operator\">=</span> nextCommit<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        totalWorkTime <span class=\"token operator\">+=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>currentCommit<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> totalWorkHours <span class=\"token operator\">=</span> totalWorkTime <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> firstCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span>commits<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> lastCommitTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>commits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> totalDays <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>lastCommitTime <span class=\"token operator\">-</span> firstCommitTime<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> averageHoursPerDay <span class=\"token operator\">=</span> totalWorkHours <span class=\"token operator\">/</span> totalDays<span class=\"token punctuation\">;</span>\n\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Total de horas de trabalho: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>totalWorkHours<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> horas</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Média de horas por dia: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>averageHoursPerDay<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> horas</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Erro ao calcular as horas de trabalho:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">calculateWorkHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div></div>\n<h2 id=\"vamos-colocar-em-pratica\" style=\"position:relative;\"><a href=\"#vamos-colocar-em-pratica\" aria-label=\"vamos colocar em pratica permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vamos colocar em prática</h2>\n<p>Depois de rodar esse script no meu último projeto pessoal, que talvez eu escreva um post sobre em breve, recebi o seguinte resultado:</p>\n<div class=\"copy-code-block\"><button tabindex=\"3\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copiar</span></button><div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">node</span> scripts/calculateWorkHours.js \nTotal de horas de trabalho: <span class=\"token number\">98.77</span> horas\nMédia de horas por dia: <span class=\"token number\">3.74</span> horas</code></pre></div></div>\n<p>PERA AI, WHAT?? 98,77 horas? Isso é quase 100 horas gastas em um projeto pessoal em um mês. E 3,74 horas por dia? Quero dizer, eu sabia que estava gastando muito tempo nos meus projetos pessoais, mas ver esses números foi realmente um choque.</p>\n<p>Se as pessoas me perguntarem, eu digo que sou uma pessoa bastante ativa, afinal faço saltos ornamentais 3 vezes por semana, totalizando 4 horas por semana, além das sessões de academia, que somam cerca de 6 horas por semana. Então, sim, um total de 10 horas por semana, ou 1,42 horas por dia, nem perto das 3,74 horas por dia que estou gastando nos meus projetos pessoais. Punk!</p>\n<p></p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.171875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHUlEQVQozwXB2XKaUAAAUD6hnaTGqAQXDBExUTZFtntBRCKybwJK1ESzzLRvnT71A/rVPQcJjFlqiTtbOrjqwVWqjfziqpWj5pa4W8sHD3xsXW2qgjHP4iOVnvGDCdHqEc1evvYQU2YDS01tfeuaqbPcOnpiw+J5fvTUS6T/LM3PIpsOWX7IEHcE2e4TGNGuo82rZumGiCXRnj7zIRvqs/TZeM2zY7I5h6tzoB7d2d+v3fu2GOMP4/4jVsfublACIzq3d71G1xAUJIBMqLEhZBLI5AuuXANbB5YopVB628B/f37z5Ai7aZHdYe17rV1Hhx2y+aOOt7p4C0cCQCc6lxjT3BQKU9hbQmyKGjeWyAG8Rdejp+lgMKUGfbTbuL7p1NFOA699u25c1aYUhQQqnUAmUsYZpPcmV9li5ajVRkyBAPCBNBxBhg2XamTwB3ceaBxH9vtofUK0y/UciSGbGXwG6dJg9iv66MpHV3pPQKhrc4q35hNT5ucsw5NdRxm/J9pnqr2FyiVSD84cidVJApmjo5xc8bgRzjE8h/LXVj8H2sEBn4nyq1xdYi23JZV7MgQmWYmHcFF6YO/ISCw/RjKVLZ5ebObFYU/+7BTMTv70LRIusXCOpK9Cf83BPtUTB3jPkibTBuB8G+yiJZJrdKZRkY7FS6xwHip/mLv3uXOfWnixISv/sfQo3yLXy66p4QvQWxk9oHSWOul7+n989pj+LrbIxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"decepcionado mas não surpreso\" title=\"decepcionado mas não surpreso\" src=\"/static/342ed021e5dea82ee6c67621bde3a959/42a19/perfectly-balanced.png\" srcset=\"/static/342ed021e5dea82ee6c67621bde3a959/e3135/perfectly-balanced.png 256w,\n/static/342ed021e5dea82ee6c67621bde3a959/06341/perfectly-balanced.png 512w,\n/static/342ed021e5dea82ee6c67621bde3a959/42a19/perfectly-balanced.png 1024w,\n/static/342ed021e5dea82ee6c67621bde3a959/6ee55/perfectly-balanced.png 1496w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">decepcionado mas não surpreso</figcaption>\n  </figure><p></p>\n<h2 id=\"coisas-a-se-considerar\" style=\"position:relative;\"><a href=\"#coisas-a-se-considerar\" aria-label=\"coisas a se considerar permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Coisas a se considerar</h2>\n<p>Embora este script seja bem simples, há algumas coisas a se considerar:</p>\n<ul>\n<li><strong>Pressuposições sobre pausas</strong>: Ele assume que qualquer período superior a 3 horas entre commits é uma pausa. Isso pode nem sempre ser verdade, mas é uma aproximação boa o suficiente.</li>\n<li><strong>Hábitos de commit</strong>: Se você é alguém que se esquece de fazer commits frequentemente, a precisão do script cai consideravelmente.</li>\n<li><strong>Diferenças de fuso horário</strong>: Commits feitos em fusos horários diferentes podem atrapalhar os cálculos.</li>\n<li><strong>Descobrir quanto tempo você realmente está desperdiçando</strong>: Esse ponto é um pouco subjetivo, eu acho, mas no meu caso, mermão, eu não estava pronto para esse número.</li>\n</ul>\n<h2 id=\"conclusao\" style=\"position:relative;\"><a href=\"#conclusao\" aria-label=\"conclusao permalink\" class=\"post-headers-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusão</h2>\n<p>Escrever este script foi tanto esclarecedor quanto horripilante. Agora tenho provas concretas do absurdo número de horas que gasto em meus projetos pessoais. Se você for curioso (ou louco) o suficiente para ”<a href=\"https://git-scm.com/docs/git-bisect\" target=\"_blank\" rel=\"noreferrer\">bisectar</a>” seus hábitos de programação, pode ser um exercício bastante “divertido”.</p>\n<p>E lembre-se, embora acompanhar sua produtividade seja ótimo, às vezes a ignorância é uma bênção. Porque, depois de ver minhas horas totais, só queria me encolher e zerar alguns dos jogos do meu backlog para compensar todo esse tempo livre perdido.</p>\n<p>Bom, e é isso, pessoal, espero que vocês tenham gostado deste post e vejo vocês no próximo!</p>","path":"/pt-br/blog/coding/calculando-minhas-horas-de-trabalho-em-projetos-pessoais-usando-nodejs/","title":"Calculando minhas horas de trabalho em projetos pessoais usando Node.js","language":"pt-br","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDI0LTA2LTE2VDAwOjAwOjAwLjAwMFo=","comments":[],"relatedPosts":[{"path":"/pt-br/blog/coding/como-automatizar-a-criacao-de-instagram-reels-usando-gpt-da-openai/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIzLTEyLTIwVDAwOjAwOjAwLjAwMFo=","title":"Como automatizar a criação de Instagram Reels usando GPT da OpenAI","date":"2023-12-20T00:00:00.000Z"},{"path":"/pt-br/blog/coding/como-criar-thumbnails-para-seus-videos-automaticamente-com-nodejs/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIzLTEwLTI1VDAwOjAwOjAwLjAwMFo=","title":"Como criar thumbnails para seus vídeos automaticamente com Node.js","date":"2023-10-25T00:00:00.000Z"},{"path":"/pt-br/blog/coding/publicando-reels-no-instagram-usando-nodejs-e-a-arte-de-superar-limitacoes/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIzLTEwLTE0VDAwOjAwOjAwLjAwMFo=","title":"Publicando Reels no Instagram usando Node.js e a arte de superar limitações","date":"2023-10-14T00:00:00.000Z"},{"path":"/pt-br/blog/coding/usando-google-fitness-api-para-calcular-meu-tdee-e-mais/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIzLTA4LTAyVDAwOjAwOjAwLjAwMFo=","title":"Usando Google Fitness API para calcular meu TDEE e mais","date":"2023-08-02T00:00:00.000Z"},{"path":"/pt-br/blog/coding/adicionando-botao-para-copiar-code-snippets-no-gatsby-gambiarra/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIyLTA1LTA1VDAwOjAwOjAwLjAwMFo=","title":"Adicionando botão para copiar code snippets no Gatsby (gambiarra)","date":"2022-05-05T00:00:00.000Z"},{"path":"/pt-br/blog/coding/como-o-webpack-resolve-imports-dinamicos-com-paths-variaveis/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIyLTA0LTExVDAwOjAwOjAwLjAwMFo=","title":"Como o Webpack resolve imports dinâmicos com paths variáveis","date":"2022-04-11T00:00:00.000Z"},{"path":"/pt-br/blog/coding/crie-videos-dos-seus-codigos-de-programacao-com-esse-script-de-nodejs/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIyLTAxLTA0VDAwOjAwOjAwLjAwMFo=","title":"Crie videos dos seus códigos de programação com esse script de Node.js","date":"2022-01-04T00:00:00.000Z"},{"path":"/pt-br/blog/games/atualize-automaticamente-o-tileset-embutido-do-seu-mapa-no-tiled-com-um-script-nodejs/","postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMTAtMDJUMDA6MDA6MDAuMDAwWg==","title":"Atualize automaticamente o Tileset embutido do seu mapa no Tiled com um script Node.js.","date":"2021-10-02T00:00:00.000Z"},{"path":"/pt-br/blog/games/como-gerar-sprite-sheets-automaticamente-para-o-seu-jogo-feito-com-phaser-js/","postHashId":"Z2FtZXN0cnVlbnVsbDIwMjEtMDYtMjJUMDA6MDA6MDAuMDAwWg==","title":"Como gerar sprite sheets automaticamente para o seu jogo feito com Phaser JS","date":"2021-06-22T00:00:00.000Z"},{"path":"/pt-br/blog/general/tinha-que-ser-o-telegram-de-novo/","postHashId":"Z2VuZXJhbHRydWVudWxsMjAyMS0wMS0zMVQwMDowMDowMC4wMDBa","title":"Tinha que ser o Telegram de novo!","date":"2021-01-31T00:00:00.000Z"}]}