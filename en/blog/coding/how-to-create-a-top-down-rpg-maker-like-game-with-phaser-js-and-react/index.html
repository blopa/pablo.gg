<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.6a70bea93415243dcb0b.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:100;src:local("Roboto Thin "),local("Roboto-Thin"),url(/static/roboto-latin-100-c2aa4ab115bf9c6057cb59709d0e152b.woff2) format("woff2"),url(/static/roboto-latin-100-a45108d3b34af91f9113d827a183296d.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:italic;font-weight:100;src:local("Roboto Thin italic"),local("Roboto-Thinitalic"),url(/static/roboto-latin-100italic-7f839a8652da29745ce4260846c3f88e.woff2) format("woff2"),url(/static/roboto-latin-100italic-451d4e559d6f57cdf6a1c54a3e32e11d.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:300;src:local("Roboto Light "),local("Roboto-Light"),url(/static/roboto-latin-300-37a7069dc30fc663c8781220e5669d25.woff2) format("woff2"),url(/static/roboto-latin-300-865f928cbabcc9f8f2b50fb47a20bc63.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:italic;font-weight:300;src:local("Roboto Light italic"),local("Roboto-Lightitalic"),url(/static/roboto-latin-300italic-c64e7e354c88e613c77cab8ac2ebc3ae.woff2) format("woff2"),url(/static/roboto-latin-300italic-bd5b7a13f2c52b531a2a787bf6eb4a13.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto Regular "),local("Roboto-Regular"),url(/static/roboto-latin-400-176f8f5bd5f02b3abfcf894955d7e919.woff2) format("woff2"),url(/static/roboto-latin-400-49ae34d4cc6b98c00c69ab4c41de3e0c.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:italic;font-weight:400;src:local("Roboto Regular italic"),local("Roboto-Regularitalic"),url(/static/roboto-latin-400italic-d022bc70dc1bf7b3425da9cdaa9841b6.woff2) format("woff2"),url(/static/roboto-latin-400italic-b1d9d9904bfca8802a631c45590b9efa.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:500;src:local("Roboto Medium "),local("Roboto-Medium"),url(/static/roboto-latin-500-f5b74d7ffcdf85b9dd60130fa0b2c087.woff2) format("woff2"),url(/static/roboto-latin-500-cea99d3e3e13a3a599a015c29f1046d0.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:italic;font-weight:500;src:local("Roboto Medium italic"),local("Roboto-Mediumitalic"),url(/static/roboto-latin-500italic-0d8bb5b3ee5f5dac9e446d48480d28a9.woff2) format("woff2"),url(/static/roboto-latin-500italic-18d00f739ff1e1c52db1a1c0d9e98129.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:700;src:local("Roboto Bold "),local("Roboto-Bold"),url(/static/roboto-latin-700-c18ee39fb002ad58b6dc595476f88fef.woff2) format("woff2"),url(/static/roboto-latin-700-2267169ee7270a22a963b2b2bfb7ab0c.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:italic;font-weight:700;src:local("Roboto Bold italic"),local("Roboto-Bolditalic"),url(/static/roboto-latin-700italic-7d8125ff7f707231fd89d9d7109deadf.woff2) format("woff2"),url(/static/roboto-latin-700italic-9360531f9bb817f917f01a6d394515f3.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:900;src:local("Roboto Black "),local("Roboto-Black"),url(/static/roboto-latin-900-870c8c1486f76054301a22c35403eae1.woff2) format("woff2"),url(/static/roboto-latin-900-bac8362e7a6ea60b6983ecf09a411a5e.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:italic;font-weight:900;src:local("Roboto Black italic"),local("Roboto-Blackitalic"),url(/static/roboto-latin-900italic-cb5ad999740e9d8a8bd1b03b379293a9.woff2) format("woff2"),url(/static/roboto-latin-900italic-c20d916c1a1b094c1cec7de61e470633.woff) format("woff")}@font-face{font-family:FV Almelo;font-style:normal;font-weight:400;src:url(/static/fv_almelo-webfont-1fcda20f228ef23531e06bba44ee79eb.ttf) format("truetype"),url(/static/fv_almelo-webfont-1fcda20f228ef23531e06bba44ee79eb.ttf) format("truetype")}@font-face{font-family:Superstar;font-style:normal;font-weight:400;src:url(/static/superstar_memesbruh03-cbeb747364ac0348b958000722fdd4b3.ttf) format("opentype"),url(/static/superstar_memesbruh03-cbeb747364ac0348b958000722fdd4b3.ttf) format("opentype")}@font-face{font-family:Press Start\ 2P;font-style:normal;font-weight:400;src:url(/static/PressStart2P-Regular-c5b470938391e423c6d66ddf383fd985.ttf) format("opentype"),url(/static/PressStart2P-Regular-c5b470938391e423c6d66ddf383fd985.ttf) format("opentype")}*{transition:background-color .5s ease,color .05s ease}@media (prefers-color-scheme:dark){.wmde-markdown,.wmde-markdown-var{--color-prettylights-syntax-comment:#8b949e;--color-prettylights-syntax-constant:#79c0ff;--color-prettylights-syntax-entity:#d2a8ff;--color-prettylights-syntax-storage-modifier-import:#c9d1d9;--color-prettylights-syntax-entity-tag:#7ee787;--color-prettylights-syntax-keyword:#ff7b72;--color-prettylights-syntax-string:#a5d6ff;--color-prettylights-syntax-variable:#ffa657;--color-prettylights-syntax-brackethighlighter-unmatched:#f85149;--color-prettylights-syntax-invalid-illegal-text:#f0f6fc;--color-prettylights-syntax-invalid-illegal-bg:#8e1519;--color-prettylights-syntax-carriage-return-text:#f0f6fc;--color-prettylights-syntax-carriage-return-bg:#b62324;--color-prettylights-syntax-string-regexp:#7ee787;--color-prettylights-syntax-markup-list:#f2cc60;--color-prettylights-syntax-markup-heading:#1f6feb;--color-prettylights-syntax-markup-italic:#c9d1d9;--color-prettylights-syntax-markup-bold:#c9d1d9;--color-prettylights-syntax-markup-deleted-text:#ffdcd7;--color-prettylights-syntax-markup-deleted-bg:#67060c;--color-prettylights-syntax-markup-inserted-text:#aff5b4;--color-prettylights-syntax-markup-inserted-bg:#033a16;--color-prettylights-syntax-markup-changed-text:#ffdfb6;--color-prettylights-syntax-markup-changed-bg:#5a1e02;--color-prettylights-syntax-markup-ignored-text:#c9d1d9;--color-prettylights-syntax-markup-ignored-bg:#1158c7;--color-prettylights-syntax-meta-diff-range:#d2a8ff;--color-prettylights-syntax-brackethighlighter-angle:#8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark:#484f58;--color-prettylights-syntax-constant-other-reference-link:#a5d6ff;--color-fg-default:#c9d1d9;--color-fg-muted:#8b949e;--color-fg-subtle:#484f58;--color-canvas-default:#0d1117;--color-canvas-subtle:#161b22;--color-border-default:#30363d;--color-border-muted:#21262d;--color-neutral-muted:hsla(215,8%,47%,.4);--color-accent-fg:#58a6ff;--color-accent-emphasis:#1f6feb;--color-attention-subtle:rgba(187,128,9,.15);--color-danger-fg:#f85149;color-scheme:dark}}@media (prefers-color-scheme:light){.wmde-markdown,.wmde-markdown-var{--color-prettylights-syntax-comment:#6e7781;--color-prettylights-syntax-constant:#0550ae;--color-prettylights-syntax-entity:#8250df;--color-prettylights-syntax-storage-modifier-import:#24292f;--color-prettylights-syntax-entity-tag:#116329;--color-prettylights-syntax-keyword:#cf222e;--color-prettylights-syntax-string:#0a3069;--color-prettylights-syntax-variable:#953800;--color-prettylights-syntax-brackethighlighter-unmatched:#82071e;--color-prettylights-syntax-invalid-illegal-text:#f6f8fa;--color-prettylights-syntax-invalid-illegal-bg:#82071e;--color-prettylights-syntax-carriage-return-text:#f6f8fa;--color-prettylights-syntax-carriage-return-bg:#cf222e;--color-prettylights-syntax-string-regexp:#116329;--color-prettylights-syntax-markup-list:#3b2300;--color-prettylights-syntax-markup-heading:#0550ae;--color-prettylights-syntax-markup-italic:#24292f;--color-prettylights-syntax-markup-bold:#24292f;--color-prettylights-syntax-markup-deleted-text:#82071e;--color-prettylights-syntax-markup-deleted-bg:#ffebe9;--color-prettylights-syntax-markup-inserted-text:#116329;--color-prettylights-syntax-markup-inserted-bg:#dafbe1;--color-prettylights-syntax-markup-changed-text:#953800;--color-prettylights-syntax-markup-changed-bg:#ffd8b5;--color-prettylights-syntax-markup-ignored-text:#eaeef2;--color-prettylights-syntax-markup-ignored-bg:#0550ae;--color-prettylights-syntax-meta-diff-range:#8250df;--color-prettylights-syntax-brackethighlighter-angle:#57606a;--color-prettylights-syntax-sublimelinter-gutter-mark:#8c959f;--color-prettylights-syntax-constant-other-reference-link:#0a3069;--color-fg-default:#24292f;--color-fg-muted:#57606a;--color-fg-subtle:#6e7781;--color-canvas-default:#fff;--color-canvas-subtle:#f6f8fa;--color-border-default:#d0d7de;--color-border-muted:#d8dee4;--color-neutral-muted:rgba(175,184,193,.2);--color-accent-fg:#0969da;--color-accent-emphasis:#0969da;--color-attention-subtle:#fff8c5;--color-danger-fg:#cf222e;color-scheme:light}}.wmde-markdown-var[data-color-mode*=dark],.wmde-markdown[data-color-mode*=dark],[data-color-mode*=dark] .wmde-markdown,[data-color-mode*=dark] .wmde-markdown-var,body[data-color-mode*=dark]{--color-prettylights-syntax-comment:#8b949e;--color-prettylights-syntax-constant:#79c0ff;--color-prettylights-syntax-entity:#d2a8ff;--color-prettylights-syntax-storage-modifier-import:#c9d1d9;--color-prettylights-syntax-entity-tag:#7ee787;--color-prettylights-syntax-keyword:#ff7b72;--color-prettylights-syntax-string:#a5d6ff;--color-prettylights-syntax-variable:#ffa657;--color-prettylights-syntax-brackethighlighter-unmatched:#f85149;--color-prettylights-syntax-invalid-illegal-text:#f0f6fc;--color-prettylights-syntax-invalid-illegal-bg:#8e1519;--color-prettylights-syntax-carriage-return-text:#f0f6fc;--color-prettylights-syntax-carriage-return-bg:#b62324;--color-prettylights-syntax-string-regexp:#7ee787;--color-prettylights-syntax-markup-list:#f2cc60;--color-prettylights-syntax-markup-heading:#1f6feb;--color-prettylights-syntax-markup-italic:#c9d1d9;--color-prettylights-syntax-markup-bold:#c9d1d9;--color-prettylights-syntax-markup-deleted-text:#ffdcd7;--color-prettylights-syntax-markup-deleted-bg:#67060c;--color-prettylights-syntax-markup-inserted-text:#aff5b4;--color-prettylights-syntax-markup-inserted-bg:#033a16;--color-prettylights-syntax-markup-changed-text:#ffdfb6;--color-prettylights-syntax-markup-changed-bg:#5a1e02;--color-prettylights-syntax-markup-ignored-text:#c9d1d9;--color-prettylights-syntax-markup-ignored-bg:#1158c7;--color-prettylights-syntax-meta-diff-range:#d2a8ff;--color-prettylights-syntax-brackethighlighter-angle:#8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark:#484f58;--color-prettylights-syntax-constant-other-reference-link:#a5d6ff;--color-fg-default:#c9d1d9;--color-fg-muted:#8b949e;--color-fg-subtle:#484f58;--color-canvas-default:#0d1117;--color-canvas-subtle:#161b22;--color-border-default:#30363d;--color-border-muted:#21262d;--color-neutral-muted:hsla(215,8%,47%,.4);--color-accent-fg:#58a6ff;--color-accent-emphasis:#1f6feb;--color-attention-subtle:rgba(187,128,9,.15);--color-danger-fg:#f85149;color-scheme:dark}.wmde-markdown-var[data-color-mode*=light],.wmde-markdown[data-color-mode*=light],[data-color-mode*=light] .wmde-markdown,[data-color-mode*=light] .wmde-markdown-var,body[data-color-mode*=light]{--color-prettylights-syntax-comment:#6e7781;--color-prettylights-syntax-constant:#0550ae;--color-prettylights-syntax-entity:#8250df;--color-prettylights-syntax-storage-modifier-import:#24292f;--color-prettylights-syntax-entity-tag:#116329;--color-prettylights-syntax-keyword:#cf222e;--color-prettylights-syntax-string:#0a3069;--color-prettylights-syntax-variable:#953800;--color-prettylights-syntax-brackethighlighter-unmatched:#82071e;--color-prettylights-syntax-invalid-illegal-text:#f6f8fa;--color-prettylights-syntax-invalid-illegal-bg:#82071e;--color-prettylights-syntax-carriage-return-text:#f6f8fa;--color-prettylights-syntax-carriage-return-bg:#cf222e;--color-prettylights-syntax-string-regexp:#116329;--color-prettylights-syntax-markup-list:#3b2300;--color-prettylights-syntax-markup-heading:#0550ae;--color-prettylights-syntax-markup-italic:#24292f;--color-prettylights-syntax-markup-bold:#24292f;--color-prettylights-syntax-markup-deleted-text:#82071e;--color-prettylights-syntax-markup-deleted-bg:#ffebe9;--color-prettylights-syntax-markup-inserted-text:#116329;--color-prettylights-syntax-markup-inserted-bg:#dafbe1;--color-prettylights-syntax-markup-changed-text:#953800;--color-prettylights-syntax-markup-changed-bg:#ffd8b5;--color-prettylights-syntax-markup-ignored-text:#eaeef2;--color-prettylights-syntax-markup-ignored-bg:#0550ae;--color-prettylights-syntax-meta-diff-range:#8250df;--color-prettylights-syntax-brackethighlighter-angle:#57606a;--color-prettylights-syntax-sublimelinter-gutter-mark:#8c959f;--color-prettylights-syntax-constant-other-reference-link:#0a3069;--color-fg-default:#24292f;--color-fg-muted:#57606a;--color-fg-subtle:#6e7781;--color-canvas-default:#fff;--color-canvas-subtle:#f6f8fa;--color-border-default:#d0d7de;--color-border-muted:#d8dee4;--color-neutral-muted:rgba(175,184,193,.2);--color-accent-fg:#0969da;--color-accent-emphasis:#0969da;--color-attention-subtle:#fff8c5;--color-danger-fg:#cf222e;color-scheme:light}.wmde-markdown{-webkit-text-size-adjust:100%;word-wrap:break-word;background-color:var(--color-canvas-default);color:var(--color-fg-default);font-family:-apple-system,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5}.wmde-markdown details,.wmde-markdown figcaption,.wmde-markdown figure{display:block}.wmde-markdown summary{display:list-item}.wmde-markdown [hidden]{display:none!important}.wmde-markdown a{background-color:transparent;color:var(--color-accent-fg);text-decoration:none}.wmde-markdown a:active,.wmde-markdown a:hover{outline-width:0}.wmde-markdown abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.wmde-markdown b,.wmde-markdown strong{font-weight:600}.wmde-markdown dfn{font-style:italic}.wmde-markdown h1{border-bottom:1px solid var(--color-border-muted);font-size:2em;font-weight:600;margin:.67em 0;padding-bottom:.3em}.wmde-markdown mark{background-color:var(--color-attention-subtle);color:var(--color-text-primary)}.wmde-markdown small{font-size:90%}.wmde-markdown sub,.wmde-markdown sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.wmde-markdown sub{bottom:-.25em}.wmde-markdown sup{top:-.5em}.wmde-markdown img{background-color:var(--color-canvas-default);border-style:none;box-sizing:content-box;display:inline-block;max-width:100%}.wmde-markdown code,.wmde-markdown kbd,.wmde-markdown pre,.wmde-markdown samp{font-family:monospace,monospace;font-size:1em}.wmde-markdown figure{margin:1em 40px}.wmde-markdown hr{background:transparent;background-color:var(--color-border-default);border:0;border-bottom:1px solid var(--color-border-muted);box-sizing:content-box;height:.25em;margin:24px 0;overflow:hidden;padding:0}.wmde-markdown input{font:inherit;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible}.wmde-markdown [type=button],.wmde-markdown [type=reset],.wmde-markdown [type=submit]{-webkit-appearance:button}.wmde-markdown [type=button]::-moz-focus-inner,.wmde-markdown [type=reset]::-moz-focus-inner,.wmde-markdown [type=submit]::-moz-focus-inner{border-style:none;padding:0}.wmde-markdown [type=button]:-moz-focusring,.wmde-markdown [type=reset]:-moz-focusring,.wmde-markdown [type=submit]:-moz-focusring{outline:1px dotted ButtonText}.wmde-markdown [type=checkbox],.wmde-markdown [type=radio]{box-sizing:border-box;padding:0}.wmde-markdown [type=number]::-webkit-inner-spin-button,.wmde-markdown [type=number]::-webkit-outer-spin-button{height:auto}.wmde-markdown [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.wmde-markdown [type=search]::-webkit-search-cancel-button,.wmde-markdown [type=search]::-webkit-search-decoration{-webkit-appearance:none}.wmde-markdown ::-webkit-input-placeholder{color:inherit;opacity:.54}.wmde-markdown ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.wmde-markdown a:hover{text-decoration:underline}.wmde-markdown hr:before{content:"";display:table}.wmde-markdown hr:after{clear:both;content:"";display:table}.wmde-markdown table{border-collapse:collapse;border-spacing:0;display:block;max-width:100%;width:max-content}.wmde-markdown td,.wmde-markdown th{padding:0}.wmde-markdown details summary{cursor:pointer}.wmde-markdown details:not([open])>:not(summary){display:none!important}.wmde-markdown kbd{background-color:var(--color-canvas-subtle);border-bottom-color:var(--color-neutral-muted);border:1px solid var(--color-neutral-muted);border-radius:6px;box-shadow:inset 0 -1px 0 var(--color-neutral-muted);color:var(--color-fg-default);display:inline-block;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.wmde-markdown h1,.wmde-markdown h2,.wmde-markdown h3,.wmde-markdown h4,.wmde-markdown h5,.wmde-markdown h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.wmde-markdown h2{border-bottom:1px solid var(--color-border-muted);font-size:1.5em;font-weight:600;padding-bottom:.3em}.wmde-markdown h3{font-size:1.25em;font-weight:600}.wmde-markdown h4{font-size:1em;font-weight:600}.wmde-markdown h5{font-size:.875em;font-weight:600}.wmde-markdown h6{color:var(--color-fg-muted);font-size:.85em;font-weight:600}.wmde-markdown p{margin-bottom:10px;margin-top:0}.wmde-markdown blockquote{border-left:.25em solid var(--color-border-default);color:var(--color-fg-muted);margin:0;padding:0 1em}.wmde-markdown ol,.wmde-markdown ul{margin-bottom:0;margin-top:0;padding-left:2em}.wmde-markdown ol ol,.wmde-markdown ul ol{list-style-type:lower-roman}.wmde-markdown ol ol ol,.wmde-markdown ol ul ol,.wmde-markdown ul ol ol,.wmde-markdown ul ul ol{list-style-type:lower-alpha}.wmde-markdown dd{margin-left:0}.wmde-markdown code,.wmde-markdown pre,.wmde-markdown tt{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}.wmde-markdown pre{word-wrap:normal;margin-bottom:0;margin-top:0}.wmde-markdown .octicon{fill:currentColor;display:inline-block;overflow:visible!important;vertical-align:text-bottom}.wmde-markdown ::placeholder{color:var(--color-fg-subtle);opacity:1}.wmde-markdown input::-webkit-inner-spin-button,.wmde-markdown input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.wmde-markdown [data-catalyst]{display:block}.wmde-markdown:before{content:"";display:table}.wmde-markdown:after{clear:both;content:"";display:table}.wmde-markdown>:first-child{margin-top:0!important}.wmde-markdown>:last-child{margin-bottom:0!important}.wmde-markdown a:not([href]){color:inherit;text-decoration:none}.wmde-markdown .absent{color:var(--color-danger-fg)}.wmde-markdown a.anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.wmde-markdown .anchor:focus{outline:none}.wmde-markdown blockquote,.wmde-markdown details,.wmde-markdown dl,.wmde-markdown ol,.wmde-markdown p,.wmde-markdown pre,.wmde-markdown table,.wmde-markdown ul{margin-bottom:16px;margin-top:0}.wmde-markdown blockquote>:first-child{margin-top:0}.wmde-markdown blockquote>:last-child{margin-bottom:0}.wmde-markdown sup>a:before{content:"["}.wmde-markdown sup>a:after{content:"]"}.wmde-markdown h1 .octicon-link,.wmde-markdown h2 .octicon-link,.wmde-markdown h3 .octicon-link,.wmde-markdown h4 .octicon-link,.wmde-markdown h5 .octicon-link,.wmde-markdown h6 .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}.wmde-markdown h1:hover .anchor,.wmde-markdown h2:hover .anchor,.wmde-markdown h3:hover .anchor,.wmde-markdown h4:hover .anchor,.wmde-markdown h5:hover .anchor,.wmde-markdown h6:hover .anchor{text-decoration:none}.wmde-markdown h1:hover .anchor .octicon-link,.wmde-markdown h2:hover .anchor .octicon-link,.wmde-markdown h3:hover .anchor .octicon-link,.wmde-markdown h4:hover .anchor .octicon-link,.wmde-markdown h5:hover .anchor .octicon-link,.wmde-markdown h6:hover .anchor .octicon-link{visibility:visible}.wmde-markdown h1 code,.wmde-markdown h1 tt,.wmde-markdown h2 code,.wmde-markdown h2 tt,.wmde-markdown h3 code,.wmde-markdown h3 tt,.wmde-markdown h4 code,.wmde-markdown h4 tt,.wmde-markdown h5 code,.wmde-markdown h5 tt,.wmde-markdown h6 code,.wmde-markdown h6 tt{font-size:inherit;padding:0 .2em}.wmde-markdown ol.no-list,.wmde-markdown ul.no-list{list-style-type:none;padding:0}.wmde-markdown ol[type="1"]{list-style-type:decimal}.wmde-markdown ol[type=a]{list-style-type:lower-alpha}.wmde-markdown ol[type=i]{list-style-type:lower-roman}.wmde-markdown div>ol:not([type]){list-style-type:decimal}.wmde-markdown ol ol,.wmde-markdown ol ul,.wmde-markdown ul ol,.wmde-markdown ul ul{margin-bottom:0;margin-top:0}.wmde-markdown li>p{margin-top:16px}.wmde-markdown li+li{margin-top:.25em}.wmde-markdown dl{padding:0}.wmde-markdown dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.wmde-markdown dl dd{margin-bottom:16px;padding:0 16px}.wmde-markdown table th{font-weight:600}.wmde-markdown table td,.wmde-markdown table th{border:1px solid var(--color-border-default);padding:6px 13px}.wmde-markdown table tr{background-color:var(--color-canvas-default);border-top:1px solid var(--color-border-muted)}.wmde-markdown table tr:nth-child(2n){background-color:var(--color-canvas-subtle)}.wmde-markdown table img{background-color:transparent}.wmde-markdown img[align=right]{padding-left:20px}.wmde-markdown img[align=left]{padding-right:20px}.wmde-markdown .emoji{background-color:transparent;max-width:none;vertical-align:text-top}.wmde-markdown span.frame{display:block;overflow:hidden}.wmde-markdown span.frame>span{border:1px solid var(--color-border-default);display:block;float:left;margin:13px 0 0;overflow:hidden;padding:7px;width:auto}.wmde-markdown span.frame span img{display:block;float:left}.wmde-markdown span.frame span span{clear:both;color:var(--color-fg-default);display:block;padding:5px 0 0}.wmde-markdown span.align-center{clear:both;display:block;overflow:hidden}.wmde-markdown span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.wmde-markdown span.align-center span img{margin:0 auto;text-align:center}.wmde-markdown span.align-right{clear:both;display:block;overflow:hidden}.wmde-markdown span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.wmde-markdown span.align-right span img{margin:0;text-align:right}.wmde-markdown span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.wmde-markdown span.float-left span{margin:13px 0 0}.wmde-markdown span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.wmde-markdown span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.wmde-markdown code,.wmde-markdown tt{background-color:var(--color-neutral-muted);border-radius:6px;font-size:85%;margin:0;padding:.2em .4em}.wmde-markdown code br,.wmde-markdown tt br{display:none}.wmde-markdown del code{text-decoration:inherit}.wmde-markdown pre code{font-size:100%}.wmde-markdown pre>code{background:transparent;border:0;margin:0;padding:0;white-space:pre;word-break:normal}.wmde-markdown pre{background-color:var(--color-canvas-subtle);border-radius:6px;font-size:85%;line-height:1.45}.wmde-markdown pre code,.wmde-markdown pre tt{word-wrap:normal;background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.wmde-markdown pre>code{display:block;overflow:auto;padding:16px}.wmde-markdown .csv-data td,.wmde-markdown .csv-data th{font-size:12px;line-height:1;overflow:hidden;padding:5px;text-align:left;white-space:nowrap}.wmde-markdown .csv-data .blob-num{background:var(--color-canvas-default);border:0;padding:10px 8px 9px;text-align:right}.wmde-markdown .csv-data tr{border-top:0}.wmde-markdown .csv-data th{background:var(--color-canvas-subtle);border-top:0;font-weight:600}.wmde-markdown .footnotes{border-top:1px solid var(--color-border-default);color:var(--color-fg-muted);font-size:12px}.wmde-markdown .footnotes ol{padding-left:16px}.wmde-markdown .footnotes li{position:relative}.wmde-markdown .footnotes li:target:before{border:2px solid var(--color-accent-emphasis);border-radius:6px;bottom:-8px;content:"";left:-24px;pointer-events:none;position:absolute;right:-8px;top:-8px}.wmde-markdown .footnotes li:target{color:var(--color-fg-default)}.wmde-markdown .footnotes .data-footnote-backref g-emoji{font-family:monospace}.wmde-markdown .task-list-item{list-style-type:none}.wmde-markdown .task-list-item label{font-weight:400}.wmde-markdown .task-list-item.enabled label{cursor:pointer}.wmde-markdown .task-list-item+.wmde-markdown .task-list-item{margin-top:3px}.wmde-markdown .task-list-item .handle{display:none}.wmde-markdown .contains-task-list input[type=checkbox],.wmde-markdown .task-list-item-checkbox{margin:0 .2em .25em -1.6em;vertical-align:middle}.wmde-markdown .contains-task-list:dir(rtl) .task-list-item-checkbox,.wmde-markdown .contains-task-list:dir(rtl) input[type=checkbox]{margin:0 -1.6em .25em .2em}.wmde-markdown ::-webkit-calendar-picker-indicator{filter:invert(50%)}.wmde-markdown pre{position:relative}.wmde-markdown pre .copied{background:var(--color-border-default);border-radius:5px;color:var(--color-fg-defaul);cursor:pointer;display:flex;font-size:12px;padding:6px;position:absolute;right:6px;top:6px;transition:all .3s;visibility:hidden}.wmde-markdown pre .copied .octicon-copy{display:block}.wmde-markdown pre .copied .octicon-check{display:none}.wmde-markdown pre:hover .copied{visibility:visible}.wmde-markdown pre:hover .copied:hover{background:var(--color-prettylights-syntax-entity-tag);color:var(--color-canvas-default)}.wmde-markdown pre .copied.active,.wmde-markdown pre:hover .copied:active{background:#2e9b33;color:var(--color-canvas-default)}.wmde-markdown pre .active .octicon-copy{display:none}.wmde-markdown pre .active .octicon-check{display:block}.highlight-line{background-color:var(--color-neutral-muted)}.code-line.line-number:before{color:var(--color-fg-subtle);content:attr(line);display:inline-block;margin-right:16px;text-align:right;white-space:nowrap;width:1rem}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:var(--color-prettylights-syntax-comment)}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.selector,.token.symbol,.token.tag{color:var(--color-prettylights-syntax-entity-tag)}.token.maybe-class-name{color:var(--color-prettylights-syntax-variable)}.token.attr-name,.token.boolean,.token.builtin,.token.char,.token.number,.token.operator,.token.property-access,.token.selector .token.class,.token.string{color:var(--color-prettylights-syntax-constant)}.token.deleted{color:var(--color-prettylights-syntax-markup-deleted-text)}.code-line .token.deleted{background-color:var(--color-prettylights-syntax-markup-deleted-bg)}.token.inserted{color:var(--color-prettylights-syntax-markup-inserted-text)}.code-line .token.inserted{background-color:var(--color-prettylights-syntax-markup-inserted-bg)}.token.variable{color:var(--color-prettylights-syntax-constant)}.language-css .token.string,.style .token.string,.token.atrule,.token.attr-value,.token.class-name,.token.color,.token.entity,.token.function,.token.url{color:var(--color-prettylights-syntax-string)}.token.important,.token.keyword,.token.regex,.token.rule{color:var(--color-prettylights-syntax-keyword)}.token.coord{color:var(--color-prettylights-syntax-meta-diff-range)}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.w-md-editor-area{border-radius:5px;overflow:auto}.w-md-editor-text{box-sizing:border-box;font-size:14px!important;font-variant-ligatures:common-ligatures;line-height:18px!important;margin:0;min-height:100%;overflow-wrap:break-word;padding:10px;position:relative;text-align:left;white-space:pre-wrap;word-break:keep-all}.w-md-editor-text-input,.w-md-editor-text-pre,.w-md-editor-text>.w-md-editor-text-pre{background:none;border:0;box-sizing:inherit;display:inherit;font-family:inherit;font-family:var(--md-editor-font-family)!important;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;overflow-wrap:inherit;padding:0;-moz-tab-size:inherit;-o-tab-size:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:inherit;word-break:inherit;word-break:normal}.w-md-editor-text-pre{background-color:transparent!important;margin:0!important;pointer-events:none;position:relative}.w-md-editor-text-pre>code{font-family:var(--md-editor-font-family)!important;font-size:14px!important;line-height:18px!important;padding:0!important}.w-md-editor-text-input{-webkit-font-smoothing:antialiased;-webkit-text-fill-color:transparent;color:inherit;height:100%;left:0;outline:0;overflow:hidden;padding:inherit;position:absolute;resize:none;top:0;width:100%}.w-md-editor-text-input:empty{-webkit-text-fill-color:inherit!important}.w-md-editor-text-input,.w-md-editor-text-pre{word-wrap:pre;white-space:pre-wrap;word-break:break-word}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.w-md-editor-text-input{color:transparent!important}.w-md-editor-text-input::selection{background-color:#accef7!important;color:transparent!important}}.w-md-editor-text-pre .punctuation{color:var(--color-prettylights-syntax-comment,#8b949e)!important}.w-md-editor-text-pre .token.content,.w-md-editor-text-pre .token.url{color:var(--color-prettylights-syntax-constant,#0550ae)!important}.w-md-editor-text-pre .token.title.important{color:var(--color-prettylights-syntax-markup-bold,#24292f)}.w-md-editor-text-pre .token.code-block .function{color:var(--color-prettylights-syntax-entity,#8250df)}.w-md-editor-text-pre .token.bold{font-weight:unset!important}.w-md-editor-text-pre .token.title{font-size:unset!important;font-weight:unset!important;line-height:unset!important}.w-md-editor-text-pre .token.code.keyword{color:var(--color-prettylights-syntax-constant,#0550ae)!important}.w-md-editor-text-pre .token.strike,.w-md-editor-text-pre .token.strike .content{color:var(--color-prettylights-syntax-markup-deleted-text,#82071e)!important}.w-md-editor-toolbar-child{background-color:var(--md-editor-background-color);border-radius:3px;box-shadow:0 0 0 1px var(--md-editor-box-shadow-color),0 0 0 var(--md-editor-box-shadow-color),0 1px 1px var(--md-editor-box-shadow-color);display:none;position:absolute;z-index:1}.w-md-editor-toolbar-child.active{display:block}.w-md-editor-toolbar-child .w-md-editor-toolbar{border-bottom:0;border-radius:3px;padding:3px}.w-md-editor-toolbar-child .w-md-editor-toolbar ul>li{display:block}.w-md-editor-toolbar-child .w-md-editor-toolbar ul>li button{box-sizing:border-box;height:auto;margin:0;padding:3px 4px 2px;width:-webkit-fill-available}.w-md-editor-toolbar{align-items:center;background-color:var(--md-editor-background-color);border-bottom:1px solid var(--md-editor-box-shadow-color);border-radius:3px 3px 0 0;display:flex;flex-wrap:wrap;justify-content:space-between;padding:5px;-webkit-user-select:none;user-select:none}.w-md-editor-toolbar.bottom{border-bottom:0;border-radius:0 0 3px 3px;border-top:1px solid var(--md-editor-box-shadow-color)}.w-md-editor-toolbar li,.w-md-editor-toolbar ul{line-height:normal;list-style:none;margin:0;padding:0}.w-md-editor-toolbar li{display:inline-block;font-size:14px}.w-md-editor-toolbar li+li{margin:0}.w-md-editor-toolbar li>button{background:none;border:none;border-radius:2px;color:var(--color-fg-default);cursor:pointer;font-weight:400;height:20px;line-height:14px;margin:0 1px;outline:none;overflow:visible;padding:4px;text-transform:none;transition:all .3s;white-space:nowrap}.w-md-editor-toolbar li>button:focus,.w-md-editor-toolbar li>button:hover{background-color:var(--color-neutral-muted);color:var(--color-accent-fg)}.w-md-editor-toolbar li>button:active{background-color:var(--color-neutral-muted);color:var(--color-danger-fg)}.w-md-editor-toolbar li>button:disabled{color:var(--md-editor-box-shadow-color);cursor:not-allowed}.w-md-editor-toolbar li>button:disabled:hover{background-color:transparent;color:var(--md-editor-box-shadow-color)}.w-md-editor-toolbar li.active>button{background-color:var(--color-neutral-muted);color:var(--color-accent-fg)}.w-md-editor-toolbar-divider{background-color:var(--md-editor-box-shadow-color);height:14px;margin:-3px 3px 0!important;vertical-align:middle;width:1px}.w-md-editor-bar{border-radius:0 0 3px 0;bottom:0;cursor:s-resize;height:10px;margin-right:0;margin-top:-11px;position:absolute;right:0;-webkit-user-select:none;user-select:none;width:14px;z-index:3}.w-md-editor-bar svg{display:block;margin:0 auto}.w-md-editor{--md-editor-font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;--md-editor-background-color:var(--color-canvas-default,#fff);--md-editor-box-shadow-color:var(--color-border-default,#d0d7de);background-color:var(--md-editor-background-color);border-radius:3px;box-shadow:0 0 0 1px var(--md-editor-box-shadow-color),0 0 0 var(--md-editor-box-shadow-color),0 1px 1px var(--md-editor-box-shadow-color);color:var(--color-fg-default);display:flex;flex-direction:column;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding-bottom:1px;position:relative;text-align:left}.w-md-editor.w-md-editor-rtl{direction:rtl!important;text-align:right!important}.w-md-editor.w-md-editor-rtl .w-md-editor-preview{box-shadow:inset -1px 0 0 0 var(--md-editor-box-shadow-color);left:0;right:unset!important;text-align:right!important}.w-md-editor.w-md-editor-rtl .w-md-editor-text{text-align:right!important}.w-md-editor-toolbar{height:-moz-fit-content;height:fit-content}.w-md-editor-content{border-radius:0 0 3px 0;height:100%;overflow:auto;position:relative}.w-md-editor .copied{display:none!important}.w-md-editor-input{height:100%;width:50%}.w-md-editor-text-pre>code{white-space:pre-wrap!important;word-break:break-word!important}.w-md-editor-preview{border-radius:0 0 5px 0;bottom:0;box-shadow:inset 1px 0 0 0 var(--md-editor-box-shadow-color);box-sizing:border-box;display:flex;flex-direction:column;overflow:auto;padding:10px 20px;position:absolute;right:0;top:0;width:50%}.w-md-editor-preview .anchor{display:none}.w-md-editor-preview .contains-task-list li.task-list-item{list-style:none}.w-md-editor-show-preview .w-md-editor-input{background-color:var(--md-editor-background-color);overflow:hidden;width:0}.w-md-editor-show-preview .w-md-editor-preview{box-shadow:inset 0 0 0 0;width:100%}.w-md-editor-show-edit .w-md-editor-input{width:100%}.w-md-editor-show-edit .w-md-editor-preview{padding:0;width:0}.w-md-editor-fullscreen{bottom:0;height:100%!important;left:0;overflow:hidden;position:fixed;right:0;top:0;z-index:99999}.w-md-editor-fullscreen .w-md-editor-content{height:100%}.DayPicker{display:inline-block;font-size:1rem}.DayPicker-wrapper{flex-direction:row;padding-bottom:1em;position:relative;-webkit-user-select:none;user-select:none}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{border-collapse:collapse;border-spacing:0;display:table;margin:1em 1em 0;-webkit-user-select:none;user-select:none}.DayPicker-NavButton{background-position:50%;background-repeat:no-repeat;background-size:50%;color:#8b9898;cursor:pointer;display:inline-block;height:1.25em;left:auto;margin-top:2px;position:absolute;right:1.5em;top:1em;width:1.25em}.DayPicker-NavButton:hover{opacity:.8}.DayPicker-NavButton--prev{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC");margin-right:1.5em}.DayPicker-NavButton--next{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==")}.DayPicker-NavButton--interactionDisabled{display:none}.DayPicker-Caption{display:table-caption;margin-bottom:.5em;padding:0 .5em;text-align:left}.DayPicker-Caption>div{font-size:1.15em;font-weight:500}.DayPicker-Weekdays{display:table-header-group;margin-top:1em}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{color:#8b9898;display:table-cell;font-size:.875em;padding:.5em;text-align:center}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{border-radius:50%;text-align:center}.DayPicker-Day,.DayPicker-WeekNumber{cursor:pointer;display:table-cell;padding:.5em;vertical-align:middle}.DayPicker-WeekNumber{border-right:1px solid #eaecec;color:#8b9898;font-size:.75em;min-width:1em;text-align:right}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:.5em}.DayPicker-TodayButton{background-color:transparent;background-image:none;border:none;box-shadow:none;color:#4a90e2;cursor:pointer;font-size:.875em}.DayPicker-Day--today{color:#d0021b;font-weight:700}.DayPicker-Day--outside{color:#8b9898;cursor:default}.DayPicker-Day--disabled{color:#dce0e0;cursor:default}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4a90e2;color:#f0f8ff;position:relative}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#51a0fa}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff}.DayPickerInput{display:inline-block}.DayPickerInput-OverlayWrapper{position:relative}.DayPickerInput-Overlay{background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.15);left:0;position:absolute;z-index:1}</style><meta name="generator" content="Gatsby 3.15.0"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><title data-react-helmet="true">How to create a top-down RPG Maker like game with Phaser JS and React | pablo.gg</title><link data-react-helmet="true" href="/pt-br/blog/coding/como-criar-um-jogo-estilo-rpg-maker-com-phaser-e-react/" hrefLang="pt-br" rel="alternate"/><link data-react-helmet="true" property="og:url" href="https://pablo.gg/en/blog/coding/how-to-create-a-top-down-rpg-maker-like-game-with-phaser-js-and-react/"/><meta data-react-helmet="true" name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"/><meta data-react-helmet="true" name="description" content="My first experience in “programming” started in 2002, when I was making games with RPG Maker, when I learned what a variable, data persistence, and loops were…"/><meta data-react-helmet="true" property="og:title" content="How to create a top-down RPG Maker like game with Phaser JS and React"/><meta data-react-helmet="true" property="og:description" content="My first experience in “programming” started in 2002, when I was making games with RPG Maker, when I learned what a variable, data persistence, and loops were…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:creator" content="thepiratepablo"/><meta data-react-helmet="true" name="twitter:site" content="thepiratepablo"/><meta data-react-helmet="true" name="twitter:url" content="https://pablo.gg"/><meta data-react-helmet="true" name="twitter:title" content="How to create a top-down RPG Maker like game with Phaser JS and React"/><meta data-react-helmet="true" name="twitter:description" content="My first experience in “programming” started in 2002, when I was making games with RPG Maker, when I learned what a variable, data persistence, and loops were…"/><meta data-react-helmet="true" name="content-language" content="en"/><meta data-react-helmet="true" name="og:locale" content="en"/><meta data-react-helmet="true" name="article:tag" content="coding, games, javascript, phaser, phaser 3, react, dialog box, rpg, rpg maker"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=no"/><meta data-react-helmet="true" property="robots" content="noindex, nofollow"/><meta data-react-helmet="true" property="og:image" href="https://pablo.gg/18452438d2251249518c712d8873e89a/react-dialog-box.gif"/><meta data-react-helmet="true" name="twitter:image" content="https://pablo.gg/18452438d2251249518c712d8873e89a/react-dialog-box.gif"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><script data-react-helmet="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://pablo.gg/en/blog/coding/how-to-create-a-top-down-rpg-maker-like-game-with-phaser-js-and-react/","headline":"How to create a top-down RPG Maker like game with Phaser JS and React","description":"My first experience in “programming” started in 2002, when I was making games with RPG Maker, when I learned what a variable, data persistence, and loops were…","datePublished":"2021-10-08T00:00:00.000Z","inLanguage":"en","url":"https://pablo.gg/en/blog/coding/how-to-create-a-top-down-rpg-maker-like-game-with-phaser-js-and-react/","name":"How to create a top-down RPG Maker like game with Phaser JS and React"}</script><style type="text/css">
    .post-headers-link.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .post-headers-link.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .post-headers-link svg,
    h2 .post-headers-link svg,
    h3 .post-headers-link svg,
    h4 .post-headers-link svg,
    h5 .post-headers-link svg,
    h6 .post-headers-link svg {
      visibility: hidden;
    }
    h1:hover .post-headers-link svg,
    h2:hover .post-headers-link svg,
    h3:hover .post-headers-link svg,
    h4:hover .post-headers-link svg,
    h5:hover .post-headers-link svg,
    h6:hover .post-headers-link svg,
    h1 .post-headers-link:focus svg,
    h2 .post-headers-link:focus svg,
    h3 .post-headers-link:focus svg,
    h4 .post-headers-link:focus svg,
    h5 .post-headers-link:focus svg,
    h6 .post-headers-link:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 75)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32.png?v=1f45d5ef36dc4936be16f2b7e9941263" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#343335"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=1f45d5ef36dc4936be16f2b7e9941263"/><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="anonymous"/><link crossorigin="anonymous" rel="stylesheet preload prefetch" as="style" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&amp;display=swap" type="text/css"/><style id="jss-server-side">html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,::after,::before{box-sizing:inherit}b,strong{font-weight:700}body{color:#fff;margin:0;font-size:.875rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em;background-color:#303030}@media print{body{background-color:#fff}}body::backdrop{background-color:#303030}.MuiSvgIcon-root{fill:currentColor;width:1em;height:1em;display:inline-block;font-size:1.5rem;transition:fill .2s cubic-bezier(.4, 0, .2, 1) 0s;flex-shrink:0;-webkit-user-select:none;user-select:none}.MuiSvgIcon-colorPrimary{color:#3f51b5}.MuiSvgIcon-colorSecondary{color:#f50057}.MuiSvgIcon-colorAction{color:#fff}.MuiSvgIcon-colorError{color:#f44336}.MuiSvgIcon-colorDisabled{color:rgba(255,255,255,.3)}.MuiSvgIcon-fontSizeInherit{font-size:inherit}.MuiSvgIcon-fontSizeSmall{font-size:1.25rem}.MuiSvgIcon-fontSizeLarge{font-size:2.1875rem}.MuiCollapse-root{height:0;overflow:hidden;transition:height .3s cubic-bezier(.4, 0, .2, 1) 0s}.MuiCollapse-entered{height:auto;overflow:visible}.MuiCollapse-hidden{visibility:hidden}.MuiCollapse-wrapper{display:flex}.MuiCollapse-wrapperInner{width:100%}.MuiPaper-root{color:#fff;transition:box-shadow .3s cubic-bezier(.4, 0, .2, 1) 0s;background-color:#424242}.MuiPaper-rounded{border-radius:4px}.MuiPaper-outlined{border:1px solid rgba(255,255,255,.12)}.MuiPaper-elevation0{box-shadow:none}.MuiPaper-elevation1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.MuiPaper-elevation2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.MuiPaper-elevation3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.MuiPaper-elevation4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.MuiPaper-elevation5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.MuiPaper-elevation6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.MuiPaper-elevation7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.MuiPaper-elevation8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.MuiPaper-elevation9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.MuiPaper-elevation10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.MuiPaper-elevation11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.MuiPaper-elevation12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.MuiPaper-elevation13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.MuiPaper-elevation14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.MuiPaper-elevation15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.MuiPaper-elevation16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.MuiPaper-elevation17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.MuiPaper-elevation18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.MuiPaper-elevation19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.MuiPaper-elevation20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.MuiPaper-elevation21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.MuiPaper-elevation22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.MuiPaper-elevation23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.MuiPaper-elevation24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.MuiButtonBase-root{color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;-webkit-user-select:none;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.MuiButtonBase-root::-moz-focus-inner{border-style:none}.MuiButtonBase-root.Mui-disabled{cursor:default;pointer-events:none}@media print{.MuiButtonBase-root{-webkit-print-color-adjust:exact;color-adjust:exact}}.MuiAppBar-root{width:100%;display:flex;z-index:1100;box-sizing:border-box;flex-shrink:0;flex-direction:column}.MuiAppBar-positionFixed{top:0;left:auto;right:0;position:fixed}@media print{.MuiAppBar-positionFixed{position:absolute}}.MuiAppBar-positionAbsolute{top:0;left:auto;right:0;position:absolute}.MuiAppBar-positionSticky{top:0;left:auto;right:0;position:sticky}.MuiAppBar-positionStatic{position:static}.MuiAppBar-positionRelative{position:relative}.MuiAppBar-colorDefault{color:#fff;background-color:#212121}.MuiAppBar-colorPrimary{color:#fff;background-color:#3f51b5}.MuiAppBar-colorSecondary{color:#fff;background-color:#f50057}.MuiAppBar-colorInherit{color:inherit}.MuiAppBar-colorTransparent{color:inherit;background-color:transparent}.MuiTypography-root{margin:0}.MuiTypography-body2{font-size:.875rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em}.MuiTypography-body1{font-size:1rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.5;letter-spacing:.00938em}.MuiTypography-caption{font-size:.75rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.66;letter-spacing:.03333em}.MuiTypography-button{font-size:.875rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.75;letter-spacing:.02857em;text-transform:uppercase}.MuiTypography-h1{font-size:6rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:300;line-height:1.167;letter-spacing:-.01562em}.MuiTypography-h2{font-size:3.75rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:300;line-height:1.2;letter-spacing:-.00833em}.MuiTypography-h3{font-size:3rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.167;letter-spacing:0}.MuiTypography-h4{font-size:2.125rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.235;letter-spacing:.00735em}.MuiTypography-h5{font-size:1.5rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.334;letter-spacing:0}.MuiTypography-h6{font-size:1.25rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.6;letter-spacing:.0075em}.MuiTypography-subtitle1{font-size:1rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.75;letter-spacing:.00938em}.MuiTypography-subtitle2{font-size:.875rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.57;letter-spacing:.00714em}.MuiTypography-overline{font-size:.75rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:2.66;letter-spacing:.08333em;text-transform:uppercase}.MuiTypography-srOnly{width:1px;height:1px;overflow:hidden;position:absolute}.MuiTypography-alignLeft{text-align:left}.MuiTypography-alignCenter{text-align:center}.MuiTypography-alignRight{text-align:right}.MuiTypography-alignJustify{text-align:justify}.MuiTypography-noWrap{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.MuiTypography-gutterBottom{margin-bottom:.35em}.MuiTypography-paragraph{margin-bottom:16px}.MuiTypography-colorInherit{color:inherit}.MuiTypography-colorPrimary{color:#3f51b5}.MuiTypography-colorSecondary{color:#f50057}.MuiTypography-colorTextPrimary{color:#fff}.MuiTypography-colorTextSecondary{color:rgba(255,255,255,.7)}.MuiTypography-colorError{color:#f44336}.MuiTypography-displayInline{display:inline}.MuiTypography-displayBlock{display:block}.MuiButton-root{color:#fff;padding:6px 16px;font-size:.875rem;min-width:64px;box-sizing:border-box;transition:background-color 250ms cubic-bezier(.4, 0, .2, 1) 0s,box-shadow 250ms cubic-bezier(.4, 0, .2, 1) 0s,border 250ms cubic-bezier(.4, 0, .2, 1) 0s;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.75;border-radius:4px;letter-spacing:.02857em;text-transform:uppercase}.MuiButton-root:hover{text-decoration:none;background-color:rgba(255,255,255,.08)}.MuiButton-root.Mui-disabled{color:rgba(255,255,255,.3)}@media (hover:none){.MuiButton-root:hover{background-color:transparent}}.MuiButton-root:hover.Mui-disabled{background-color:transparent}.MuiButton-label{width:100%;display:inherit;align-items:inherit;justify-content:inherit}.MuiButton-text{padding:6px 8px}.MuiButton-textPrimary{color:#3f51b5}.MuiButton-textPrimary:hover{background-color:rgba(63,81,181,.08)}@media (hover:none){.MuiButton-textPrimary:hover{background-color:transparent}}.MuiButton-textSecondary{color:#f50057}.MuiButton-textSecondary:hover{background-color:rgba(245,0,87,.08)}@media (hover:none){.MuiButton-textSecondary:hover{background-color:transparent}}.MuiButton-outlined{border:1px solid rgba(255,255,255,.23);padding:5px 15px}.MuiButton-outlined.Mui-disabled{border:1px solid rgba(255,255,255,.12)}.MuiButton-outlinedPrimary{color:#3f51b5;border:1px solid rgba(63,81,181,.5)}.MuiButton-outlinedPrimary:hover{border:1px solid #3f51b5;background-color:rgba(63,81,181,.08)}@media (hover:none){.MuiButton-outlinedPrimary:hover{background-color:transparent}}.MuiButton-outlinedSecondary{color:#f50057;border:1px solid rgba(245,0,87,.5)}.MuiButton-outlinedSecondary:hover{border:1px solid #f50057;background-color:rgba(245,0,87,.08)}.MuiButton-outlinedSecondary.Mui-disabled{border:1px solid rgba(255,255,255,.3)}@media (hover:none){.MuiButton-outlinedSecondary:hover{background-color:transparent}}.MuiButton-contained{color:rgba(0,0,0,.87);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);background-color:#e0e0e0}.MuiButton-contained:hover{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);background-color:#d5d5d5}.MuiButton-contained.Mui-focusVisible{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.MuiButton-contained:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.MuiButton-contained.Mui-disabled{color:rgba(255,255,255,.3);box-shadow:none;background-color:rgba(255,255,255,.12)}@media (hover:none){.MuiButton-contained:hover{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);background-color:#e0e0e0}}.MuiButton-contained:hover.Mui-disabled{background-color:rgba(255,255,255,.12)}.MuiButton-containedPrimary{color:#fff;background-color:#3f51b5}.MuiButton-containedPrimary:hover{background-color:#303f9f}@media (hover:none){.MuiButton-containedPrimary:hover{background-color:#3f51b5}}.MuiButton-containedSecondary{color:#fff;background-color:#f50057}.MuiButton-containedSecondary:hover{background-color:#c51162}@media (hover:none){.MuiButton-containedSecondary:hover{background-color:#f50057}}.MuiButton-disableElevation{box-shadow:none}.MuiButton-disableElevation:hover{box-shadow:none}.MuiButton-disableElevation.Mui-focusVisible{box-shadow:none}.MuiButton-disableElevation:active{box-shadow:none}.MuiButton-disableElevation.Mui-disabled{box-shadow:none}.MuiButton-colorInherit{color:inherit;border-color:currentColor}.MuiButton-textSizeSmall{padding:4px 5px;font-size:.8125rem}.MuiButton-textSizeLarge{padding:8px 11px;font-size:.9375rem}.MuiButton-outlinedSizeSmall{padding:3px 9px;font-size:.8125rem}.MuiButton-outlinedSizeLarge{padding:7px 21px;font-size:.9375rem}.MuiButton-containedSizeSmall{padding:4px 10px;font-size:.8125rem}.MuiButton-containedSizeLarge{padding:8px 22px;font-size:.9375rem}.MuiButton-fullWidth{width:100%}.MuiButton-startIcon{display:inherit;margin-left:-4px;margin-right:8px}.MuiButton-startIcon.MuiButton-iconSizeSmall{margin-left:-2px}.MuiButton-endIcon{display:inherit;margin-left:8px;margin-right:-4px}.MuiButton-endIcon.MuiButton-iconSizeSmall{margin-right:-2px}.MuiButton-iconSizeSmall>:first-child{font-size:18px}.MuiButton-iconSizeMedium>:first-child{font-size:20px}.MuiButton-iconSizeLarge>:first-child{font-size:22px}.MuiCard-root{overflow:hidden}.MuiContainer-root{width:100%;display:block;box-sizing:border-box;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px}@media (min-width:600px){.MuiContainer-root{padding-left:24px;padding-right:24px}}.MuiContainer-disableGutters{padding-left:0;padding-right:0}@media (min-width:600px){.MuiContainer-fixed{max-width:600px}}@media (min-width:960px){.MuiContainer-fixed{max-width:960px}}@media (min-width:1280px){.MuiContainer-fixed{max-width:1280px}}@media (min-width:1920px){.MuiContainer-fixed{max-width:1920px}}@media (min-width:0px){.MuiContainer-maxWidthXs{max-width:444px}}@media (min-width:600px){.MuiContainer-maxWidthSm{max-width:600px}}@media (min-width:960px){.MuiContainer-maxWidthMd{max-width:960px}}@media (min-width:1280px){.MuiContainer-maxWidthLg{max-width:1280px}}@media (min-width:1920px){.MuiContainer-maxWidthXl{max-width:1920px}}.MuiDivider-root{border:none;height:1px;margin:0;flex-shrink:0;background-color:rgba(255,255,255,.12)}.MuiDivider-absolute{left:0;width:100%;bottom:0;position:absolute}.MuiDivider-inset{margin-left:72px}.MuiDivider-light{background-color:rgba(255,255,255,.08)}.MuiDivider-middle{margin-left:16px;margin-right:16px}.MuiDivider-vertical{width:1px;height:100%}.MuiDivider-flexItem{height:auto;align-self:stretch}.MuiDrawer-docked{flex:0 0 auto}.MuiDrawer-paper{top:0;flex:1 0 auto;height:100%;display:flex;outline:0;z-index:1200;position:fixed;overflow-y:auto;flex-direction:column;-webkit-overflow-scrolling:touch}.MuiDrawer-paperAnchorLeft{left:0;right:auto}.MuiDrawer-paperAnchorRight{left:auto;right:0}.MuiDrawer-paperAnchorTop{top:0;left:0;right:0;bottom:auto;height:auto;max-height:100%}.MuiDrawer-paperAnchorBottom{top:auto;left:0;right:0;bottom:0;height:auto;max-height:100%}.MuiDrawer-paperAnchorDockedLeft{border-right:1px solid rgba(255,255,255,.12)}.MuiDrawer-paperAnchorDockedTop{border-bottom:1px solid rgba(255,255,255,.12)}.MuiDrawer-paperAnchorDockedRight{border-left:1px solid rgba(255,255,255,.12)}.MuiDrawer-paperAnchorDockedBottom{border-top:1px solid rgba(255,255,255,.12)}.MuiInputBase-root{color:#fff;cursor:text;display:inline-flex;position:relative;font-size:1rem;box-sizing:border-box;align-items:center;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.1876em;letter-spacing:.00938em}.MuiInputBase-root.Mui-disabled{color:rgba(255,255,255,.5);cursor:default}.MuiInputBase-multiline{padding:6px 0 7px}.MuiInputBase-multiline.MuiInputBase-marginDense{padding-top:3px}.MuiInputBase-fullWidth{width:100%}.MuiInputBase-input{font:inherit;color:currentColor;width:100%;border:0;height:1.1876em;margin:0;display:block;padding:6px 0 7px;min-width:0;background:0 0;box-sizing:content-box;animation-name:mui-auto-fill-cancel;letter-spacing:inherit;animation-duration:10ms;-webkit-tap-highlight-color:transparent}.MuiInputBase-input::-webkit-input-placeholder{color:currentColor;opacity:.5;-webkit-transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s;transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s}.MuiInputBase-input::-moz-placeholder{color:currentColor;opacity:.5;-moz-transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s;transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s}.MuiInputBase-input:-ms-input-placeholder{color:currentColor;opacity:.5;-ms-transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s;transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s}.MuiInputBase-input::-ms-input-placeholder{color:currentColor;opacity:.5;-ms-transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s;transition:opacity .2s cubic-bezier(.4, 0, .2, 1) 0s}.MuiInputBase-input:focus{outline:0}.MuiInputBase-input:invalid{box-shadow:none}.MuiInputBase-input::-webkit-search-decoration{-webkit-appearance:none}.MuiInputBase-input.Mui-disabled{opacity:1}.MuiInputBase-input:-webkit-autofill{animation-name:mui-auto-fill;animation-duration:5000s}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input::-webkit-input-placeholder{opacity:0!important}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input::-moz-placeholder{opacity:0!important}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input:-ms-input-placeholder{opacity:0!important}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input::-ms-input-placeholder{opacity:0!important}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input:focus::-webkit-input-placeholder{opacity:.5}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input:focus::-moz-placeholder{opacity:.5}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input:focus:-ms-input-placeholder{opacity:.5}label[data-shrink=false]+.MuiInputBase-formControl .MuiInputBase-input:focus::-ms-input-placeholder{opacity:.5}.MuiInputBase-inputMarginDense{padding-top:3px}.MuiInputBase-inputMultiline{height:auto;resize:none;padding:0}.MuiInputBase-inputTypeSearch{-moz-appearance:textfield;-webkit-appearance:textfield}.MuiFormControl-root{border:0;margin:0;display:inline-flex;padding:0;position:relative;min-width:0;flex-direction:column;vertical-align:top}.MuiFormControl-marginNormal{margin-top:16px;margin-bottom:8px}.MuiFormControl-marginDense{margin-top:8px;margin-bottom:4px}.MuiFormControl-fullWidth{width:100%}.MuiFormLabel-root{color:rgba(255,255,255,.7);padding:0;font-size:1rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1;letter-spacing:.00938em}.MuiFormLabel-root.Mui-focused{color:#3f51b5}.MuiFormLabel-root.Mui-disabled{color:rgba(255,255,255,.5)}.MuiFormLabel-root.Mui-error{color:#f44336}.MuiFormLabel-colorSecondary.Mui-focused{color:#f50057}.MuiFormLabel-asterisk.Mui-error{color:#f44336}.MuiInput-root{position:relative}label+.MuiInput-formControl{margin-top:16px}.MuiInput-colorSecondary.MuiInput-underline:after{border-bottom-color:#f50057}.MuiInput-underline:after{left:0;right:0;bottom:0;content:"";position:absolute;transform:scaleX(0);transition:transform .2s cubic-bezier(0, 0, .2, 1) 0s;border-bottom:2px solid #3f51b5;pointer-events:none}.MuiInput-underline.Mui-focused:after{transform:scaleX(1)}.MuiInput-underline.Mui-error:after{transform:scaleX(1);border-bottom-color:#f44336}.MuiInput-underline:before{left:0;right:0;bottom:0;content:"\00a0";position:absolute;transition:border-bottom-color .2s cubic-bezier(.4, 0, .2, 1) 0s;border-bottom:1px solid rgba(255,255,255,.7);pointer-events:none}.MuiInput-underline:hover:not(.Mui-disabled):before{border-bottom:2px solid #fff}.MuiInput-underline.Mui-disabled:before{border-bottom-style:dotted}@media (hover:none){.MuiInput-underline:hover:not(.Mui-disabled):before{border-bottom:1px solid rgba(255,255,255,.7)}}.MuiInputLabel-root{display:block;transform-origin:top left}.MuiInputLabel-root.Mui-focused{color:#fffFFFB3}.MuiInputLabel-formControl{top:0;left:0;position:absolute;transform:translate(0,24px) scale(1)}.MuiInputLabel-marginDense{transform:translate(0,21px) scale(1)}.MuiInputLabel-shrink{transform:translate(0,1.5px) scale(.75);transform-origin:top left}.MuiInputLabel-animated{transition:color .2s cubic-bezier(0, 0, .2, 1) 0s,transform .2s cubic-bezier(0, 0, .2, 1) 0s}.MuiInputLabel-filled{z-index:1;transform:translate(12px,20px) scale(1);pointer-events:none}.MuiInputLabel-filled.MuiInputLabel-marginDense{transform:translate(12px,17px) scale(1)}.MuiInputLabel-filled.MuiInputLabel-shrink{transform:translate(12px,10px) scale(.75)}.MuiInputLabel-filled.MuiInputLabel-shrink.MuiInputLabel-marginDense{transform:translate(12px,7px) scale(.75)}.MuiInputLabel-outlined{z-index:1;transform:translate(14px,20px) scale(1);pointer-events:none}.MuiInputLabel-outlined.MuiInputLabel-marginDense{transform:translate(14px,12px) scale(1)}.MuiInputLabel-outlined.MuiInputLabel-shrink{transform:translate(14px,-6px) scale(.75)}.MuiLink-underlineNone{text-decoration:none}.MuiLink-underlineHover{text-decoration:none}.MuiLink-underlineHover:hover{text-decoration:underline}.MuiLink-underlineAlways{text-decoration:underline}.MuiLink-button{border:0;cursor:pointer;margin:0;outline:0;padding:0;position:relative;-webkit-user-select:none;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent}.MuiLink-button::-moz-focus-inner{border-style:none}.MuiLink-button.Mui-focusVisible{outline:auto}.MuiPopover-paper{outline:0;position:absolute;max-width:calc(100% - 32px);min-width:16px;max-height:calc(100% - 32px);min-height:16px;overflow-x:hidden;overflow-y:auto}.MuiMenu-paper{max-height:calc(100% - 96px);-webkit-overflow-scrolling:touch}.MuiMenu-list{outline:0}.MuiSelect-select{cursor:pointer;min-width:16px;-webkit-user-select:none;user-select:none;border-radius:0;-moz-appearance:none;-webkit-appearance:none}.MuiSelect-select:focus{border-radius:0;background-color:rgba(255,255,255,.05)}.MuiSelect-select::-ms-expand{display:none}.MuiSelect-select.Mui-disabled{cursor:default}.MuiSelect-select[multiple]{height:auto}.MuiSelect-select:not([multiple]) optgroup,.MuiSelect-select:not([multiple]) option{background-color:#424242}.MuiSelect-select.MuiSelect-select{padding-right:24px}.MuiSelect-filled.MuiSelect-filled{padding-right:32px}.MuiSelect-outlined{border-radius:4px}.MuiSelect-outlined.MuiSelect-outlined{padding-right:32px}.MuiSelect-selectMenu{height:auto;overflow:hidden;min-height:1.1876em;white-space:nowrap;text-overflow:ellipsis}.MuiSelect-icon{top:calc(50% - 12px);color:#fff;right:0;position:absolute;pointer-events:none}.MuiSelect-icon.Mui-disabled{color:rgba(255,255,255,.3)}.MuiSelect-iconOpen{transform:rotate(180deg)}.MuiSelect-iconFilled{right:7px}.MuiSelect-iconOutlined{right:7px}.MuiSelect-nativeInput{left:0;width:100%;bottom:0;opacity:0;position:absolute;pointer-events:none}.MuiSnackbarContent-root{color:rgba(0,0,0,.87);display:flex;padding:6px 16px;flex-grow:1;flex-wrap:wrap;font-size:.875rem;align-items:center;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;border-radius:4px;letter-spacing:.01071em;background-color:#fafafa}@media (min-width:600px){.MuiSnackbarContent-root{flex-grow:initial;min-width:288px}}.MuiSnackbarContent-message{padding:8px 0}.MuiSnackbarContent-action{display:flex;align-items:center;margin-left:auto;margin-right:-8px;padding-left:16px}.MuiSnackbar-root{left:8px;right:8px;display:flex;z-index:1400;position:fixed;align-items:center;justify-content:center}.MuiSnackbar-anchorOriginTopCenter{top:8px}@media (min-width:600px){.MuiSnackbar-anchorOriginTopCenter{top:24px;left:50%;right:auto;transform:translateX(-50%)}}.MuiSnackbar-anchorOriginBottomCenter{bottom:8px}@media (min-width:600px){.MuiSnackbar-anchorOriginBottomCenter{left:50%;right:auto;bottom:24px;transform:translateX(-50%)}}.MuiSnackbar-anchorOriginTopRight{top:8px;justify-content:flex-end}@media (min-width:600px){.MuiSnackbar-anchorOriginTopRight{top:24px;left:auto;right:24px}}.MuiSnackbar-anchorOriginBottomRight{bottom:8px;justify-content:flex-end}@media (min-width:600px){.MuiSnackbar-anchorOriginBottomRight{left:auto;right:24px;bottom:24px}}.MuiSnackbar-anchorOriginTopLeft{top:8px;justify-content:flex-start}@media (min-width:600px){.MuiSnackbar-anchorOriginTopLeft{top:24px;left:24px;right:auto}}.MuiSnackbar-anchorOriginBottomLeft{bottom:8px;justify-content:flex-start}@media (min-width:600px){.MuiSnackbar-anchorOriginBottomLeft{left:24px;right:auto;bottom:24px}}.MuiToolbar-root{display:flex;position:relative;align-items:center}.MuiToolbar-gutters{padding-left:16px;padding-right:16px}@media (min-width:600px){.MuiToolbar-gutters{padding-left:24px;padding-right:24px}}.MuiToolbar-regular{min-height:56px}@media (min-width:0px) and (orientation:landscape){.MuiToolbar-regular{min-height:48px}}@media (min-width:600px){.MuiToolbar-regular{min-height:64px}}.MuiToolbar-dense{min-height:48px}.MuiTooltip-popper{z-index:1500;pointer-events:none}.MuiTooltip-popperInteractive{pointer-events:auto}.MuiTooltip-popperArrow[x-placement*=bottom] .MuiTooltip-arrow{top:0;left:0;margin-top:-.71em;margin-left:4px;margin-right:4px}.MuiTooltip-popperArrow[x-placement*=top] .MuiTooltip-arrow{left:0;bottom:0;margin-left:4px;margin-right:4px;margin-bottom:-.71em}.MuiTooltip-popperArrow[x-placement*=right] .MuiTooltip-arrow{left:0;width:.71em;height:1em;margin-top:4px;margin-left:-.71em;margin-bottom:4px}.MuiTooltip-popperArrow[x-placement*=left] .MuiTooltip-arrow{right:0;width:.71em;height:1em;margin-top:4px;margin-right:-.71em;margin-bottom:4px}.MuiTooltip-popperArrow[x-placement*=left] .MuiTooltip-arrow::before{transform-origin:0 0}.MuiTooltip-popperArrow[x-placement*=right] .MuiTooltip-arrow::before{transform-origin:100% 100%}.MuiTooltip-popperArrow[x-placement*=top] .MuiTooltip-arrow::before{transform-origin:100% 0}.MuiTooltip-popperArrow[x-placement*=bottom] .MuiTooltip-arrow::before{transform-origin:0 100%}.MuiTooltip-tooltip{color:#fff;padding:4px 8px;font-size:.625rem;max-width:300px;word-wrap:break-word;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:500;line-height:1.4em;border-radius:4px;background-color:rgba(97,97,97,.9)}.MuiTooltip-tooltipArrow{margin:0;position:relative}.MuiTooltip-arrow{color:rgba(97,97,97,.9);width:1em;height:.71em;overflow:hidden;position:absolute;box-sizing:border-box}.MuiTooltip-arrow::before{width:100%;height:100%;margin:auto;content:"";display:block;transform:rotate(45deg);background-color:currentColor}.MuiTooltip-touch{padding:8px 16px;font-size:.875rem;font-weight:400;line-height:1.14286em}.MuiTooltip-tooltipPlacementLeft{margin:0 24px;transform-origin:right center}@media (min-width:600px){.MuiTooltip-tooltipPlacementLeft{margin:0 14px}}.MuiTooltip-tooltipPlacementRight{margin:0 24px;transform-origin:left center}@media (min-width:600px){.MuiTooltip-tooltipPlacementRight{margin:0 14px}}.MuiTooltip-tooltipPlacementTop{margin:24px 0;transform-origin:center bottom}@media (min-width:600px){.MuiTooltip-tooltipPlacementTop{margin:14px 0}}.MuiTooltip-tooltipPlacementBottom{margin:24px 0;transform-origin:center top}@media (min-width:600px){.MuiTooltip-tooltipPlacementBottom{margin:14px 0}}.jss20{width:40px;border:none;cursor:pointer;height:32px;outline:0;font-size:1.2rem;box-shadow:none;margin-left:5px;background-color:transparent}.jss15{font-family:"FV Almelo"}.jss18 .MuiSelect-icon{display:none}.jss18 .MuiSelect-select.MuiSelect-select{padding:5px 16px}.jss16{width:40px;height:32px;padding-top:3px}.jss17{border:none;cursor:pointer;outline:0;font-size:1.2rem;box-shadow:none;margin-left:5px;text-decoration:none;background-color:transparent}.jss17:hover{text-decoration:none}.jss12{margin-right:15px}.jss12:hover{cursor:pointer}.jss13{display:inline-flex;margin-left:auto}.jss21{width:250px}.jss22{margin:10px}.jss23{margin:0 auto}.jss25{margin-left:10px}.jss34{width:80px;cursor:pointer;height:80px;position:relative;object-fit:cover;margin-left:5px;border-radius:50%}.jss30{color:#fff;width:100%;bottom:0;height:auto;margin:auto;padding:10px 0;z-index:9999;position:absolute;background:rgb(0 0 0 / 40%);text-align:center;text-transform:uppercase;text-decoration:inherit}.jss31{color:#fff;width:100%;height:100%;display:flex;background:#333;align-items:center;justify-content:center}.jss32 a,.jss32 h1,.jss32 p{margin:0;padding:10px 25px;background:rgb(0 0 0 / 40%)}.jss26{width:80px;cursor:pointer;height:80px;position:relative;object-fit:cover;margin-left:5px;border-radius:50%}.jss27{width:100%;height:100%;object-fit:cover;object-position:center}.jss28{margin:15px 0}.jss29{margin:15px 0}.jss8{background:#303030ba}.jss9{height:100%}.jss11{padding:20px 0}.jss11 a{color:#8da4f7;text-decoration:none}.jss11 a:visited{color:#48578a;text-decoration:none}.jss11 a:hover{text-decoration:underline}.jss37 .highlighted-text{color:#fff;padding:3px 2px;background-color:#00909e}.jss37 .instagram-embed{text-align:center}.jss37 a{color:#8da4f7}.jss37 a:visited{color:#48578a}.jss37 .embedVideo-iframe{padding:10px 5%}.jss37 .gatsby-remark-local-videos{padding:10px 5%}.jss37 blockquote{margin:1.5em 10px;quotes:"“" "”";padding:.5em 10px;border-left:10px solid #403f3f;background-color:#4a4a4a}.jss37 .gatsby-resp-image-wrapper{margin:10px auto}.jss37 .language-text{color:#f77;padding:2px 3px;word-wrap:break-word;font-style:italic;border-radius:5px;overflow-wrap:break-word;background-color:#393939}.jss37 .gatsby-resp-image-figcaption{font-style:italic;margin-top:-8px;text-align:center}.jss37 .gatsby-resp-image-figure{margin:auto}.jss37 p>img:not([class]){margin:auto;display:block;max-width:min(1024px,100%)}.jss37 blockquote:before{color:#ccc;content:open-quote;font-size:4em;line-height:.1em;margin-right:.25em;vertical-align:-2rem}.jss37 .gatsby-highlight code[class*=language-],.jss37 .gatsby-highlight pre[class*=language-]{color:inherit;-webkit-hyphens:none;hyphens:none;tab-size:4;font-size:1em;word-wrap:normal;text-align:left;word-break:normal;font-family:Roboto Mono,monospace;line-height:1.5em;text-shadow:none;white-space:pre;word-spacing:normal}.jss37 .gatsby-highlight code[class*=language-] ::selection,.jss37 .gatsby-highlight code[class*=language-]::selection,.jss37 .gatsby-highlight pre[class*=language-] ::selection,.jss37 .gatsby-highlight pre[class*=language-]::selection{color:#263238;opacity:1;background:#cceae7;text-shadow:none}.jss37 .gatsby-highlight :not(pre)>code[class*=language-]{color:#90a4ae;padding:.1em;background:#3c3c3cc4;white-space:normal;border-radius:.2em}.jss37 .gatsby-highlight pre>code[class*=language-]{background:0 0}.jss37 .gatsby-highlight pre[class*=language-]{color:#90a4ae;margin:.5em 0;padding:1.25em 1em;overflow:auto;position:relative;background:#3c3c3cc4;border-radius:0}.jss37 .gatsby-highlight pre[class*=language-].language-css>code,.jss37 .gatsby-highlight pre[class*=language-].language-sass>code,.jss37 .gatsby-highlight pre[class*=language-].language-scss>code{color:#f76d47}.jss37 .gatsby-highlight [class*=language-] .namespace{opacity:.7}.jss37 .gatsby-highlight .token.atrule{color:#7c4dff}.jss37 .gatsby-highlight .token.attr-name{color:#39adb5}.jss37 .gatsby-highlight .token.attr-value{color:#f6a434}.jss37 .gatsby-highlight .token.attribute{color:#f6a434}.jss37 .gatsby-highlight .token.boolean{color:#7c4dff}.jss37 .gatsby-highlight .token.builtin{color:#39adb5}.jss37 .gatsby-highlight .token.cdata{color:#39adb5}.jss37 .gatsby-highlight .token.char{color:#39adb5}.jss37 .gatsby-highlight .token.class{color:#39adb5}.jss37 .gatsby-highlight .token.class-name{color:#6182b8}.jss37 .gatsby-highlight .token.comment{color:#aabfc9}.jss37 .gatsby-highlight .token.constant{color:#7c4dff}.jss37 .gatsby-highlight .token.deleted{color:#e53935}.jss37 .gatsby-highlight .token.doctype{color:#aabfc9}.jss37 .gatsby-highlight .token.entity{color:#e53935}.jss37 .gatsby-highlight .token.function{color:#7c4dff}.jss37 .gatsby-highlight .token.hexcode{color:#f76d47}.jss37 .gatsby-highlight .token.id{color:#7c4dff;font-weight:700}.jss37 .gatsby-highlight .token.important{color:#7c4dff;font-weight:700}.jss37 .gatsby-highlight .token.inserted{color:#39adb5}.jss37 .gatsby-highlight .token.keyword{color:#7c4dff}.jss37 .gatsby-highlight .token.number{color:#f76d47}.jss37 .gatsby-highlight .token.operator{color:#39adb5}.jss37 .gatsby-highlight .token.prolog{color:#aabfc9}.jss37 .gatsby-highlight .token.property{color:#39adb5}.jss37 .gatsby-highlight .token.pseudo-class{color:#f6a434}.jss37 .gatsby-highlight .token.pseudo-element{color:#f6a434}.jss37 .gatsby-highlight .token.punctuation{color:#39adb5}.jss37 .gatsby-highlight .token.regex{color:#6182b8}.jss37 .gatsby-highlight .token.selector{color:#e53935}.jss37 .gatsby-highlight .token.string{color:#f6a434}.jss37 .gatsby-highlight .token.symbol{color:#7c4dff}.jss37 .gatsby-highlight .token.tag{color:#e53935}.jss37 .gatsby-highlight .token.unit{color:#f76d47}.jss37 .gatsby-highlight .token.url{color:#e53935}.jss37 .gatsby-highlight .token.variable{color:#e53935}.jss37 .gatsby-highlight @media print code[class*=language-],.jss37 .gatsby-highlight @media print pre[class*=language-]{text-shadow:none!important}.jss37 .instagram-embed iframe{width:400px;height:554px}.jss38{font-size:1.5rem}.jss39{font-size:1.2rem}.jss40{padding:0 5px}.jss44{margin-top:20px}.jss45{padding:10px;border-bottom:solid 1px #383838}.jss45:last-child{border-bottom:none}.jss46{font-size:.9rem}.jss41{margin-bottom:10px}.jss42{cursor:pointer}.jss42 a{text-decoration:none}@media (min-width:760px){.jss42{width:32%;display:inline-block;margin-right:1.5%}.jss42:last-child{margin-right:.5%}.jss42:first-child{margin-left:.5%}}@media (max-width:759.95px){.jss42{width:100%;margin:5px}}.jss42 a:hover{text-decoration:underline;text-decoration-color:#9a9a9a}.jss43{padding:10px}.jss35{color:#adadad;margin:10px 0 0 0;display:flex;padding:0;font-style:italic;list-style:none}.jss35 a{color:#adadad}.jss35 a:visited{color:#adadad}.jss36{margin-right:5px}.jss1{margin:0 0 20px}.jss2{margin:10px 0}.jss3{margin:0 0 20px}.jss4{margin-top:10px}.jss5{margin:0;padding:0}.jss6{display:inline;padding:0;list-style:none}.jss6 a{color:#8da4f7}.jss6 a:visited{color:#48578a}.jss6::after{content:", "}.jss6:last-child::after{content:""}.jss7 .copy-code-button{float:right;height:25px;z-index:1;margin-top:8px;margin-left:-100%;margin-right:8px}.jss7 .copy-code-block code[class*=language-]{display:block;margin-top:25px}</style><link as="script" rel="preload" href="/webpack-runtime-836ef63cb83949429fe5.js"/><link as="script" rel="preload" href="/framework-676faaaf804db98cee52.js"/><link as="script" rel="preload" href="/eaafc78b-b53461537c493658f477.js"/><link as="script" rel="preload" href="/c2b2cfdd-f0c59ad8d0b1e27144de.js"/><link as="script" rel="preload" href="/app-c0f78eba1fbcbce45668.js"/><link as="fetch" rel="preload" href="/page-data/en/blog/coding/how-to-create-a-top-down-rpg-maker-like-game-with-phaser-js-and-react/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1156153307.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1355482417.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1591365477.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1628619374.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2127381735.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2288279559.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/26159077.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3566410298.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3847325417.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3982724423.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/928834867.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div></div><header class="MuiPaper-root MuiAppBar-root MuiAppBar-positionSticky MuiAppBar-colorDefault jss14 MuiPaper-elevation4"><div class="MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/"><h5 class="MuiTypography-root jss15 MuiTypography-h5 MuiTypography-colorTextPrimary">pablo.gg</h5></a><div class="jss13"><div class="jss16"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover jss17 MuiTypography-colorPrimary" href="/en/game">🎮</a></div><div class="MuiInputBase-root MuiInput-root jss18"><div class="MuiSelect-root MuiSelect-select MuiSelect-selectMenu MuiInputBase-input MuiInput-input" tabindex="0" role="button" aria-haspopup="listbox"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 640 480" aria-hidden="true"><defs id="defs155"><clipPath id="clipPath4293" clipPathUnits="userSpaceOnUse"><rect id="rect4295" fill-opacity="0.67" height="512" width="682.67" y=".0000052307" x="0"></rect></clipPath></defs><g id="flag" fill-rule="evenodd" clip-path="url(#clipPath4293)" transform="matrix(.93750 0 0 .93750 0 -.0000049038)"><g id="g390" stroke-width="1pt" transform="matrix(3.9385 0 0 3.9385 0 .000005)"><g id="g169" fill="#bd3d44"><rect id="rect156" height="10" width="247" y="0" x="0"></rect><rect id="rect158" height="10" width="247" y="20" x="0"></rect><rect id="rect160" height="10" width="247" y="40" x="0"></rect><rect id="rect162" height="10" width="247" y="60" x="0"></rect><rect id="rect164" height="10" width="247" y="80" x="0"></rect><rect id="rect166" height="10" width="247" y="100" x="0"></rect><rect id="rect168" height="10" width="247" y="120" x="0"></rect></g><g id="g177" fill="#fff"><rect id="rect157" height="10" width="247" y="10" x="0"></rect><rect id="rect159" height="10" width="247" y="30" x="0"></rect><rect id="rect161" height="10" width="247" y="50" x="0"></rect><rect id="rect163" height="10" width="247" y="70" x="0"></rect><rect id="rect165" height="10" width="247" y="90" x="0"></rect><rect id="rect167" height="10" width="247" y="110" x="0"></rect></g></g><rect id="rect200" height="275.69" width="389.12" y="0.000005" x="0" stroke-width="1pt" fill="#192f5d"></rect><g id="g274" fill="#fff" transform="matrix(3.9385 0 0 3.9385 0 .000005)"><g id="g218"><g id="g194"><polygon id="polygon207" transform="translate(8.2333 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon188" transform="translate(24.7,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon189" transform="translate(41.167 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon190" transform="translate(57.633 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon191" transform="translate(74.1,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon192" transform="translate(90.567 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g><g id="g205"><polygon id="polygon193" transform="translate(16.467 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon201" transform="translate(32.933 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon202" transform="translate(49.4,14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon203" transform="translate(65.867 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon204" transform="translate(82.333 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g></g><g id="g232" transform="translate(0,14)"><g id="g233"><polygon id="polygon234" transform="translate(8.2333 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon235" transform="translate(24.7,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon236" transform="translate(41.167 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon237" transform="translate(57.633 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon238" transform="translate(74.1,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon239" transform="translate(90.567 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g><g id="g240"><polygon id="polygon241" transform="translate(16.467 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon242" transform="translate(32.933 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon243" transform="translate(49.4,14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon244" transform="translate(65.867 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon245" transform="translate(82.333 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g></g><g id="g246" transform="translate(0,28)"><g id="g247"><polygon id="polygon248" transform="translate(8.2333 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon249" transform="translate(24.7,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon250" transform="translate(41.167 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon251" transform="translate(57.633 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon252" transform="translate(74.1,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon253" transform="translate(90.567 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g><g id="g254"><polygon id="polygon255" transform="translate(16.467 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon256" transform="translate(32.933 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon257" transform="translate(49.4,14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon258" transform="translate(65.867 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon259" transform="translate(82.333 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g></g><g id="g260" transform="translate(0,42)"><g id="g261"><polygon id="polygon262" transform="translate(8.2333 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon263" transform="translate(24.7,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon264" transform="translate(41.167 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon265" transform="translate(57.633 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon266" transform="translate(74.1,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon267" transform="translate(90.567 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g><g id="g268"><polygon id="polygon269" transform="translate(16.467 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon270" transform="translate(32.933 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon271" transform="translate(49.4,14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon272" transform="translate(65.867 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon273" transform="translate(82.333 14)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g></g><g id="g211" transform="translate(0,56)"><polygon id="polygon212" transform="translate(8.2333 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon213" transform="translate(24.7,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon214" transform="translate(41.167 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon215" transform="translate(57.633 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon216" transform="translate(74.1,7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon><polygon id="polygon217" transform="translate(90.567 7)" d="M 1.3084868e-6,-4.0040002 0.89895399,-1.237304 3.8080309,-1.2373029 1.4545381,0.47260808 2.3534912,3.239305 0,1.5293919 l -2.3534933,1.7099115 0.8989552,-2.76669531 -2.353492,-1.70991339 2.9090761,1.3e-6 z" points="0 -4.004 0.89895 -1.2373 3.808 -1.2373 1.4545 0.47261 2.3535 3.2393 0 1.5294 -2.3535 3.2393 -1.4545 0.47261 -3.808 -1.2373 -0.89895 -1.2373"></polygon></g></g></g></svg></div><input value="en" aria-hidden="true" tabindex="-1" class="MuiSelect-nativeInput"/><svg class="MuiSvgIcon-root MuiSelect-icon" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5z"></path></svg></div><div class="jss19"><button type="button" class="jss20">🌛</button></div></div></div></header><div></div><div class="MuiContainer-root jss8 MuiContainer-maxWidthLg"><hr class="MuiDivider-root"/><div class="jss28"><div class="jss29"><img alt="coding" src="/static/aa17d098a6a0d8e0a764a345865f5ffb/a764f/categories_coding.jpg" class="jss33 jss34"/></div><hr class="MuiDivider-root"/></div><main class="jss10"><article class="breadcrumbs"><ol class="jss35"><li class="jss36"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog">Blog</a><meta itemProp="position" content="1"/> ➔</li><li class="jss36"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/categories/coding">Coding</a><meta itemProp="position" content="2"/> ↴</li></ol></article><article class="jss37 jss7"><header><p class="MuiTypography-root jss38 MuiTypography-body1 MuiTypography-colorTextPrimary">How to create a top-down RPG Maker like game with Phaser JS and React</p><small class="MuiTypography-root MuiTypography-body2 MuiTypography-colorTextSecondary">Written in <!-- -->October 8, 2021<!-- --> - <!-- -->🕒 16 min. read</small></header><section class="jss40"><p>My first experience in “programming” started in 2002, when I was making games with RPG Maker, when I learned what a variable, data persistence, and loops were.</p>
<p>I never got to publish any of the games I made, but it was kind of always my dream so now that I have about 2 years of Phaser experience, I decided to make a small game in the same style as the RPG Makers I used to make. in 2002.</p>
<h2 id="integrating-react-with-phaser" style="position:relative;"><a href="#integrating-react-with-phaser" aria-label="integrating react with phaser permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Integrating React with Phaser</h2>
<p>Phaser works by rendering pixels inside a <code class="language-text">canvas</code> element in the DOM, and it’s great, but one of the great features of web development is the power of the DOM and CSS to create great UI elements, and you can’t do that with Phaser alone.</p>
<p>The simplest way to use Phaser with React is with a functional component like the one below.</p>
<div class="copy-code-block"><button tabindex="0" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Phaser <span class="token keyword">from</span> <span class="token string">'phaser'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">GameComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> game <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phaser<span class="token punctuation">.</span>Game</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>configs<span class="token punctuation">,</span>
        <span class="token literal-property property">parent</span><span class="token operator">:</span> <span class="token string">'game-content'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"game-content"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> GameComponent<span class="token punctuation">;</span></code></pre></div></div>
<h2 id="using-react-for-the-game-ui" style="position:relative;"><a href="#using-react-for-the-game-ui" aria-label="using react for the game ui permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using React for the game UI</h2>
<p>To make Phaser communicate back and forth with React, like to show a menu item or a dialog box, I will dispatch JavaScript events between Phaser and React.</p>
<p>The best way to do it would be with some sort of state management tool like <a href="https://facebook.github.io/flux/" target="_blank" rel="noreferrer">Flux</a>, but since this is just a very small project, dispatching JavaScript events will work for now.</p>
<div class="copy-code-block"><button tabindex="1" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// React component</span>
<span class="token keyword">function</span> <span class="token function">GameComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>messages<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>showDialogBox<span class="token punctuation">,</span> setShowDialogBox<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token function-variable function">dialogBoxEventListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> detail <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setMessage</span><span class="token punctuation">(</span>detail<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setShowDialogBox</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'start-dialog'</span><span class="token punctuation">,</span> dialogBoxEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'start-dialog'</span><span class="token punctuation">,</span> dialogBoxEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> handleMessageIsDone <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> customEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">'end-dialog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>customEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setShowDialogBox</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>characterName<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>showDialogBox <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
                <span class="token operator">&lt;</span>DialogBox
                    message<span class="token operator">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span>
                    onDone<span class="token operator">=</span><span class="token punctuation">{</span>handleMessageIsDone<span class="token punctuation">}</span>
                <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"game-content"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Phaser scene</span>
<span class="token keyword">class</span> <span class="token class-name">GameScene</span> <span class="token keyword">extends</span> <span class="token class-name">Phaser<span class="token punctuation">.</span>Scene</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">'GameScene'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token function-variable function">dialogBoxFinishedEventListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'end-dialog'</span><span class="token punctuation">,</span> dialogBoxFinishedEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Do whatever is needed when the dialog is over</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'end-dialog'</span><span class="token punctuation">,</span> dialogBoxFinishedEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p><img src="/18452438d2251249518c712d8873e89a/react-dialog-box.gif" alt="Dialog box"></p>
<p>If you want more details on how to create a React dialog box for your Phaser game, <a href="/en/blog/coding/creating-a-dialog-box-with-react-for-a-phaser-game/">check my blog post on it</a>.</p>
<h2 id="using-grid-engine-and-loading-tiled-map" style="position:relative;"><a href="#using-grid-engine-and-loading-tiled-map" aria-label="using grid engine and loading tiled map permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using grid-engine and loading Tiled map</h2>
<p>To create the map I will again use Tiled, which is a FOSS in which you can create maps and use them in almost any game engine.</p>
<p>The <code class="language-text">tileset</code> I’m using for my map is the <a href="https://opengameart.org/content/zelda-like-tilesets-and-sprites" target="_blank" rel="noreferrer">Zelda-like tileset</a> created by <a href="https://itch.io/profile/armm1998" target="_blank" rel="noreferrer">ArMM1998</a>, which includes indoor and outdoor tilesets.</p>
<p>After the map is done, <a href="/en/blog/games/automatically-update-the-embedded-tileset-for-all-your-tiled-game-with-a-nodejs-script/">I will embed the tileset into the map</a>, and then I can simply import the map and <code class="language-text">tileset</code> file into my game and load them in Phaser.</p>
<div class="copy-code-block"><button tabindex="2" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> mainMapaJson <span class="token keyword">from</span> <span class="token string">'../../../content/assets/game/maps/main-map.json'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> tilesetImage <span class="token keyword">from</span> <span class="token string">'../../../content/assets/game/maps/tileset.png'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">GameScene</span> <span class="token keyword">extends</span> <span class="token class-name">Phaser<span class="token punctuation">.</span>Scene</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">'GameScene'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">preload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>load<span class="token punctuation">.</span><span class="token function">tilemapTiledJSON</span><span class="token punctuation">(</span><span class="token string">'main-map'</span><span class="token punctuation">,</span> mainMapaJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>load<span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token string">'tileset'</span><span class="token punctuation">,</span> tilesetImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p>Now to add the grid-engine into Phaser, just configure your game to use arcade physics and add grid-engine as a plugin, like shown below.</p>
<div class="copy-code-block"><button tabindex="3" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> game <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phaser<span class="token punctuation">.</span>Game</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>configs<span class="token punctuation">,</span>
    <span class="token literal-property property">parent</span><span class="token operator">:</span> <span class="token string">'game-content'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">physics</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'arcade'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">scene</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'gridEngine'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">plugin</span><span class="token operator">:</span> GridEngine<span class="token punctuation">,</span>
                <span class="token literal-property property">mapping</span><span class="token operator">:</span> <span class="token string">'gridEngine'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>Now I can access the plugin via <code class="language-text">this.gridEngine</code> inside any Phaser game scene. The next step is to create a sprite and move it with the grid-engine plugin.</p>
<div class="copy-code-block"><button tabindex="4" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>make<span class="token punctuation">.</span><span class="token function">tilemap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'main-map'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addTilesetImage</span><span class="token punctuation">(</span><span class="token string">'tileset'</span><span class="token punctuation">,</span> <span class="token string">'tileset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span>layers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">layer<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">createLayer</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token string">'tileset'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> heroSprite <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">sprite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'hero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> gridEngineConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">characters</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'hero'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">sprite</span><span class="token operator">:</span> heroSprite<span class="token punctuation">,</span>
            <span class="token literal-property property">startPosition</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> gridEngineConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cursors <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span>keyboard<span class="token punctuation">.</span><span class="token function">createCursorKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>cursors<span class="token punctuation">.</span>left<span class="token punctuation">.</span>isDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">,</span> <span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cursors<span class="token punctuation">.</span>right<span class="token punctuation">.</span>isDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">,</span> <span class="token string">'right'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cursors<span class="token punctuation">.</span>up<span class="token punctuation">.</span>isDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">,</span> <span class="token string">'up'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cursors<span class="token punctuation">.</span>down<span class="token punctuation">.</span>isDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">,</span> <span class="token string">'down'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p>This code was pretty much copied and pasted from <a href="https://annoraaq.github.io/grid-engine/examples/basic-movement.html" target="_blank" rel="noreferrer">their official documentation page</a>.</p>
<p>To make collisions work automatically with a map created on Tiled, just add the property <code class="language-text">ge_collide</code> set to <code class="language-text">true</code> for the tiles the hero is supposed to collide with.</p>
<p>Notice that this will make the hero move and collide with objects, but there is no walking animation. To create new sprite animations I will use the <code class="language-text">this.anims.create()</code> function, and then play that animation every time the grid-engine tells me that the player moved, with the <code class="language-text">movementStarted</code>, <code class="language-text">movementStopped</code> and <code class="language-text">directionChanged</code> events dispatched by the grid-engine.</p>
<div class="copy-code-block"><button tabindex="5" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> heroSprite <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">sprite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'hero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createHeroWalkingAnimation</span><span class="token punctuation">(</span><span class="token string">'up'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createHeroWalkingAnimation</span><span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createHeroWalkingAnimation</span><span class="token punctuation">(</span><span class="token string">'down'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createHeroWalkingAnimation</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> gridEngineConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">movementStarted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> direction <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        heroSprite<span class="token punctuation">.</span>anims<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">movementStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> direction <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        heroSprite<span class="token punctuation">.</span>anims<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        heroSprite<span class="token punctuation">.</span><span class="token function">setFrame</span><span class="token punctuation">(</span><span class="token string">'down_01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">directionChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> direction <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        heroSprite<span class="token punctuation">.</span><span class="token function">setFrame</span><span class="token punctuation">(</span><span class="token string">'down_01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">createHeroWalkingAnimation</span><span class="token punctuation">(</span><span class="token parameter">direction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>anims<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> direction<span class="token punctuation">,</span>
        <span class="token literal-property property">frames</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'hero'</span><span class="token punctuation">,</span> <span class="token literal-property property">frame</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>direction<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_01</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'hero'</span><span class="token punctuation">,</span> <span class="token literal-property property">frame</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>direction<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_02</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">frameRate</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token literal-property property">repeat</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">yoyo</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div>
<h2 id="creating-hero-interactions" style="position:relative;"><a href="#creating-hero-interactions" aria-label="creating hero interactions permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating hero interactions</h2>
<p>The hero must be able to interact with the world, for example going into an NPC and talking to them.</p>
<p>That sounds simple, but how to achieve that with Phaser? There are many ways to do it, but the easiest is to create a custom collider that will always be in front of the hero, and that custom collider will interact with all objects in the game.</p>
<p>First I’m going to create an object using the <code class="language-text">Phaser.GameObjects.Rectangle</code> class:</p>
<div class="copy-code-block"><button tabindex="6" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">GameObjects<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOrigin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">existing</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setImmovable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>Now I need to make this custom collider always stay in front of the hero, for that I’m going to use the <code class="language-text">update</code> function.</p>
<div class="copy-code-block"><button tabindex="7" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> facingDirection <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">getFacingDirection</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>facingDirection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'down'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">case</span> <span class="token string">'up'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">case</span> <span class="token string">'left'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">case</span> <span class="token string">'right'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">.</span><span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// will never happen</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div>
<h2 id="adding-interactive-tiles" style="position:relative;"><a href="#adding-interactive-tiles" aria-label="adding interactive tiles permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding interactive tiles</h2>
<p>Now that I have the <code class="language-text">this.heroActionCollider</code> variable, let’s make the world a bit more interactive. I want the hero to be able to cut grass and the push boxes, so first I will create a layer called <code class="language-text">test</code> in my map and add the grass and box tiles.</p>
<div class="copy-code-block"><button tabindex="8" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">map<span class="token punctuation">.</span>layers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">layer<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    map<span class="token punctuation">.</span><span class="token function">createLayer</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token string">'tileset'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>layer<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'test'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        layer<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tile</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tile<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>In my case, my grass tile index is <code class="language-text">428</code>, and my box tile index is <code class="language-text">427</code>, and with this information, I can start coding my interactions.</p>
<p>First I will create a <code class="language-text">GameGroup</code> with <code class="language-text">this.add.group()</code> and add my interactive layers to it, and then create an overlap between <code class="language-text">this.heroActionCollider</code> and <code class="language-text">interactiveLayers</code> with the <code class="language-text">this.physics.add.overlap()</code> function.</p>
<div class="copy-code-block"><button tabindex="9" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> interactiveLayers <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span>layers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">layer<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    map<span class="token punctuation">.</span><span class="token function">createLayer</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token string">'tileset'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>layer<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'interactions'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        interactiveLayers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">GRASS_INDEX</span> <span class="token operator">=</span> <span class="token number">428</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">BOX_INDEX</span> <span class="token operator">=</span> <span class="token number">427</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">overlap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">,</span> interactiveLayers<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">objA<span class="token punctuation">,</span> objB</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> tile <span class="token operator">=</span> <span class="token punctuation">[</span>objA<span class="token punctuation">,</span> objB<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> obj <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>tile<span class="token operator">?.</span>index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>tile<span class="token punctuation">.</span>wasHandled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>tile<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token constant">GRASS_INDEX</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                tile<span class="token punctuation">.</span>wasHandled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">case</span> <span class="token constant">BOX_INDEX</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                tile<span class="token punctuation">.</span>wasHandled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>For the cutting grass action, I will check if the <code class="language-text">SPACE</code> key is down with <code class="language-text">Input.Keyboard.JustDown()</code>, and if it is, destroy that tile.</p>
<div class="copy-code-block"><button tabindex="10" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>spaceKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span>keyboard<span class="token punctuation">.</span><span class="token function">addKey</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span>Keyboard<span class="token punctuation">.</span>KeyCodes<span class="token punctuation">.</span><span class="token constant">SPACE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">overlap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">,</span> interactiveLayers<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">objA<span class="token punctuation">,</span> objB</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> tile <span class="token operator">=</span> <span class="token punctuation">[</span>objA<span class="token punctuation">,</span> objB<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> obj <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>tile<span class="token operator">?.</span>index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>tile<span class="token punctuation">.</span>wasHandled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>tile<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token constant">GRASS_INDEX</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span>Keyboard<span class="token punctuation">.</span><span class="token function">JustDown</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>spaceKey<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    tile<span class="token punctuation">.</span>wasHandled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

                    <span class="token comment">// Wait a little bit for the attack animation to be over</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">delayedCall</span><span class="token punctuation">(</span>
                        <span class="token number">50</span><span class="token punctuation">,</span>
                        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                            tile<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            tile<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>For the pushing box action, I will also check if the <code class="language-text">SPACE</code> key is down, and then move the tile with <code class="language-text">this.tweens.add()</code>.</p>
<div class="copy-code-block"><button tabindex="11" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>spaceKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span>keyboard<span class="token punctuation">.</span><span class="token function">addKey</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span>Keyboard<span class="token punctuation">.</span>KeyCodes<span class="token punctuation">.</span><span class="token constant">SPACE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">overlap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">,</span> interactiveLayers<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">objA<span class="token punctuation">,</span> objB</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> tile <span class="token operator">=</span> <span class="token punctuation">[</span>objA<span class="token punctuation">,</span> objB<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> obj <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heroActionCollider<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>tile<span class="token operator">?.</span>index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>tile<span class="token punctuation">.</span>wasHandled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>tile<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token constant">BOX_INDEX</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span>Keyboard<span class="token punctuation">.</span><span class="token function">JustDown</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>spaceKey<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    tile<span class="token punctuation">.</span>wasHandled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    <span class="token keyword">const</span> newPosition <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculatePushedTilePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token keyword">this</span><span class="token punctuation">.</span>tweens<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">targets</span><span class="token operator">:</span> tile<span class="token punctuation">,</span>
                        <span class="token literal-property property">pixelX</span><span class="token operator">:</span> newPosition<span class="token punctuation">.</span>x<span class="token punctuation">,</span>
                        <span class="token literal-property property">pixelY</span><span class="token operator">:</span> newPosition<span class="token punctuation">.</span>y<span class="token punctuation">,</span>
                        <span class="token literal-property property">ease</span><span class="token operator">:</span> <span class="token string">'Power2'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">700</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">onComplete</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handlePushedTileCompleted</span><span class="token punctuation">(</span>tile<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>This code contains 2 mysterious 🕵️ functions, <code class="language-text">calculatePushedTilePosition</code> and <code class="language-text">handlePushedTileCompleted</code>. The first one will calculate the new tile position after being pushed based on the hero position.</p>
<div class="copy-code-block"><button tabindex="12" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">calculatePushedTilePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> facingDirection <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">getFacingDirection</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>facingDirection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'up'</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">x</span><span class="token operator">:</span> position<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth<span class="token punctuation">,</span>
                <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">'right'</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth<span class="token punctuation">,</span>
                <span class="token literal-property property">y</span><span class="token operator">:</span> position<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">'down'</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">x</span><span class="token operator">:</span> position<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth<span class="token punctuation">,</span>
                <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> <span class="token string">'left'</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth<span class="token punctuation">,</span>
                <span class="token literal-property property">y</span><span class="token operator">:</span> position<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">x</span><span class="token operator">:</span> position<span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth<span class="token punctuation">,</span>
                <span class="token literal-property property">y</span><span class="token operator">:</span> position<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p>The <code class="language-text">handlePushedTileCompleted</code> function will remove the pushed tile and create a new one in the new position. This needs to be done because even though the tile position changed, the collision stays in the original position, I don’t know if this is by design or a bug on Phaser or in the grid-engine plugin.</p>
<div class="copy-code-block"><button tabindex="13" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">handlePushedTileCompleted</span><span class="token punctuation">(</span><span class="token parameter">tile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newTile <span class="token operator">=</span> tile<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>tilemapLayer<span class="token punctuation">.</span><span class="token function">putTileAt</span><span class="token punctuation">(</span>
        tile<span class="token punctuation">.</span>index<span class="token punctuation">,</span>
        newPosition<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth<span class="token punctuation">,</span>
        newPosition<span class="token punctuation">.</span>y <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight<span class="token punctuation">,</span>
        <span class="token boolean">true</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    newTile<span class="token punctuation">.</span>properties <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>tile<span class="token punctuation">.</span>properties<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    newTile<span class="token punctuation">.</span>wasHandled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    tile<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tile<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p><img src="/51cd88a1136dee62f6bb01810de39339/cutting-grass.gif" alt="Cutting grass"></p>
<h2 id="adding-enemies" style="position:relative;"><a href="#adding-enemies" aria-label="adding enemies permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding enemies</h2>
<p>To add enemies to the map, I will use Tiled objects layer, which I can access via the function <code class="language-text">map.getObjectLayer()</code>. First I will create an object layer called <code class="language-text">elements</code> and add some tiles with the “Insert Tile” button.</p>
<p></p><figure class="gatsby-resp-image-figure" style="">
    <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1010px; ">
      <span class="gatsby-resp-image-background-image" style="padding-bottom: 68.359375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC3ElEQVQoz3XO708ScQDHcf6pas2tWj2pmSPkZ6YogigIij8QTbgDDu/ue8cdnGbLuVSUUDQR7o7U0iBQeCTOxdRHjjbUBwjinDxza2oun/je5+lr+whWlqPhcCgajXAcy3FcMBgMhUJsJMxzHM+xbIRdWgovRthwOLLsm1z1TX2fmuLmF7joN5aPClaWuZVVPhZbWV/7sb6+zrKs3+/3B2a/zAb9s3OB6cD45PTHmbmJ8Yk5yh1dmonPfg6MjM7ML/gCQUEotMRx/MLXxXAkwvP8jN/vdDhcZh1iUrs6m/u7WxzdGrRLjffoGH2j12IatQ1STieKYzg6JNjf3/tz3eHh4UmhEIvHIBtEtgk92mpSX2sxqJwGOdEuZSxGTFOLWDpxyoMDAAABACHY3d3N5/O5XC6fzxeLxXg8DkNQ71uhRVENaSSIRoy0SGyqWsrcyvuoYTeGYlfuJsHe3t7R0dHOzs7BwUGpWPwZizlgiDbKR0xSxiTH28SgU+HSSui+pjXeNso4UJQgbrUgm83mrjs+Pj4/P/+VSNhhCFO9HtO/9LS+GWoWug1y0ijH26WwqgYZ6AGkG+D4P5xKpRKJRDqd3tzczGZ/sxyHOOyYsQ5uFCJqkQdW03SH16mhu5VecxNq7QEkBcAt3tra2t7ezmQy6XQ6k8lwPI847KSp3m1SUAYZTRl7p+3EJzPWWYdoZbitFyfd/3G5XK5UKhfXXV5eptJpO2QjuxoIowzopYxLC8bMw5j+g0qCGmqHIDMg7uBCoVAul09PT0ul0sXFRTKZtMMQ0tKAt8lH+uopg4zSiUdNyiltqw0WD6I9JLhz++Tk5Ozs7MZXKpWNjQ2b1VpT9az64WNRVdV7ndTjVMtePBU/f/Lq0YMOvY6mPTh+P4ZhuLFBo5AppaL6fquZGEHqFU1yiVIqemfpG3BT7ntxMplEEIRhPF4v7WVokiBxDHi8tPd6JEnewiv8F8sW+HURs/pCAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Insert a tile" title="Insert a tile" src="/static/0c6ede12e2b26092f9f120e5834da7f3/08990/tiled-insert-tile.png" srcset="/static/0c6ede12e2b26092f9f120e5834da7f3/e3135/tiled-insert-tile.png 256w,
/static/0c6ede12e2b26092f9f120e5834da7f3/06341/tiled-insert-tile.png 512w,
/static/0c6ede12e2b26092f9f120e5834da7f3/08990/tiled-insert-tile.png 1010w" sizes="(max-width: 1010px) 100vw, 1010px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Insert a tile</figcaption>
  </figure><p></p>
<p>I will also add a custom property <code class="language-text">enemyData</code> to this added tile with the value <code class="language-text">slime_red:follow:1:100</code>, which will be all the properties of my enemy, this values separated by <strong>“:</strong>” are <code class="language-text">enemyType:AIType:speed:health</code>. To get this values I will split the string and store all these data into an array to use later.</p>
<div class="copy-code-block"><button tabindex="14" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> enemiesData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dataLayer <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getObjectLayer</span><span class="token punctuation">(</span><span class="token string">'elements'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dataLayer<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> properties<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

    properties<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> type<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> property<span class="token punctuation">;</span>

        <span class="token keyword">switch</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">'enemyData'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> <span class="token punctuation">[</span>enemyType<span class="token punctuation">,</span> enemyAI<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> health<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                enemiesData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    x<span class="token punctuation">,</span>
                    y<span class="token punctuation">,</span>
                    <span class="token literal-property property">speed</span><span class="token operator">:</span> Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>speed<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    enemyType<span class="token punctuation">,</span>
                    <span class="token literal-property property">enemySpecies</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getEnemySpecies</span><span class="token punctuation">(</span>enemyType<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    enemyAI<span class="token punctuation">,</span>
                    <span class="token literal-property property">enemyName</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>enemyType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>enemiesData<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                    <span class="token literal-property property">health</span><span class="token operator">:</span> Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>health<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>Now the <code class="language-text">enemiesData</code> variable contains all the data for all the enemies on the map, so all that is left is to create enemy sprites with <code class="language-text">this.physics.add.sprite()</code> and add them to the <code class="language-text">gridEngineConfig.characters</code> array.</p>
<div class="copy-code-block"><button tabindex="15" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>enemiesSprites <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
enemiesData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">enemyData<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> enemySpecies<span class="token punctuation">,</span> enemyType<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> enemyName<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> enemyAI<span class="token punctuation">,</span> health <span class="token punctuation">}</span> <span class="token operator">=</span> enemyData<span class="token punctuation">;</span>
    <span class="token keyword">const</span> enemy <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">sprite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> enemyType<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>enemyType<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        enemy<span class="token punctuation">.</span><span class="token function">setTint</span><span class="token punctuation">(</span><span class="token number">0xF1374B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>enemyType<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        enemy<span class="token punctuation">.</span><span class="token function">setTint</span><span class="token punctuation">(</span><span class="token number">0x2BBD6E</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>enemyType<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        enemy<span class="token punctuation">.</span><span class="token function">setTint</span><span class="token punctuation">(</span><span class="token number">0xFFFF4F</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>enemyType<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        enemy<span class="token punctuation">.</span><span class="token function">setTint</span><span class="token punctuation">(</span><span class="token number">0x00A0DC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    enemy<span class="token punctuation">.</span>name <span class="token operator">=</span> enemyName<span class="token punctuation">;</span>
    enemy<span class="token punctuation">.</span>enemyType <span class="token operator">=</span> enemyType<span class="token punctuation">;</span>
    enemy<span class="token punctuation">.</span>enemySpecies <span class="token operator">=</span> enemySpecies<span class="token punctuation">;</span>
    enemy<span class="token punctuation">.</span>enemyAI <span class="token operator">=</span> enemyAI<span class="token punctuation">;</span>
    enemy<span class="token punctuation">.</span>speed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    enemy<span class="token punctuation">.</span>health <span class="token operator">=</span> health<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>enemiesSprites<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>enemy<span class="token punctuation">)</span><span class="token punctuation">;</span>

    gridEngineConfig<span class="token punctuation">.</span>characters<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> enemyName<span class="token punctuation">,</span>
        <span class="token literal-property property">sprite</span><span class="token operator">:</span> enemy<span class="token punctuation">,</span>
        <span class="token literal-property property">startPosition</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> x <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileWidth<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tileHeight<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        speed<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>To make the enemy follow the hero, I will simply use the <a href="https://annoraaq.github.io/grid-engine/api/methods.html#follow" target="_blank" rel="noreferrer">this.gridEngine.follow() function</a>.</p>
<p><img src="/3a4df19cbb0e4834a0aa0b26bb702dce/slime-enemy.gif" alt=""></p>
<h2 id="adding-items" style="position:relative;"><a href="#adding-items" aria-label="adding items permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding items</h2>
<p>For the items I will again use the Tiled objects layer I already created, called <code class="language-text">elements</code>. For now, I’m going to add two different items to the game, coins, and hearts, with a custom property called <code class="language-text">itemData</code>.</p>
<div class="copy-code-block"><button tabindex="16" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>itemsSprites <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dataLayer <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getObjectLayer</span><span class="token punctuation">(</span><span class="token string">'elements'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dataLayer<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> properties<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

    properties<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> type<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> property<span class="token punctuation">;</span>

        <span class="token keyword">switch</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">'itemData'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// it's only one value... for now.</span>
                <span class="token keyword">const</span> <span class="token punctuation">[</span>itemType<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">switch</span> <span class="token punctuation">(</span>itemType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token string">'coin'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add
                            <span class="token punctuation">.</span><span class="token function">sprite</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">'coin'</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setDepth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setOrigin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                        item<span class="token punctuation">.</span>itemType <span class="token operator">=</span> <span class="token string">'coin'</span><span class="token punctuation">;</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>itemsSprites<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">case</span> <span class="token string">'heart'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add
                            <span class="token punctuation">.</span><span class="token function">sprite</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">'heart'</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setDepth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">setOrigin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                        item<span class="token punctuation">.</span>itemType <span class="token operator">=</span> <span class="token string">'heart'</span><span class="token punctuation">;</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>itemsSprites<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>Now I just need to overlap the hero and the item group in the <code class="language-text">this.itemsSprites</code> variable.</p>
<div class="copy-code-block"><button tabindex="17" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">overlap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemsSprites<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">objA<span class="token punctuation">,</span> objB</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token punctuation">[</span>objA<span class="token punctuation">,</span> objB<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> obj <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>itemType <span class="token operator">===</span> <span class="token string">'heart'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span><span class="token function">restoreHealth</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>itemType <span class="token operator">===</span> <span class="token string">'coin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span><span class="token function">collectCoin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<h2 id="using-react-for-the-hud" style="position:relative;"><a href="#using-react-for-the-hud" aria-label="using react for the hud permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using React for the HUD</h2>
<p>In the overlap code with the items, I didn’t explain how the <code class="language-text">restoreHealth</code> and <code class="language-text">collectCoin</code> functions work, as they communicate directly with React, so first let’s see what this component looks like.</p>
<p>The HUD component in React is quite simple and contains 3 props, an integer <code class="language-text">screenWidth</code>, for the placement of the HUD on the screen, an integer <code class="language-text">coins</code>, to show the amount of collected coins, and a <code class="language-text">healthState</code> array, with the amount of hearts and whether they are empty, full or half.</p>
<div class="copy-code-block"><button tabindex="18" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> coinImage <span class="token keyword">from</span> <span class="token string">'../images/coin.png'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> healthImage <span class="token keyword">from</span> <span class="token string">'../images/health.png'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useStyles <span class="token operator">=</span> <span class="token function">makeStyles</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">theme</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">hudContainer</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> screenWidth <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> left <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">-</span> screenWidth<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">fontFamily</span><span class="token operator">:</span> <span class="token string">'"Press Start 2P"'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">textTransform</span><span class="token operator">:</span> <span class="token string">'uppercase'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">imageRendering</span><span class="token operator">:</span> <span class="token string">'pixelated'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'16px'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">16</span> <span class="token operator">+</span> <span class="token punctuation">(</span>left <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'flex'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">cursor</span><span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">userSelect</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">health</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'16px'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'16px'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">healthStateFull</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">backgroundSize</span><span class="token operator">:</span> <span class="token string">'48px 16px'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url("</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>healthImage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">") no-repeat 0 0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">healthStateHalf</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> healthState <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">backgroundSize</span><span class="token operator">:</span> <span class="token string">'48px 16px'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url("</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>healthImage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">") no-repeat -16px 0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">healthStateEmpty</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> healthState <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">backgroundSize</span><span class="token operator">:</span> <span class="token string">'48px 16px'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url("</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>healthImage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">") no-repeat -32px 0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">coin</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">backgroundSize</span><span class="token operator">:</span> <span class="token string">'16px 16px'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url("</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>coinImage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">") no-repeat 0 0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'16px'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'16px'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">coinFull</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">'11px'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">textShadow</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-1px 0 #FFFFFF, 0 1px #FFFFFF, 1px 0 #FFFFFF, 0 -1px #FFFFFF</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#119923'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">GameHeadsUpDisplay</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> screenWidth<span class="token punctuation">,</span> coins<span class="token punctuation">,</span> healthState <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token function">useStyles</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        screenWidth<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">.</span>hudContainer<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">.</span>healthContainer<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span>healthStates<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">healthState<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token operator">&lt;</span>div
                        key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span>
                        className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span>classes<span class="token punctuation">.</span>health<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                            <span class="token punctuation">[</span>classes<span class="token punctuation">.</span>healthStateFull<span class="token punctuation">]</span><span class="token operator">:</span> healthState <span class="token operator">===</span> <span class="token string">'full'</span><span class="token punctuation">,</span>
                            <span class="token punctuation">[</span>classes<span class="token punctuation">.</span>healthStateHalf<span class="token punctuation">]</span><span class="token operator">:</span> healthState <span class="token operator">===</span> <span class="token string">'half'</span><span class="token punctuation">,</span>
                            <span class="token punctuation">[</span>classes<span class="token punctuation">.</span>healthStateEmpty<span class="token punctuation">]</span><span class="token operator">:</span> healthState <span class="token operator">===</span> <span class="token string">'empty'</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                    <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">.</span>coinContainer<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">.</span>coin<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>span
                    className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        <span class="token punctuation">[</span>classes<span class="token punctuation">.</span>coinFull<span class="token punctuation">]</span><span class="token operator">:</span> coins <span class="token operator">&gt;=</span> <span class="token number">999</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                <span class="token operator">&gt;</span>
                    <span class="token punctuation">{</span>coins<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> GameHeadsUpDisplay<span class="token punctuation">;</span></code></pre></div></div>
<p>The code of the <code class="language-text">collectCoin</code> function just sends a JavaScript event with the number of coins the hero has.</p>
<div class="copy-code-block"><button tabindex="19" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">collectCoin</span><span class="token punctuation">(</span><span class="token parameter">heroCoins</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> customEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">'hero-coin'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">detail</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            heroCoins<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>customEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p>The <code class="language-text">restoreHealth</code> function is a bit more complex, as it has to deal with the possibility of empty, full, and half hearts.</p>
<div class="copy-code-block"><button tabindex="20" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">restoreHealth</span><span class="token punctuation">(</span><span class="token parameter">healthToRestore</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> healthStates <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>maxHealth <span class="token operator">/</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
            <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> health <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>health <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>health <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token string">'full'</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>health <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token string">'half'</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">'empty'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> customEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">'hero-health'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">detail</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            healthStates<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>customEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p>Well now that I’m looking at it again, it’s not that complex, but it took me a while to make everything work well.</p>
<p>So now my main <code class="language-text">GameComponent</code> looks like the following with the HUD:</p>
<div class="copy-code-block"><button tabindex="21" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">GameComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>heroCoins<span class="token punctuation">,</span> setHeroCoins<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>heroHealthStates<span class="token punctuation">,</span> setHeroHealthStates<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token function-variable function">heroCoinEventListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> detail <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setHeroCoins</span><span class="token punctuation">(</span>detail<span class="token punctuation">.</span>heroCoins<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hero-coin'</span><span class="token punctuation">,</span> heroCoinEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> <span class="token function-variable function">heroHealthEventListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> detail <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setHeroHealthStates</span><span class="token punctuation">(</span>detail<span class="token punctuation">.</span>healthStates<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hero-health'</span><span class="token punctuation">,</span> heroHealthEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'hero-coin'</span><span class="token punctuation">,</span> heroCoinEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'hero-health'</span><span class="token punctuation">,</span> heroHealthEventListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>GameHeadsUpDisplay
                coins<span class="token operator">=</span><span class="token punctuation">{</span>heroCoins<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"game-content"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></div>
<p><img src="/baaecacf779b133465977eb2a3eaeb10/collecting-items.gif" alt=""></p>
<h2 id="teleporting-to-another-map" style="position:relative;"><a href="#teleporting-to-another-map" aria-label="teleporting to another map permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Teleporting to another map</h2>
<p>All the code done so far only works for one map, the <code class="language-text">main-map</code>, however, my game has several maps, like houses, cities, and the overworld. Imagine having to copy all this code to other game scenes 😵.</p>
<p>Instead of doing that, I’m going to use the <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Types.Scenes.html#.SceneInitCallback" target="_blank" rel="noreferrer">init() function of the Phaser.Scene class</a> to pass information about the hero and which map to load in <code class="language-text">GameScene</code>.</p>
<div class="copy-code-block"><button tabindex="22" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>initData <span class="token operator">=</span> data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> heroStatus<span class="token punctuation">,</span> mapKey <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>initData<span class="token punctuation">;</span>

    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>make<span class="token punctuation">.</span><span class="token function">tilemap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">key</span><span class="token operator">:</span> mapKey <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addTilesetImage</span><span class="token punctuation">(</span><span class="token string">'tileset'</span><span class="token punctuation">,</span> <span class="token string">'tileset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span>layers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">layer<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">createLayer</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token string">'tileset'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">position</span><span class="token operator">:</span> initialPosition<span class="token punctuation">,</span>
        <span class="token literal-property property">health</span><span class="token operator">:</span> heroHealth<span class="token punctuation">,</span>
        <span class="token literal-property property">coin</span><span class="token operator">:</span> heroCoin<span class="token punctuation">,</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> heroStatus<span class="token punctuation">;</span>

    <span class="token keyword">const</span> heroSprite <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">sprite</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'hero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateHeroHealthUi</span><span class="token punctuation">(</span>heroHealth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateHeroCoinUi</span><span class="token punctuation">(</span>heroCoin<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> gridEngineConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">characters</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'hero'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">sprite</span><span class="token operator">:</span> heroSprite<span class="token punctuation">,</span>
            <span class="token literal-property property">startPosition</span><span class="token operator">:</span> initialPosition<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> gridEngineConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div>
<p>Now I can start my <code class="language-text">GameScene</code> with the code <code class="language-text">this.scene.start('GameScene', { heroStatus: { ...heroStatus }, mapKey: 'main-map' });</code>, and now I can start working on the code to teleport the hero between maps, and again I’m going to use Tiled’s object layer with a custom property named <code class="language-text">teleportTo</code> with the value <code class="language-text">mapKey:positionX:positionY</code>.</p>
<p>But what about starting the same game scene that you’re already in? For that there is the <code class="language-text">this.scene.restart()</code> function. So I’m going to create a custom collider to collide with the hero and teleport, add a fade-out, and pass all the hero and new map data to <code class="language-text">this.scene.restart()</code>.</p>
<div class="copy-code-block"><button tabindex="23" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button"><span class="MuiButton-label">Copy</span></button><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>itemsSprites <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dataLayer <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getObjectLayer</span><span class="token punctuation">(</span><span class="token string">'elements'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dataLayer<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> properties<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

    properties<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> type<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> property<span class="token punctuation">;</span>

        <span class="token keyword">switch</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">'teleportTo'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> <span class="token punctuation">[</span>mapKey<span class="token punctuation">,</span> teleportToX<span class="token punctuation">,</span> teleportToY<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> customCollider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GameObjects<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOrigin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">const</span> <span class="token constant">SCENE_FADE_TIME</span> <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>

                <span class="token keyword">const</span> overlapCollider <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">overlap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">,</span> customCollider<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>physics<span class="token punctuation">.</span>world<span class="token punctuation">.</span><span class="token function">removeCollider</span><span class="token punctuation">(</span>overlapCollider<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">const</span> facingDirection <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gridEngine<span class="token punctuation">.</span><span class="token function">getFacingDirection</span><span class="token punctuation">(</span><span class="token string">'hero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    camera<span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token constant">SCENE_FADE_TIME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">delayedCall</span><span class="token punctuation">(</span><span class="token constant">SCENE_FADE_TIME</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                            <span class="token literal-property property">heroStatus</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> teleportToX<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> teleportToY <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">health</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>health<span class="token punctuation">,</span>
                                <span class="token literal-property property">coin</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heroSprite<span class="token punctuation">.</span>coin<span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">mapKey</span><span class="token operator">:</span> teleportToMapKey<span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p><img src="/639b8857e51b89d20ad24475f5c818f7/teleporting.gif" alt=""></p>
<h2 id="special-thanks" style="position:relative;"><a href="#special-thanks" aria-label="special thanks permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Special thanks</h2>
<p>This game would not be possible without the help of some amazing people and their work, so here is my list of special thanks.</p>
<ul>
<li><a href="https://github.com/photonstorm" target="_blank" rel="noreferrer">photonstorm</a>, for creating <a href="https://github.com/photonstorm/phaser" target="_blank" rel="noreferrer">Phaser.io</a>.</li>
<li><a href="https://github.com/Annoraaq" target="_blank" rel="noreferrer">Annoraaq</a>, for creating the <a href="https://github.com/Annoraaq/grid-engine" target="_blank" rel="noreferrer">grid-engine</a> plugin.</li>
<li><a href="https://itch.io/profile/armm1998" target="_blank" rel="noreferrer">ArMM1998</a>, for the <a href="https://opengameart.org/content/zelda-like-tilesets-and-sprites" target="_blank" rel="noreferrer">characters sprites and tilesets</a>.</li>
<li><a href="https://elthen.itch.io/" target="_blank" rel="noreferrer">PixElthen</a>, for the <a href="https://elthen.itch.io/2d-pixel-art-small-slime-sprites" target="_blank" rel="noreferrer">slime sprites</a>.</li>
<li><a href="https://itch.io/profile/pixelartm" target="_blank" rel="noreferrer">pixelartm</a>, for the <a href="https://opengameart.org/content/pirate-1" target="_blank" rel="noreferrer">pirate hat sprites</a>.</li>
<li><a href="https://opengameart.org/users/jkjkke" target="_blank" rel="noreferrer">jkjkke</a>, for the <a href="https://opengameart.org/content/background-6" target="_blank" rel="noreferrer">Game Over screen background</a>.</li>
<li><a href="https://opengameart.org/users/knoblepersona" target="_blank" rel="noreferrer">KnoblePersona</a>, for the <a href="https://opengameart.org/content/ocean-background" target="_blank" rel="noreferrer">Main Menu screen background</a>.</li>
<li><a href="https://opengameart.org/users/min" target="_blank" rel="noreferrer">Min</a>, for the <a href="https://opengameart.org/content/open-book-0" target="_blank" rel="noreferrer">open book sprite</a>.</li>
</ul>
<h2 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="post-headers-link before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>It was a lot of fun creating this small project. I actually made this game as a new way to access my blog, but with all this boilerplate code done, I might end up making a new game out of it, let’s see 👀.</p>
<p>There is more code into the “real” game than shown here in this blog post, so go check out <a href="https://github.com/blopa/top-down-react-phaser-game" target="_blank" rel="noreferrer">the GitHub repo for this project</a>.</p>
<p>See you in the next one!</p></section></article><p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextPrimary">Tags: </p><ul class="jss5"><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/coding">coding</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/games">games</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/javascript">javascript</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/phaser">phaser</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/phaser-3">phaser 3</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/react">react</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/dialog-box">dialog box</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/rpg">rpg</a></li><li class="jss6"><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/blog/tags/rpg-maker">rpg maker</a></li></ul><nav><ul></ul></nav><div><h6 class="MuiTypography-root MuiTypography-h6 MuiTypography-colorTextSecondary">Related posts</h6><div class="jss41"><div class="jss42"><a href="/en/blog/coding/creating-a-dialog-box-with-react-for-a-phaser-game/"><div class="MuiPaper-root MuiCard-root jss43 MuiPaper-elevation1 MuiPaper-rounded"><p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextSecondary">Creating a dialog box with React for a Phaser game</p></div></a></div><div class="jss42"><a href="/en/blog/coding/i-made-a-top-down-game-version-of-my-blog-with-phaser-and-react/"><div class="MuiPaper-root MuiCard-root jss43 MuiPaper-elevation1 MuiPaper-rounded"><p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextSecondary">I made a top-down game version of my blog with Phaser and React</p></div></a></div><div class="jss42"><a href="/en/blog/games/how-to-load-assets-asynchronously-with-phaser-3/"><div class="MuiPaper-root MuiCard-root jss43 MuiPaper-elevation1 MuiPaper-rounded"><p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextSecondary">How to load assets asynchronously with Phaser 3</p></div></a></div></div></div><section><hr class="MuiDivider-root"/><h6 class="MuiTypography-root jss4 MuiTypography-h6 MuiTypography-colorTextSecondary">Post a comment</h6><div class="jss3"><div class="MuiFormControl-root MuiTextField-root"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated" data-shrink="false">Comment</label><div class="MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-formControl MuiInput-formControl"><input type="text" aria-invalid="false" class="MuiInputBase-input MuiInput-input"/></div></div></div><div class="MuiCollapse-root MuiCollapse-hidden" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><div class="MuiFormControl-root jss1"><form><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth" style="margin:5px 0"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated Mui-required Mui-required" data-shrink="false">Name<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> <!-- -->*</span></label><div class="MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-fullWidth MuiInput-fullWidth MuiInputBase-formControl MuiInput-formControl"><input type="text" aria-invalid="false" name="1953327618" required="" class="MuiInputBase-input MuiInput-input"/></div></div><span title="Fill this in if you want me to contact you back" class=""><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth" style="margin:5px 0"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated" data-shrink="false">Email</label><div class="MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-fullWidth MuiInput-fullWidth MuiInputBase-formControl MuiInput-formControl"><input type="email" aria-invalid="false" name="1309141965" class="MuiInputBase-input MuiInput-input"/></div></div></span><span title="Fill this in if you want me to contact you back" class=""><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth" style="margin:5px 0"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated" data-shrink="false">Twitter</label><div class="MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-fullWidth MuiInput-fullWidth MuiInputBase-formControl MuiInput-formControl"><input type="text" aria-invalid="false" name="740186305" class="MuiInputBase-input MuiInput-input"/></div></div></span><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth" style="margin:5px 0"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated Mui-required Mui-required" data-shrink="false">Comment<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> <!-- -->*</span></label><div class="MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-fullWidth MuiInput-fullWidth MuiInputBase-formControl MuiInput-formControl MuiInputBase-multiline MuiInput-multiline"><textarea rows="4" aria-invalid="false" name="1663940054" required="" maxLength="300" class="MuiInputBase-input MuiInput-input MuiInputBase-inputMultiline MuiInput-inputMultiline"></textarea><textarea aria-hidden="true" class="MuiInputBase-input MuiInput-input MuiInputBase-inputMultiline MuiInput-inputMultiline" readonly="" tabindex="-1" style="visibility:hidden;position:absolute;overflow:hidden;height:0;top:0;left:0;transform:translateZ(0)"></textarea></div></div><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth" style="display:none"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiFormLabel-filled Mui-required Mui-required" data-shrink="true">post_path<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> <!-- -->*</span></label><div class="MuiInputBase-root MuiInput-root MuiInput-underline MuiInputBase-fullWidth MuiInput-fullWidth MuiInputBase-formControl MuiInput-formControl"><input type="text" aria-invalid="false" name="1852628638" required="" value="how-to-create-a-top-down-rpg-maker-like-game-with-phaser-js-and-react" class="MuiInputBase-input MuiInput-input"/></div></div><button class="MuiButtonBase-root MuiButton-root MuiButton-contained jss44" tabindex="0" type="submit"><span class="MuiButton-label">Post comment</span></button></form></div></div></div></div><hr class="MuiDivider-root"/><div class="jss2"><h6 class="MuiTypography-root MuiTypography-h6 MuiTypography-colorTextSecondary">Comments</h6><p class="MuiTypography-root MuiTypography-body2 MuiTypography-colorTextSecondary">No comments yet.</p></div></section></main><hr class="MuiDivider-root"/><footer class="jss11"><p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextPrimary">Built with <a href="https://www.gatsbyjs.com/" rel="noreferrer" target="_blank">Gatsby</a> | <a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/contact">Contact</a> | <a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/cookie-policy">Cookie policy</a> | <a href="https://bunq.me/BuyMeASoda" rel="noreferrer" target="_blank">🥤 <!-- -->Buy me a soda</a></p></footer></div><div class="MuiSnackbar-root MuiSnackbar-anchorOriginBottomLeft"><div class="MuiPaper-root MuiSnackbarContent-root MuiPaper-elevation6" role="alert" style="opacity:0;transform:scale(0.75, 0.5625)" direction="up"><div class="MuiSnackbarContent-message">We use cookies to ensure you get the best experience on our website. By using our website you agree to our <a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="/en/cookie-policy">Cookie policy</a></div><div class="MuiSnackbarContent-action"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textSecondary MuiButton-textSizeSmall MuiButton-sizeSmall" tabindex="0" type="button"><span class="MuiButton-label">Got it!</span></button></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-10504378-8', 'pablo.gg', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/en/blog/coding/how-to-create-a-top-down-rpg-maker-like-game-with-phaser-js-and-react/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-815624e254091731cbf5.js"],"app":["/app-c0f78eba1fbcbce45668.js"]};/*]]>*/</script><script src="/polyfill-815624e254091731cbf5.js" nomodule=""></script><script src="/app-c0f78eba1fbcbce45668.js" async=""></script><script src="/c2b2cfdd-f0c59ad8d0b1e27144de.js" async=""></script><script src="/eaafc78b-b53461537c493658f477.js" async=""></script><script src="/framework-676faaaf804db98cee52.js" async=""></script><script src="/webpack-runtime-836ef63cb83949429fe5.js" async=""></script></body></html>