{"html":"<p>This week I was working on my project <a href=\"https://github.com/blopa/Resume-Builder\" target=\"_blank\" rel=\"noreferrer\">Resume Builder</a> and I wanted to be able to create a button that downloads a JSON without using JavaScript.</p>\n<p>The only way I knew how to do that was by using <code class=\"language-text\">URL.createObjectURL</code> in a <code class=\"language-text\">blob</code> file, but that wouldn’t work for me, because this link would be inside a PDF file.</p>\n<p>Then I did the first thing any millennial would do, I searched on Stack Overflow, but I couldn’t find anything… how is that even possible? Well anyway, with some trial and error I was able to do it by using Base 64.</p>\n<p>Let’s say I want to create a download button that will download a JSON like <code class=\"language-text\">{ foo: 'bar' }</code>, first we need to convert it to a Base 64 string, we can do that with the native <code class=\"language-text\">btoa</code> JavaScript function:</p>\n<div class=\"copy-code-block\"><button tabindex=\"0\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">foo</span><span class=\"token operator\">:</span> <span class=\"token string\">'bar'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> jsonString <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> base64Json <span class=\"token operator\">=</span> <span class=\"token function\">btoa</span><span class=\"token punctuation\">(</span>jsonString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// eyJmb28iOiJiYXIifQ==</span></code></pre></div></div>\n<p>Ok now that I know what is the Base 64 value for the <code class=\"language-text\">{ foo: 'bar' }</code> object, I can create an <code class=\"language-text\">anchor</code> element like the following:</p>\n<div class=\"copy-code-block\"><button tabindex=\"1\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data:application/json;base64,eyJmb28iOiJiYXIifQ==<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">download</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>object.json<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>download<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div></div>\n<p>And that’s all. In my case, I just needed the code to be served as HTML, and since I’m using Gatsby, my actual code is a React element that will be SSR for my PDF file:</p>\n<div class=\"copy-code-block\"><button tabindex=\"2\" type=\"button\" class=\"MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary copy-code-button\"><span class=\"MuiButton-label\">Copy</span></button><div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> DownloadJsonLink <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    children<span class=\"token punctuation\">,</span>\n    json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    name <span class=\"token operator\">=</span> <span class=\"token string\">'object.json'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> href <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> base64Data <span class=\"token operator\">=</span> <span class=\"token function\">btoa</span><span class=\"token punctuation\">(</span><span class=\"token function\">unescape</span><span class=\"token punctuation\">(</span><span class=\"token function\">encodeURIComponent</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">data:application/json;base64,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>base64Data<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">return</span> <span class=\"token string\">'#'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">[</span>json<span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>a\n            href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>href<span class=\"token punctuation\">}</span>\n            download<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span>\n            target<span class=\"token operator\">=</span><span class=\"token string\">\"_blank\"</span>\n        <span class=\"token operator\">&gt;</span>\n            <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">&gt;</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> DownloadJsonLink<span class=\"token punctuation\">;</span></code></pre></div></div>\n<p>I knew it was possible to do this to download an image, but I had never tried for other types of files.</p>\n<p>It is amazing to still learn HTML things even after many years of experience, and I hope that someone else learns something new with this post. See you next time.</p>","path":"/en/blog/coding/how-to-create-a-json-download-link-using-html-only/","title":"How to create a JSON download link using HTML only","language":"en","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTA1LTA5VDAwOjAwOjAwLjAwMFo=","comments":[{"comment":"I had to create something similar for my weightlifting web application, to allow exporting your progress. When the user clicks a button, I dynamically generate this kind of anchor tag, and click it. Obviously this uses JS though. \n\nhttps://github.com/SamuelNorbury/norbury-lifts/blob/master/src/web/utils/export.js","name":"Shmu","date":"5/17/2021 10:54:36"}],"relatedPosts":[{"path":"/en/blog/coding/building-a-dynamic-form-from-a-json-schema/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTA1LTIxVDAwOjAwOjAwLjAwMFo=","title":"Building a dynamic form from a JSON schema","date":"2021-05-21T00:00:00.000Z"},{"path":"/en/blog/coding/adding-a-copy-button-to-code-snippets-on-gatsby-the-lazy-way/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIyLTA1LTA1VDAwOjAwOjAwLjAwMFo=","title":"Adding a copy button to code snippets on Gatsby: The lazy way","date":"2022-05-05T00:00:00.000Z"},{"path":"/en/blog/coding/how-to-calculate-brazils-annual-inflation-using-javascript/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIxLTA1LTEzVDAwOjAwOjAwLjAwMFo=","title":"How to calculate the annual inflation in Brazil using JavaScript","date":"2021-05-13T00:00:00.000Z"},{"path":"/en/blog/coding/how-an-open-source-project-landed-me-a-job-abroad/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIwLTA5LTIzVDAwOjAwOjAwLjAwMFo=","title":"How an open source project landed me a job abroad","date":"2020-09-23T00:00:00.000Z"},{"path":"/en/blog/coding/sharing-encrypted-laravel-cookies-with-next-js/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDI0LTEwLTI1VDAwOjAwOjAwLjAwMFo=","title":"Sharing encrypted Laravel cookies with Next.js","date":"2024-10-25T00:00:00.000Z"},{"path":"/en/blog/coding/musclog-leveraging-my-reactjs-experience-to-build-a-react-native-app/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDI0LTA5LTIxVDAwOjAwOjAwLjAwMFo=","title":"Musclog: Leveraging my React.js experience to build a React Native App","date":"2024-09-21T00:00:00.000Z"},{"path":"/en/blog/coding/tracking-my-working-hours-on-personal-projects-ssing-nodejs/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDI0LTA2LTE2VDAwOjAwOjAwLjAwMFo=","title":"Tracking my working hours on personal projects using Node.js","date":"2024-06-16T00:00:00.000Z"},{"path":"/en/blog/coding/transforming-manga-pages-for-western-readers/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDI0LTA1LTAxVDAwOjAwOjAwLjAwMFo=","title":"Transforming manga pages for lazy western readers","date":"2024-05-01T00:00:00.000Z"},{"path":"/en/blog/coding/creating-instagram-reels-coding-tutorials-automatically-with-openais-gpt/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIzLTEyLTIwVDAwOjAwOjAwLjAwMFo=","title":"Creating Instagram Reels coding tutorials automatically with OpenAI's GPT","date":"2023-12-20T00:00:00.000Z"},{"path":"/en/blog/coding/how-to-automatically-create-thumbnails-for-your-videos-with-nodejs/","postHashId":"Y29kaW5ndHJ1ZW51bGwyMDIzLTEwLTI1VDAwOjAwOjAwLjAwMFo=","title":"How to automatically create thumbnails for your videos with Node.js","date":"2023-10-25T00:00:00.000Z"}]}